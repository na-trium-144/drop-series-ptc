'===============
' Drop-c  by Na 
'===============

'SAVE "NA_DRPC","73FC"
'Package:
' SPU2,3,4,5,6,7
' BGU0,1,BGF0,COL0,1
'0111 0011 1111 1100

'LIST @LIST

'COL
'bg00,08:BG
'bg3:slop←bg8
'bg1,2→sp9:C01(grnd)
'bg4-D→grp4-D:MenuBGM

'grp3:コンホ゛
'grpFL:Score
'grpF:MenuBGM(EX)
' (F0,F7,F8,FF)

'sp7  :B01(2)
'sp8  :PN1(14)
'spA-E:C01(sb4)

ICONCLR
PNLTYPE "OFF"
COLOR 0,0:CLS
GPAGE 1,1,1:GCOLOR 0
FOR P=3 TO 0 STEP -1
 GPAGE 0,P,0:GCOLOR 0:GCLS 
NEXT
GDRAWMD 0
SPPAGE 1:SPCLR 
SPPAGE 0:SPCLR 
BGPAGE 1:BGCLR 
BGPAGE 0:BGCLR 
BGOFS 0,0,0:BGOFS 1,0,0
CLEAR
BGMSTOP 

DEBUG=0

?"Loading...
MEM$=""
SYSBEEP=0
SAVFILE$="MEM:NA_DRPC"
LOAD SAVFILE$,0

IF PACKAGE$=="73FC" THEN @LDSKIP

LOAD "BGU0U:DROPC_GB",0
'LOAD "BGU0U:SLOP",0
LOAD "BGU1U:DROPC_LG",0

'LOAD "BGF0U:HIRAKATA",0
LOAD "BGF0U:DROPC_F",0

'LOAD "SPU1U:NUM16",0
'LOAD "SPU2U:DROPV_S2",0
LOAD "SPU2U:NUM16_VC",0
LOAD "SPU3U:SBCH_PN1",0
LOAD "SPU4U:DROPC_F2",0
LOAD "SPU5U:DROPC_F1",0
LOAD "SPU6U:DROPM_S6",0 'X03+SPU6
'LOAD "SPU7U:SBCH_X01",0
LOAD "SPU7U:SBCH_X02",0

'LOAD "SCU0U:DRP2",0

'LOAD "COL0U:DROPM_GB",0
'LOAD "COL0U:SBCL_C01",0
LOAD "COL0U:DROPC_BG",0
'LOAD "COL1U:SBCL_X01",0
'LOAD "COL1U:DROPM_SP",0
'LOAD "COL1U:SBCL_PN1",0
LOAD "COL1U:DROPC_SP",0
'LOAD "COL2U:DROPM_G",0

'LOAD "GRP2:DROPM_G",0

FOR _RUN=1 TO 0
COLINIT "SP"

LOAD "COL0U:SBCL_C01",0
FOR CRI=&HA0 TO &HEF
 CRB$="BG":GOSUB @COLRD
 COLSET "SP",CRI,C$
NEXT
FOR C=4 TO 6
 CRB$="BG":CRI=&H20+C:GOSUB @COLRD
 COLSET "SP",&H90+C,C$
NEXT
FOR C=7 TO 9
 CRB$="BG":CRI=&H10+C:GOSUB @COLRD
 COLSET "SP",&H90+C,C$
NEXT

LOAD "COL0U:SBCL_PN1",0
FOR I=&H0 TO &HF
 CRB$="BG":CRI=&HE0+I:GOSUB @COLRD
 COLSET "SP",&H80+I,C$
NEXT

LOAD "COL0U:SBCL_B01",0
FOR I=&H0 TO &HF
 CRB$="BG":CRI=&H20+I:GOSUB @COLRD
 COLSET "SP",&H70+I,C$
NEXT
SAVE "COL1U:DROPC_SP"
END
NEXT

BEEP 
@LDSKIP

SPNUM16=64*2
SPNUM12=64*2+32
SPSTAR=64*2+28
SPNOTE=64*2+16
SPNOTE1=64*2+42
SPNOTE2=64*2+43
'SPNULL=SPNUM16+10
SPNULL=64*2+60

SPX01=64*7
SPX02=64*7
SPX03=64*6
SPPN1=64*3

SPNUM16_L=64*0
SPSTAR_L=64*0+28
SPNUM8_L=64*1
'SPNULL_L=SPNUM16_L+10
SPNULL_L=64*0+60

@PFONTDAT
'フォントノ ハハ゛ヲ シラヘ゛ル フ゜ロク゛ラム
FOR _RUN=1 TO 0
 P$=""
 K=1
 FOR C=0 TO 255
  GFILL 0,0,7,7,0
  GPUTCHR 0,0,"BGF0",C,0,1
  S=-1
  FOR X=0 TO 7
   FOR Y=0 TO 7
    IF GSPOIT(X,Y) THEN S=X:X=8:Y=8
   NEXT
  NEXT
  E=-1
  FOR X=7 TO 0 STEP -1
   FOR Y=0 TO 7
    IF GSPOIT(X,Y) THEN E=X:X=-1:Y=8
   NEXT
  NEXT
  IF S>=0 THEN P$=P$+CHR$(&H80 OR S*8 OR E)
  IF S==-1 THEN P$=P$+CHR$(&H7F)
  IF LEN(P$)==64 THEN KEY K,"DATA"+CHR$(34)+P$:K=K+1:P$=""
 NEXT
 END
NEXT
DATA"┣┣┳┣┣┣┣┣┷┣┣┣┷┣┣┣┣┣┣┣┣┣━┣┣┣┣┷┷┿┿┝┯┷┨┷┷┤││┣┣┤┣┤┣┨─┨┨┨┨┨┨┨┨┤┤│┨┯┨
DATA"┨┷┷┷┷┷┷┷┷┝│┷┷┣┷┷┷┳┷┷┣┷┷┣┣┣┷─┨─┨┣┤┨┨┨┨┨│┨┨┰─┨┰┣┨┨┨┨┨┨│┨┨┳┷┨┨│┝┯┨┣
DATA"┣┠│┯┠┤┗┗┗┛┗┗┗┗┗┛┨┣┣┗┣┣┣┗┯┣┣┗┗┣┣┗┣┠│┯┠┤┗┛┯┛┛┛┛┗┯┛┨┣┗┣┣┣┗┣┗┣┗┣┣┗┗┗
DATA"┗┣┣┣┛┗┗┗┣┗┗┗┗┣┣┣┗┣┗┣┣┣┗┗┛┣┗┗┗┗┓┓┣┗┣┣┗┣┣┣┣┣┣┣┣┣┣┗┣┣┣┣┣┣┗┗┛┗┣┗┣┣┓┓
DIM PFT_S[256],PFT_W[256]
RESTORE @PFONTDAT
I=0
FOR K=0 TO 3
 READ P$
 FOR J=0 TO LEN(P$)-1
  C=ASC(MID$(P$,J,1))
  IF NOT C AND &H80 THEN S=-1:W=0
  IF C AND &H80 THEN S=C/8 AND 7:E=C AND 7:W=E-S
  PFT_S[I]=S
  PFT_W[I]=W
  I=I+1
 NEXT
NEXT
' ゛ ノ チョウセイ
PFT_S[&HDE]=1
PFT_S[&HFE]=1
'PFT_W[ASC("#")]=PFT_W[ASC("#")]+1

@PFONTD_1
'0123456789abcdef
'BGMLSPCcaAf#R ハイ
'imtelodyunチュマシッИ
'ハイスコアクリフルンホェトャレシ
'゛゜!-コウシンキョノリスタトッ
'ロタムミカ()
DATA 2,7,2,7,2,8,2,8,2,7,2,8,2,7,2,6,2,6,2,8,2,6,2,7,2,8,-1,0,1,10,2,8
DATA 2,3,1,10,1,7,2,6,2,3,2,6,2,7,2,8,2,7,2,7,1,10,1,9,1,10,2,9,2,7,1,10
DATA 1,10,2,8,2,9,2,8,1,10,2,8,2,6,1,9,1,10,2,9,2,9,1,9,2,6,1,8,2,8,2,9
DATA 4,4,2,4,2,2,2,9,2,9,1,8,3,6,1,9,2,9,2,7,2,10,2,7,1,9,1,10,3,8,2,7
DATA 1,9,2,8,2,8,3,8,2,9,2,5,4,7
DIM PFT1_S[64+7],PFT1_W[64+7]
FOR I=0 TO 64+7-1
 READ PFT1_S[I],PFT1_W[I]
NEXT

SYSBEEP=1

BREPEAT 0,13,8
BREPEAT 1,13,8
BREPEAT 2,20,11
BREPEAT 3,20,11
BREPEAT 4
BREPEAT 5
BREPEAT 6
BREPEAT 7
SPPAGE 0
BGPAGE 0
GPAGE 0,0,0

FOR I=0 TO 255
 'SPU2カラSPS0Lニコヒ゜-
 CHRREAD("SPU2",I),C$
 CHRSET "SPS0L",I,C$
NEXT

FOR I=0 TO 9
 CHRREAD("BGF0",48+I),C$
 CHRSET "SPU0",I*4,C$
 CHRSET "SPS1L",I*4,C$
NEXT

'SCR
'slop 0,1:(0,40)~(31,63)
''grnd 0:(0,33)~(31,38)
'logo 1:(0,19)~(31,39)
'menu 0,1:(32,0)~

'slop0
FOR I=0 TO 13 STEP 2
 Y=39+I
 X=29-3*I/2
 BGFILL 0,X,Y  ,X+2,Y  ,"30A030A130A2"
 BGFILL 0,X,Y+1,X+2,Y+1,"30C030C130C2"
 BGFILL 0,X,Y+2,X+2,Y+2,"30E030E130E2"
NEXT

'slop1
J=0
FOR Y=0 TO 3 STEP 2
 BGFILL 1,3,51+Y,31,51+Y,"20462047"
 BGFILL 1,3,52+Y,31,52+Y,"20662067"
NEXT
FOR Y=0 TO 8 STEP 2
 BGFILL 1,3,55+Y,31,55+Y,"10441045"
 BGFILL 1,3,56+Y,31,56+Y,"10641065"
NEXT

'BGFILL 1,3,55,3,63,"4010"
'BGFILL 1,4,55,31,63,"40134016"
SCX_SLOP=-4
SCY_SLOP=39*8+6

'logo(slop)
FOR Y=0 TO 3
 FOR X=0 TO 7
  BGPUT 1,23+X,40+5+Y,&H0100+Y*32+X+24
 NEXT
NEXT

'grnd0
'FOR Y=0 TO 3 STEP 2
' BGFILL 0,0,30+Y,31,30+Y,"20462047"
' BGFILL 0,0,31+Y,31,31+Y,"20662067"
'NEXT
'FOR Y=0 TO 5 STEP 2
' BGFILL 0,0,34+Y,31,34+Y,"10441045"
' BGFILL 0,0,35+Y,31,35+Y,"10641065"
'NEXT
'SCX_GRND=0
'SCY_GRND=(39-24)*8-2
GY_GRND=192-8*8+2
CHA_GY=192-52

'logobig
FOR Y=0 TO 7
 FOR X=0 TO 16
  BGPUT 1,X+7,Y+24,&H0100+Y*32+X
 NEXT
 FOR X=0 TO 5+(Y>=4)
  BGPUT 1,X+24,Y+27,&H0100+Y*32+X+18
 NEXT
NEXT


GPAGE 0,2,0
FOR J=0 TO 2
 Y=J*2+0
 GPUTCHR 0,Y*8,"BGU0",&H46,2,1
 GPUTCHR 8,Y*8,"BGU0",&H47,2,1
 Y=J*2+1
 GPUTCHR 0,Y*8,"BGU0",&H66,2,1
 GPUTCHR 8,Y*8,"BGU0",&H67,2,1
NEXT
FOR Y=4 TO 9 STEP 2
 GPUTCHR 0,Y*8,"BGU0",&H44,1,1
 GPUTCHR 8,Y*8,"BGU0",&H45,1,1
 GPUTCHR 0,(Y+1)*8,"BGU0",&H64,1,1
 GPUTCHR 8,(Y+1)*8,"BGU0",&H65,1,1
NEXT
FOR X=2 TO 31 STEP 1/4096
 GCOPY 2,0,0,X*8-1,10*8-1,X*8,0,1
 X=X*2
NEXT
GPAGE 0,0,0

FOR X=0 TO 7 STEP 2
 FOR Y=0 TO 2
  CHRREAD("BGU0",&H46+&H20*(Y%2)),C$
  CHRSET "SPU0",Y*8+X,C$
  CHRREAD("BGU0",&H47+&H20*(Y%2)),C$
  CHRSET "SPU0",Y*8+X+1,C$
 NEXT
 FOR Y=0 TO 4
  CHRREAD("BGU0",&H44+&H20*(Y%2)),C$
  CHRSET "SPU0",(3+Y)*8+X,C$
  CHRREAD("BGU0",&H45+&H20*(Y%2)),C$
  CHRSET "SPU0",(3+Y)*8+X+1,C$
 NEXT
NEXT


GS=1:GP=0:GPP=1
SREV=0

'イロセッテイ
EX=0:NEX=0
DIM BG_C$[2],BTN_C$[3,2]

BG_CR=0:BG_CG=130:BG_CB=255
BTN_CR=255:BTN_CG=255:BTN_CB=255
DIF_CR=BTN_CR-BG_CR:DIF_CG=BTN_CG-BG_CG:DIF_CB=BTN_CB-BG_CB

BG_C$[0]=HEX$(BG_CR,2)+HEX$(BG_CG,2)+HEX$(BG_CB,2)
TR=.15
BTN_C$[0,0]=HEX$(BG_CR+DIF_CR*TR,2)+HEX$(BG_CG+DIF_CG*TR,2)+HEX$(BG_CB+DIF_CB*TR,2)
TR=.30
BTN_C$[1,0]=HEX$(BG_CR+DIF_CR*TR,2)+HEX$(BG_CG+DIF_CG*TR,2)+HEX$(BG_CB+DIF_CB*TR,2)
BTN_C$[2,0]="FFFFFF"

BG_CR=255:BG_CG=120:BG_CB=50
DIF_CR=BTN_CR-BG_CR:DIF_CG=BTN_CG-BG_CG:DIF_CB=BTN_CB-BG_CB

BG_C$[1]=HEX$(BG_CR,2)+HEX$(BG_CG,2)+HEX$(BG_CB,2)
TR=.15
BTN_C$[0,1]=HEX$(BG_CR+DIF_CR*TR,2)+HEX$(BG_CG+DIF_CG*TR,2)+HEX$(BG_CB+DIF_CB*TR,2)
TR=.30
BTN_C$[1,1]=HEX$(BG_CR+DIF_CR*TR,2)+HEX$(BG_CG+DIF_CG*TR,2)+HEX$(BG_CB+DIF_CB*TR,2)
BTN_C$[2,1]="404020"

BG_C$[1]=BG_C$[0]

COLSET "BG",0,BG_C$[EX]
'COLSET "BG",&HC1,BTN_C$[0,0]
'COLSET "BG",&HC2,BTN_C$[1,0]
'COLSET "BG",&HD1,BTN_C$[0,1]
'COLSET "BG",&HD2,BTN_C$[1,1]

'BGモシ゛(GRPハ ツカワナイ)
'COLSET "BG",&HC7,BTN_C$[2,0]
'COLSET "BG",&HD7,BTN_C$[2,1]

'GPUTCHRスルタメ
'COLSET "BG",&HCE,BTN_C$[2,0]
'COLSET "BG",&HCD,BTN_C$[2,0]
'COLSET "BG",&HDE,BTN_C$[0,1]
'COLSET "BG",&HDD,BTN_C$[1,1]

FOR _RUN=1 TO 0
LOAD "COL0U:SBCL_C01",0

'bg8→bg3
FOR C=1 TO 12
 CRB$="BG":CRI=&H80+C:GOSUB @COLRD
 COLSET "BG",&H30+C,C$
NEXT

@COL0
'Fノモシ゛ハ ハンテンテ゛ キエル
'    1,3    2,4           F   
'      B      C    9,7    A   
'    Dark  ,Light ,ExDark,Text
DATA 444444,555555,DDDDDD,EEEEEE
DATA 33AAAA,44BBBB,DDFFFF,EEFFFF
DATA AAAA33,BBBB44,FFFFDD,FFFFEE
DATA AA33AA,BB44BB,FFDDFF,FFEEFF
DATA 33CC33,66CC66,DDFFDD,EEFFEE
DATA 3333DD,4444FF,DDDDFF,EEEEFF
DATA DD2C30,FE2C30,FFDDDD,FFEEEE

DATA FF66FF,FF99FF,221122,332233
DATA FFFF66,FFFF99,222211,333322
DATA 66FFFF,99FFFF,112222,223333
'DATA DDDDDD,EEEEEE,222222,333333

RESTORE @COL0
FOR P=&H40 TO &HD0 STEP &H10
 READ B1$,B2$,B3$,CT$
 COLSET "BG",P+&H1,B1$
 COLSET "BG",P+&H2,B2$
 COLSET "BG",P+&H3,B1$
 COLSET "BG",P+&H4,B2$
 COLSET "BG",P+&HF,CT$

 COLSET "BG",P+&H9,B3$
 COLSET "BG",P+&HA,CT$
 COLSET "BG",P+&HB,B1$
 COLSET "BG",P+&HC,B2$
 COLSET "BG",P+&H7,B3$
NEXT

SAVE "COL0U:DROPC_BG"
END
NEXT

BGPAGE 1
BG_C1$="101020"
COLSET "BG",0,BG_C1$

GPAGE 1
'スコアケ゛-シ゛
COLSET "GRP",&HF8,"383838"
COLSET "GRP",&HF9,"282828"
COLSET "GRP",&HFA,"505050"
COLSET "GRP",&HFB,"404040"
COLSET "GRP",&HFC,"00F018"
COLSET "GRP",&HFD,"208030"
COLSET "GRP",&HFE,"FFA000"
COLSET "GRP",&HFF,"8C6028"


V_S=0 '〜-1:ヒョウシ゛ナシ(アニメフレ-ム) 0:ハンテイオワリ
V_T1=1
V_T2=2
V_BN=3
V_BC=4
V_BV=5
V_BP=6
V_X=7

'シュルイ
KMAX=26
DIM KC[KMAX]
DIM KBN[KMAX]
DIM KBC[KMAX]
DIM KBV[KMAX]
DIM KBP[KMAX]
DIM KX[KMAX]

DIM LV$[2]
LV$[0]="│л■л"
LV$[1]="а┰м├"
DIM HNT$[4]
HNT$[0]="е├"
HNT$[1]="Ы▲┼"
HNT$[2]="■мб"
HNT$[3]="ミス"
DIM HNT_N$[4]

DIM CHA_MP[9],CHA_CLR[9]

RESTORE @M0
READ MENU_CNT
DIM M0_TIT$[MENU_CNT]
DIM M0_TITL$[MENU_CNT]
DIM M0_BG$[MENU_CNT,2]
BGMBGLEN=16
@M0
DATA 3
DATA "フリ-フ゜レイ","27263327312E21"
DATA "チャレンシ゛" ,"1A2D2E292F30"
DATA "チュ-トリアル","1A1B332C262428"
FOR I=0 TO MENU_CNT-1
 READ T$,TL$
 M0_TIT$[I]=T$
 M0_TITL$[I]=TL$
 BGP=2:GOSUB @TITBG
 M0_BG$[I,0]=BG1$
 M0_BG$[I,1]=BG2$
NEXT


SVLEN=35
SVLEN1=17

'SE,BGM
BGMSET 128,"T480@86@D24B-6_<B-
'BGMSET 129,"T480@86@D24<B-6_>B-
BGMSET 131,"T120:0@87@V90@E127,70,0,120Q6<L32CE<C:1@80@V100@E127,70,0,120Q6<L32R64DG
'BGMSETD 141,@MCHA0
'BGMSETD 142,@MGOVER
'BGMSETD 143,@MCHA1
'BGMSETD 144,@MCHA4
'BGMSETD 145,@MCHA6
BGMSETD 146,@MTIT3

'キョク
RESTORE @LIST
READ BGM_CNT
IF LEN(MEM$)<256 THEN MEM$=MEM$+CHR$(0)*(256-LEN(MEM$))
UNLOCK=ASC(MID$(MEM$,SVLEN*7,1))
IF UNLOCK==0 THEN UNLOCK=1
'1,2,3,4,5,6,7(-3),8(-2),9(-1)

DIM BGM_ID[BGM_CNT]
DIM BGM_VOL[BGM_CNT]
DIM BGM_TIT$[BGM_CNT]
DIM BGM_CMP$[BGM_CNT]
DIM BGM_LV[BGM_CNT,2]
DIM BGM_BG$[BGM_CNT,2]
DIM BGM_TITL$[BGM_CNT]
FOR I=0 TO BGM_CNT-1
 READ ID,VOL,T$,C$,LV1,LV2,TL$
 IF TL$=="" THEN GOSUB @TLGEN
 BGM_ID[I]=ID
 BGM_VOL[I]=VOL
 BGM_TIT$[I]=T$
 BGM_TITL$[I]=TL$
 BGM_CMP$[I]=C$
 BGM_LV[I,0]=LV1
 BGM_LV[I,1]=LV2
 BGP=3:GOSUB @TITBG:GOTO @TITBGSKP
@TITBG
 GPAGE 0,3,0
 GT$=T$:GX=0:GY=0:GOSUB @GPRT_L
 BG1$="":BG2$=""
 FOR J=0 TO BGMBGLEN-1
  C$=""
  FOR Y=0 TO 7:FOR X=0 TO 7
   C1=GSPOIT(X+J*8,Y)
   C2$="F"
   IF C1==0 AND Y<4 THEN C2$="2"
   IF C1==0 AND Y>=4 THEN C2$="1"
   C$=C$+C2$
  NEXT:NEXT
  CHRSET "BGU"+STR$(BGP)+"U",J+I*BGMBGLEN,C$
  P$=HEX$(4+I)
  BG1$=BG1$+P$+HEX$(256*BGP+J+I*BGMBGLEN,3)
  BG2$=BG2$+P$+HEX$(256*BGP+J+I*BGMBGLEN,3)
 NEXT
 GFILL 0,0,127,15,0
' BG$=""
' FOR J=0 TO 23
'  BG$=BG$+"C"+HEX$(ASC(MID$(T$,J,1)+" ")+768,3)
' NEXT
 GPAGE 0,0,0
RETURN
@TITBGSKP
 BGM_BG$[I,0]=BG1$
 BGM_BG$[I,1]=BG2$
NEXT
FOR I=0 TO BGM_CNT-1
 IF BGM_ID[I]>=128 THEN BGMSETD BGM_ID[I],"@M"+STR$(BGM_ID[I])
NEXT

BGM_CNT=BGM_CNT-3

VISIBLE 1,1,1,1,1,1

GOTO @TIT

@TLGEN
 TL0$=STR$(ID)
 FOR J=0 TO LEN(TL0$)-1
  TL$=TL$+"-"+MID$(TL0$,J,1)
 NEXT
RETURN

@TIT_LS1
GPAGE 1
SPPAGE 1
GCLS 
SPCLR
_SPNUMID=SPNUM16_L

GOTO @TIT_LS1_SKIPCHA
FOR I=0 TO 3
 SPSET 30+I,SPNULL_L,0,0,0,0
 SPOFS 30+I,220-16*I-28,110
 SPSET 40+I,SPNULL_L,0,0,0,0
 SPOFS 40+I,220-16*I-28,140
NEXT
FOR I=0 TO 1
 GT$=".":GX=210:GY=110+8:GOSUB @GPRT_L
 GY=GY+30:GOSUB @GPRT_L
 SPSET 34+I,0,0,0,0,0,8,8
 SPSET 44+I,0,0,0,0,0,8,8
 SX=224-7*I:SY=110+8
 SPOFS 34+I,SX,SY
 SPOFS 44+I,SX,SY+30
NEXT

SVDATA$=RIGHT$(MEM$,256-SVLEN*7)
GT$="チャレンシ゛  ハイスコア":GX=24:GY=88:GOSUB @GPRT_L
FOR J=0 TO 1
 GT$=LV$[J]:GX=70:GY=115+30*J:GOSUB @GPRT_L
 MP=VAL("&H"+MID$(SVDATA$,J*5,5))
 SI=30+J*10:SC=4:SZ=0:SV=FLOOR(MP/100):GOSUB @SCSET
 GOSUB @SCSET_MP
NEXT

GLINE 16,70,239,70,15
@TIT_LS1_SKIPCHA

GT$="フリ-フ゜レイ":GX=24:GY=48:GOSUB @GPRT_L
SPSET 3,SPSTAR_L,0,0,0,0,32,32
SPOFS 3,120,30
'SPSCALE 3,200
SPSET 4,SPNUM16_L+13,0,0,0,0
SPOFS 4,120+32,30+10
GT$="/ "+STR$(6*(BGM_CNT-1))
GX=120+86:GY=30+18:GOSUB @GPRT_L

STARNUM=0
FOR I=0 TO 6
 STAR=ASC(MID$(MEM$,SVLEN*I,1)+CHR$(0))
 FOR J=0 TO 5
  IF STAR AND 1 THEN STARNUM=STARNUM+1
  STAR=STAR/2
 NEXT
NEXT
SV=STARNUM
SPSET 5,SPNUM16_L+SV%10,0,0,0,0
SPOFS 5,120+64,30+10
SPSET 6,SPNUM16_L+FLOOR(SV/10)+10*(SV<10),0,0,0,0
SPOFS 6,120+64-16,30+10


RETURN

@TIT

GOSUB @TIT_LS1

GPAGE 0
SPPAGE 0
BGPAGE 0
'COLSET "BG",&HF6,"203880"
'COLSET "BG",&HFF,"FFFFFF"
GCLS 
SPCLR
CLS
GPRIO 1
BGFILL 0,32,0,63,63,0
BGFILL 1,32,0,63,63,0

'BGFILL 1,0,0,31,0,"801A"
'BGFILL 1,0,1,31,7,"8003"
'BGOFS 1,0,-140

'GCOPY 2,0,0,127,45,0,192-46,1
'GCOPY 2,0,0,127,45,128,192-46,1

'BGOFS 0,SCX_GRND,SCY_GRND
GOSUB @MCHA_GND_INIT

GX=80:GY=100:GT$="リス゛ムケ゛-ム":GOSUB @GPRT_L
GX=124:GY=110:GT$="Drop-c":GOSUB @GPRT_L

GX=44:GY=192-2.5*8:GT$="(c) 2020-23  Na":GOSUB @GPRT_L

GX=168:GY=192-26:GT$="Щ┝мбз":GOSUB @GPRT_L
GX=156:GY=192-26:GT$="Й":GOSUB @GPRT_L
GX=168:GY=192-14:GT$="─кз":GOSUB @GPRT_L
TSEL=0

BGMPLAY 6,146,35
TITCNT=0

@TITLOOP
 BX=12+8*SIN(RAD(TITCNT%360))
 BY=19*8+6+8*SIN(RAD(1.5*TITCNT%360))
 BGOFS 1,BX,BY
 
 VSYNC 1
 B=BUTTON(1)
 IF B AND 1+2 THEN BEEP 9:TSEL=!TSEL
 GX=156:GY=192-26+12*!TSEL
 IF B AND 1+2 THEN GFILL GX,GY,GX+7,GY+7,0
 GX=156:GY=192-26+12*TSEL
 GT$="Й"
 IF B AND 1+2 THEN GOSUB @GPRT_L
 IF (B AND 16)>0 AND TSEL==0 THEN @MENULOAD '@MENU0
 IF (B AND 16)>0 AND TSEL==1 THEN @END
 
 TITCNT=(TITCNT+1.2)%720
GOTO @TITLOOP

@END

BEEP 4
BGMSTOP 6,1
ACLS
CHRINIT "SPU2U"
CHRINIT "SPU5U"
CHRINIT "SPU6U"
CHRINIT "SPU7U"
CHRINIT "BGU0U"
CHRINIT "BGU1U"
CHRINIT "BGU2U"
CHRINIT "BGU3U"
CHRINIT "BGF0U"
CHRINIT "SPS0L"
CHRINIT "SPS1L"
END

@MENU0
BEEP 3

GPAGE 0
BGPAGE 0
GCLS

BGFILL 0,32,0,63,23,0
BGFILL 1,32,0,63,23,0
BG_MY=0 '(40-30)/2
BG_MYG=BG_MY*8
'BGOFS 0,256,BG_MYG-192
'BGOFS 1,256,BG_MYG-192

GOSUB @M0_STATG:GOTO @M0_STSKP
@M0_STATG
'GFILL 0,192-9,255,191,26

'GCOPY 2,0,0,255,10*8-1,0,GY_GRND,1
GOSUB @MCHA_GND_INIT

GY=CHA_GY+17:GX=40
IF MODE==0 THEN GT$="$キョクヲ シ゛ユウニ エランテ゛
IF MODE==1 THEN GT$="$HP=0テ゛$ ケ゛-ム オ-ハ゛-
IF MODE==2 THEN GT$="$コノ $ケ゛-ム$ノ アソヒ゛カタヲ$
GOSUB @GPRT_L

GY=CHA_GY+27:GX=40
IF MODE==0 THEN GT$="フ゜レイ$スル$ モ-ト゛ $テ゛ス$
IF MODE==1 THEN GT$="$セ゛ンキョク$ クリア$ヲ メサ゛ソウ$
IF MODE==2 THEN GT$="$カクニン テ゛キマス$
GOSUB @GPRT_L

'GT$="↑↓: ┥л┿┨┌":GX=7:GOSUB @GPRT_L
'GT$="Ф: ○л├□м":GX=79:GOSUB @GPRT_L
'GT$="А: Щ┝мбз":GX=145:GOSUB @GPRT_L
'GT$="Х: オ-ト":GX=211:GOSUB @GPRT_L
RETURN
@M0_STATG1
'GCOPY 2,0,0,255,3*8-1,0,GY_GRND,1
RETURN
@M0_STSKP

'NOBGM=0
MENUCNT=0
'BGMSTOPCNT=0
MOVE=0
EXCHG=0
MENU_IS_OK=0
'EX=0
GOSUB @M0_LS
BGOFS 0,256,BG_MYG-30
BGOFS 1,256,BG_MYG-30
MENUSCR=0
GOSUB @M0_LS1


VSYNC 1
@M0LOOP
 FPS=FPS+1
 IF DEBUG AND MAINCNTL-LASTC>59 THEN LOCATE 0,0:?FPS,:FPS=0:LASTC=MAINCNTL

 B=BUTTON(1)
 
 'IF B AND 128 THEN AUTO=1:GOTO @MENU_OK
 IF B AND 16 THEN GOTO @M0_OK
 IF B AND 32 THEN BEEP 4:GOSUB @M0WAIT:GOTO @TIT
 
 IF B AND 1 THEN MOVE=MOVE-1:BEEP 9
 IF B AND 2 THEN MOVE=MOVE+1:BEEP 9
 
' IF (B AND 4)>0 AND EXCHG==0 THEN EXCHG=-10:NEX=!EX:BGMPLAY 129:GOSUB @MENU_LS1
 IF (B AND 4+8+64)>0 AND EXCHG==0 THEN EXCHG=10+6+10:NEX=!EX:BGMPLAY 128:GOSUB @M0_LS1
 
 GOSUB @M0FRM
GOTO @M0LOOP


@M0FRM
 
 IF MOVE<0 THEN @M0_UP
 IF MOVE>0 THEN @M0_DN
 
 IF MENUCNT==1 THEN @M0_MV
 
 
 IF MENUCNT>1 AND EXCHG!=0 THEN GOSUB @M0_EX
 
@M0FRME
 VSYNC 1
 IF MENUCNT<10000 THEN MENUCNT=MENUCNT+1
RETURN

@M0_UP
 IF MODE==0 THEN @M0UPSKP
 IF MENUCNT>1 THEN @M0_RMV
 IF MENUCNT<0 THEN @M0FRME
 MODE=MODE-1
 'EX=0
 EXCHG=0
 GFILL 0,0,255,GY_GRND-1,0
 'GOSUB @M0_LS
 'BGOFS 0,256,BG_MYG+60
 'BGOFS 0,256,BG_MYG+36,6
 'BGOFS 1,256,BG_MYG+60
 'BGOFS 1,256,BG_MYG+36,6
 'GOSUB @M0_LS1
 MENUCNT=0
@M0UPSKP
 MOVE=MOVE+1
GOTO @M0FRME

@M0_DN
 IF MODE==MENU_CNT-1 THEN @M0DNSKP
 IF MENUCNT>1 THEN @M0_RMV
 IF MENUCNT<0 THEN @M0FRME
 MODE=MODE+1
 'EX=0
 EXCHG=0
 GFILL 0,0,255,GY_GRND-1,0
 'GOSUB @M0_LS
 'BGOFS 0,256,BG_MYG+12
 'BGOFS 0,256,BG_MYG+36,6
 'BGOFS 1,256,BG_MYG+12
 'BGOFS 1,256,BG_MYG+36,6
 'GOSUB @M0_LS1
 MENUCNT=0
@M0DNSKP
 MOVE=MOVE-1
GOTO @M0FRME

@M0_LS
COLSET "BG",&H0,BG_C$[EX]
FOR I=0 TO MENU_CNT-1
 L=0'I>=5
 'IF BGM-5+I<0 THEN @M0LSCLR
 'IF BGM-5+I>=BGM_CNT THEN @M0LSCLR
 BGPUT L,32+4,BG_MY+I*4,&HAD,&HC+EX,0,0
 BGFILL L,32+5,BG_MY+I*4,63-5,BG_MY+I*4,&HAE,&HC+EX,0,0
 BGPUT L,63-4,BG_MY+I*4,&HAF,&HC+EX,0,0
 BGPUT L,32+4,BG_MY+I*4+1,&HCD,&HC+EX,0,0
 BGFILL L,32+5,BG_MY+I*4+1,63-5,BG_MY+I*4+1,&HCE,&HC+EX,0,0
 BGPUT L,63-4,BG_MY+I*4+1,&HCF,&HC+EX,0,0
 BGPUT L,32+4,BG_MY+I*4+2,&HED,&HC+EX,0,0
 BGFILL L,32+5,BG_MY+I*4+2,63-5,BG_MY+I*4+2,&HEE,&HC+EX,0,0
 BGPUT L,63-4,BG_MY+I*4+2,&HEF,&HC+EX,0,0
'キョクタイトル
 BGFILL L,32+5,BG_MY+I*4+1,32+4+BGMBGLEN-1,BG_MY+I*4+1,M0_BG$[I,EX]
@M0LSSKIP
NEXT

RETURN

@M0_LS1
RETURN

SVDATA$=MID$(MEM$,SVLEN*BGM,SVLEN)
STAR=ASC(SVDATA$+CHR$(0))
SVDATA1$=MID$(SVDATA$,1+SVLEN1*NEX,SVLEN1)
SCORE$=LEFT$(SVDATA1$,5)
OLDSCORE=VAL("&H"+SCORE$)
SCORE$=RIGHT$("     "+STR$(OLDSCORE),6)
FOR I=0 TO 3
 HNT_N$[I]=STR$(VAL("&H"+MID$(SVDATA1$,5+3*I,3)))
NEXT

GPAGE 1
SPPAGE 1
_SPNUMID=SPNUM16_L

GFILL 24,21,255,63,0
GT$=BGM_TITL$[BGM]:GX=24:GY=24:GOSUB @GPRT_L12
GT$=LV$[NEX]:GX=24+NEX:GY=46:GOSUB @GPRT_L
GT$="Lv.":GX=72:GOSUB @GPRT_L
GT$=STR$(BGM_LV[BGM,NEX]):GX=110:GOSUB @GPRT_R
GT$="ハイスコア":GX=126:GY=46:GOSUB @GPRT_L

SI=30:SC=6:SZ=0:SV=OLDSCORE:GOSUB @SCSET

GFILL 48,96,255,113,0
FOR I=0 TO 3
GT$=HNT$[I]:GX=38+48*I:GY=96:GOSUB @GPRT_L
GT$=HNT_N$[I]:GX=74+48*I:GY=106:GOSUB @GPRT_R
NEXT

B=1+7*NEX
FOR I=0 TO 2
 SPCHR I,SPSTAR_L,15*((STAR AND B)==0),0,0,0
 B=B*2
NEXT

GPAGE 0
SPPAGE 0

RETURN

@M0LSCLR
 BGFILL L,32+3,BG_MY+I*3,63-3,BG_MY+I*3+2,0
GOTO @M0LSSKIP

@M0_MV
'BGFILL 1,32+3,BG_MY+5*3,63-3,BG_MY+5*3+2,0
'IF !NOBGM THEN BGOFS 0,256,BG_MYG+62,6
'IF !NOBGM THEN BGOFS 1,256,BG_MYG+50,6

GPUTCHR 20,36+MODE*32,"BGU0",&HAD,&HC+EX,1
GPUTCHR 228,36+MODE*32,"BGU0",&HAF,&HC+EX,1
GFILL 28,36+MODE*32+3,228-1,44+MODE*32-1,&HC2+&H10*EX
GFILL 20+3,44+MODE*32,236-1-3,52+MODE*32-1,&HC2+&H10*EX
GFILL 20+3,52+MODE*32,236-1-3,60+MODE*32-1,&HC1+&H10*EX
GFILL 28,60+MODE*32,228-1,68+MODE*32-1-3,&HC1+&H10*EX
GPUTCHR 20,60+MODE*32,"BGU0",&HED,&HC+EX,1
GPUTCHR 228,60+MODE*32,"BGU0",&HEF,&HC+EX,1

'L1_$=STR$(BGM_LV[BGM,0])
'L2_$=STR$(BGM_LV[BGM,1])
GDRAWMD 1     '→ 
'Other    00     10   
'None     C1 C2  D1 D2
'Front^0F CE CD  DE DD
'Back ^20 E1 E2  F1 F2(D7→BG)
'Fr+Bk^2F EE ED  FE FD
'  XOR         ^10

GT$=M0_TITL$[MODE]:GX=30:GY=45+MODE*32:GP=2:GOSUB @GPRT_L12
'GT$=BGM_CMP$[BGM]:GX=30:GY=99:GP=2:GOSUB @GPRT_L
'GT$="Lv.":GX=206:GY=99:GP=2:GOSUB @GPRT_R
'GT$=LV$[0]:GX=180:GY=99:GP=0:GOSUB @GPRT_R
'GT$=LV$[1]:GX=178:GY=99:GP=2:GOSUB @GPRT_R
'GP=0:GOSUB @GPRT_R
'GT$=L1_$:GX=226:GY=95:GP=0:GOSUB @GPRT_R12N
'GT$=L2_$:GX=226:GY=95:GP=2:GOSUB @GPRT_R12N
'GP=0:GOSUB @GPRT_R12N
GP=0
GDRAWMD 0

'COLSET "GRP",&HC1,BTN_C$[0,0]
'COLSET "GRP",&HC2,BTN_C$[1,0]
'COLSET "GRP",&HCE,BTN_C$[2,0]
'COLSET "GRP",&HCD,BTN_C$[2,0]
COLSET "GRP",&HE1,BTN_C$[0,0]
COLSET "GRP",&HE2,BTN_C$[1,0]
COLSET "GRP",&HEE,BTN_C$[2,0]
COLSET "GRP",&HED,BTN_C$[2,0]

COLSET "GRP",&HD1,BTN_C$[0,1]
COLSET "GRP",&HD2,BTN_C$[1,1]
COLSET "GRP",&HDE,BTN_C$[0,1]
COLSET "GRP",&HDD,BTN_C$[1,1]
COLSET "GRP",&HF1,BTN_C$[2,1]
COLSET "GRP",&HF2,BTN_C$[2,1]
COLSET "GRP",&HFE,BTN_C$[2,1]
COLSET "GRP",&HFD,BTN_C$[2,1]

GOSUB @M0_STATG

GOTO @M0FRME

@M0_RMV
'BGMSTOP 6,1
FOR I=1 TO EXCHG>0:GOSUB @M0_EX:I=0:NEXT
'GFILL 20,0,236-1,75,0
'GFILL 20,116,236-1,GY_GRND-1,0
'BGOFS 0,256,BG_MYG+36,6
'BGOFS 1,256,BG_MYG+36,6
MENUCNT=-6
GOTO @M0FRME

@M0_EX

IF EXCHG>10+6 THEN EXTIM=10+6+10-EXCHG:GOTO @M0EX_1
IF EXCHG>10 THEN EXTIM=10+6-EXCHG:GOTO @M0EX_2

@M0EX_3
EXTIM=10-EXCHG

'x 0 ←100 (20-236) 100→256
'y 0 ←76 (76-116) 76→192

GDRAWMD 1

OX1=20-10*EXTIM:OY1=32+MODE*32-FLOOR(9.6*EXTIM+.5)
OX2=236+10*EXTIM:OY2=72+MODE*32+FLOOR(9.6*EXTIM+.5)
EXCHG=EXCHG-1
EXTIM=EXTIM+1
NX1=20-10*EXTIM:NY1=32+MODE*32-FLOOR(9.6*EXTIM+.5)
NX2=236+10*EXTIM:NY2=72+MODE*32+FLOOR(9.6*EXTIM+.5)
IF OY2>=GY_GRND THEN OY2=GY_GRND
IF NY2>=GY_GRND THEN NY2=GY_GRND

GFILL NX1,NY1,NX2-1,OY1-1,&H10
GFILL NX1,OY1,OX1-1,OY2-1,&H10
GFILL OX2,OY1,NX2-1,OY2-1,&H10
IF OY2<NY2 THEN GFILL NX1,OY2,NX2-1,NY2-1,&H10

GDRAWMD 0
IF EXTIM==1 THEN EX=NEX
IF EXTIM==1 THEN COLSET "GRP",&H10,BG_C$[EX]
IF EXTIM==1 THEN BGMPLAY 0,128,64
'IF EXTIM>=9 THEN GOSUB @M_STATG
IF EXTIM==10 THEN GOSUB @M0_LS
IF EXTIM==10 THEN GPAINT 0,0,0

RETURN

@M0EX_2
EXCHG=EXCHG-1

FOR I=EXTIM*2 TO EXTIM*2+1

IF I==MODE THEN @M0EX_SKP2
IF I<0 THEN @M0EX_SKP2
IF I>=MENU_CNT THEN @M0EX_SKP2

EX_Y=(BG_MY+I*4)*8
EX_Y=EX_Y-(BG_MYG-40)
'IF I<5 THEN EX_Y=EX_Y-(BG_MYG+42)
'IF I>5 THEN EX_Y=EX_Y-(BG_MYG+30)
IF EX_Y<-24 THEN @M0FRME
IF EX_Y>=GY_GRND THEN @M0FRME

GPUTCHR 4*8,EX_Y,"BGU0U",&HAD,&HC+EX,1
GFILL 5*8,EX_Y+3,(31-4)*8-1,EX_Y+7,&HC2+&H10*EX
GPUTCHR (31-4)*8,EX_Y,"BGU0U",&HAF,&HC+EX,1
GFILL 4*8+3,EX_Y+8,(31-4)*8+7-3,EX_Y+11,&HC2+&H10*EX
GFILL 4*8+3,EX_Y+12,(31-4)*8+7-3,EX_Y+15,&HC1+&H10*EX
GPUTCHR 4*8,EX_Y+16,"BGU0U",&HED,&HC+EX,1
GFILL 5*8,EX_Y+16,(31-4)*8-1,EX_Y+23-3,&HC1+&H10*EX
GPUTCHR (31-4)*8,EX_Y+16,"BGU0U",&HEF,&HC+EX,1
GDRAWMD 1
GP=2
GT$=M0_TIT$[I]:GX=5*8:GY=EX_Y+8:GOSUB @GPRT_L
GP=0
GDRAWMD 0

IF EX_Y+23>=GY_GRND THEN GOSUB @M0_STATG1

@M0EX_SKP2
NEXT

RETURN

@M0EX_1
'x 20 ←108 (128) 108→ 236
'y 76 ←20 (96) 20→ 116
IF EXTIM==1 THEN COLSET "GRP",&H10,BG_C$[EX]

GDRAWMD 1

OX1=128-FLOOR(10.8*EXTIM+.5):OY1=52+MODE*32-2*EXTIM
OX2=128+FLOOR(10.8*EXTIM+.5):OY2=52+MODE*32+2*EXTIM
EXCHG=EXCHG-1 'SGN(EXCHG)
EXTIM=EXTIM+1
NX1=128-FLOOR(10.8*EXTIM+.5):NY1=52+MODE*32-2*EXTIM
NX2=128+FLOOR(10.8*EXTIM+.5):NY2=52+MODE*32+2*EXTIM

IF EXTIM==1 THEN GFILL NX1,NY1,NX2-1,NY2-1,&H10:GOTO @M0EX_SKP

GFILL NX1,NY1,NX2-1,OY1-1,&H10
GFILL NX1,OY1,OX1-1,OY2-1,&H10
GFILL OX2,OY1,NX2-1,OY2-1,&H10
GFILL NX1,OY2,NX2-1,NY2-1,&H10

@M0EX_SKP
GDRAWMD 0
RETURN

@M0WAIT
BGMSTOP 6,0.5
'NOBGM=1
FOR WT=1 TO 30
 GOSUB @M0FRM
NEXT
RETURN

@M0_OK
BEEP 3

FOR I=1 TO EXCHG>0:GOSUB @M0_EX:I=0:NEXT
'GFILL 20,0,236-1,75,0
'GFILL 20,116,236-1,GY_GRND-1,0

'BGFILL 1,32+3,BG_MY+5*3,63-3,BG_MY+5*3+2,0
'BGOFS 0,512,BG_MYG+42,24
'BGOFS 1,512,BG_MYG+30,24

GOSUB @M0WAIT

ON MODE GOTO @MENULOAD,@CHA,@TTR

@MENULOAD
BEEP 3
BGMSTOP 6,0.5
WAIT 30

MENUSCR=1
BGM=0
IF UNLOCK>=7 AND UNLOCK<=9 THEN BGM=10-UNLOCK+1
BGMP=BGM

@MENU
CLS
GPAGE 1
SPPAGE 1
BGPAGE 1
GCLS
SPCLR
BGCLR

FOR I=0 TO 2
 SPSET I,SPSTAR_L,15,0,0,0,32,32
 SPOFS I,24+I*28,58
 'SPSCALE I,200
NEXT
FOR I=0 TO 5
 SPSET 30+I,SPNULL_L,0,0,0,0
 SPOFS 30+I,220-16*I,62
NEXT

GLINE 16,124,239,124,15
GT$="│┌□┌┝■  И Ш  │┰м":GX=78:GY=136:GOSUB @GPRT_L
GPUTCHR 128,GY,"BGF0",ASC("И"),3,1

SPSET 3,SPSTAR_L,0,0,0,0,32,32
SPOFS 3,66,150
'SPSCALE 3,200
SPSET 4,SPNUM16_L+13,0,0,0,0
SPOFS 4,98,160
GT$="/  "+STR$(6*(BGM_CNT-1))
GX=152:GY=168:GOSUB @GPRT_L

STARNUM=0
FOR I=0 TO 6
 STAR=ASC(MID$(MEM$,SVLEN*I,1)+CHR$(0))
 FOR J=0 TO 5
  IF STAR AND 1 THEN STARNUM=STARNUM+1
  STAR=STAR/2
 NEXT
NEXT
SV=STARNUM
FOR I=0 TO 1
 SPSET 5+I,SPNUM16_L+10*(I>0 AND SV<10),0,0,0,0
 SPOFS 5+I,130-16*I,160
NEXT
SPANIM 5,SV%10+1,4,1
SPANIM 6,FLOOR(SV/10)+1,4,1


WAIT 1

GPAGE 0
SPPAGE 0
BGPAGE 0
GCLS
SPCLR

'COLSET "BG",&HF6,BG_C$[EX]
'COLSET "BG",&HFF,BG_C$[EX]

BGFILL 0,32,0,63,63,0
BGFILL 1,32,0,63,63,0
BG_MY=0 '(40-30)/2
BG_MYG=BG_MY*8
BGOFS 0,256,BG_MYG-192
BGOFS 1,256,BG_MYG-192

GOSUB @M_STATG:GOTO @M_STSKP
@M_STATG
'GFILL 0,192-9,255,191,26

'GCOPY 2,0,0,255,10*8-1,0,GY_GRND,1
GOSUB @MCHA_GND_INIT

GY=192-2.5*8
GT$="↑↓: ┥л┿┨┌":GX=7:GOSUB @GPRT_L
GT$="Ф: ○л├□м":GX=79:GOSUB @GPRT_L
GT$="А: Щ┝мбз":GX=145:GOSUB @GPRT_L
GT$="Х: オ-ト":GX=211:GOSUB @GPRT_L
RETURN
@M_STATG1
'GCOPY 2,0,0,255,3*8-1,0,GY_GRND,1
RETURN
@M_STSKP

NOBGM=0
MENUCNT=0
BGMSTOPCNT=0
MOVE=0
EXCHG=0
EX=0:NEX=0
GOSUB @MENU_LS
WAIT 1
GOSUB @MCHA_G_INIT
GOSUB @MCHA_G_MV
BGOFS 0,256,BG_MYG+66,15*MENUSCR
BGOFS 1,256,BG_MYG+66,15*MENUSCR
MENUSCR=0
GOSUB @MENU_LS1

VSYNC 1
@MENULOOP
 FPS=FPS+1
 IF DEBUG AND MAINCNTL-LASTC>59 THEN LOCATE 0,0:?FPS,:FPS=0:LASTC=MAINCNTL

 B=BUTTON(1)
 
 IF B AND 128 THEN AUTO=1:GOTO @MENU_OK
 IF B AND 16 THEN AUTO=0:GOTO @MENU_OK
 IF B AND 32 THEN BEEP 4:GOSUB @MENUWAIT:GOTO @TIT
 
 IF B AND 1+4 THEN MOVE=MOVE-1:BEEP 9
 IF B AND 2+8 THEN MOVE=MOVE+1:BEEP 9
 
' IF (B AND 4)>0 AND EXCHG==0 THEN EXCHG=-10:NEX=!EX:BGMPLAY 129:GOSUB @MENU_LS1
 IF (B AND 64)>0 AND EXCHG==0 THEN EXCHG=10:NEX=!EX:BGMPLAY 128:GOSUB @MENU_LS1
 
 GOSUB @MENUFRM
GOTO @MENULOOP

@MENUFRM
 IF !BGMCHK(6) THEN BGMSTOPCNT=BGMSTOPCNT+1
 IF !SPCHK(10) THEN GOSUB @MCHA_G_SET
 
 IF MOVE<0 THEN @MENU_UP
 IF MOVE>0 THEN @MENU_DN
 
 IF MENUCNT==15 THEN @MENU_MV
 
 IF (MENUCNT==20 OR BGMSTOPCNT>=120)AND !NOBGM THEN BGMPLAY 6,BGM_ID[BGMP],BGM_VOL[BGMP]
 IF (MENUCNT==20 OR BGMSTOPCNT>=120)AND !NOBGM THEN BGMSTOPCNT=0
 
 IF MENUCNT>15 AND EXCHG!=0 THEN GOSUB @MENU_EX
 
@MENUFRME
 VSYNC 1
 IF MENUCNT<10000 THEN MENUCNT=MENUCNT+1
RETURN

@MENU_UP
 IF BGM==0 THEN @MENUUPSKP
 IF UNLOCK>=7 AND BGM==10-UNLOCK THEN @MENUUPSKP
 IF MENUCNT>15 THEN @MENU_RMV
 IF MENUCNT<0 THEN @MENUFRME
 BGM=BGM-1
 BGMP=BGM
 IF 1<=BGM AND BGM<=3 AND 10-BGM<=UNLOCK THEN BGMP=10-BGM
 EX=0:NEX=0
 EXCHG=0
 MDIR=-1:GOSUB @MCHA_G_MV
 GFILL 0,0,255,GY_GRND-1,0
 GOSUB @MENU_LS
 BGOFS 0,256,BG_MYG+90
 BGOFS 0,256,BG_MYG+66,6
 BGOFS 1,256,BG_MYG+90
 BGOFS 1,256,BG_MYG+66,6
 GOSUB @MENU_LS1
 MENUCNT=-6
@MENUUPSKP
 MOVE=MOVE+1
GOTO @MENUFRME

@MENU_DN
 IF BGM==BGM_CNT-1 THEN @MENUDNSKP
 IF BGM==UNLOCK THEN @MENUDNSKP
 IF MENUCNT>15 THEN @MENU_RMV
 IF MENUCNT<0 THEN @MENUFRME
 BGM=BGM+1
 BGMP=BGM
 EX=0:NEX=0
 EXCHG=0
 MDIR=1:GOSUB @MCHA_G_MV
 GFILL 0,0,255,GY_GRND-1,0
 GOSUB @MENU_LS
 BGOFS 0,256,BG_MYG+42
 BGOFS 0,256,BG_MYG+66,6
 BGOFS 1,256,BG_MYG+42
 BGOFS 1,256,BG_MYG+66,6
 GOSUB @MENU_LS1
 MENUCNT=-6
@MENUDNSKP
 MOVE=MOVE-1
GOTO @MENUFRME

@MENU_LS
COLSET "BG",&H0,BG_C$[EX]
FOR I=0 TO 10
 L=I>=5
 IF BGM-5+I<0 THEN @MLSCLR
 IF BGM-5+I>=BGM_CNT THEN @MLSCLR
 IF BGM-5+I>UNLOCK THEN @MLSCLR
 IF UNLOCK>=7 AND BGM-5+I<10-UNLOCK THEN @MLSCLR
 PAL=&H4+BGM-5+I
 BGPUT L,32+4,BG_MY+I*3,&HAD,PAL,0,0
 BGFILL L,32+5,BG_MY+I*3,63-5,BG_MY+I*3,&HAE,PAL,0,0
 BGPUT L,63-4,BG_MY+I*3,&HAF,PAL,0,0
 BGPUT L,32+4,BG_MY+I*3+1,&HCD,PAL,0,0
 BGFILL L,32+5,BG_MY+I*3+1,63-5,BG_MY+I*3+1,&HCE,PAL,0,0
 BGPUT L,63-4,BG_MY+I*3+1,&HCF,PAL,0,0
 BGPUT L,32+4,BG_MY+I*3+2,&HED,PAL,0,0
 BGFILL L,32+5,BG_MY+I*3+2,63-5,BG_MY+I*3+2,&HEE,PAL,0,0
 BGPUT L,63-4,BG_MY+I*3+2,&HEF,PAL,0,0
'キョクタイトル
 BGFILL L,32+5,BG_MY+I*3+1,32+4+BGMBGLEN-1,BG_MY+I*3+1,BGM_BG$[BGM-5+I,EX]
@MLSSKIP
NEXT

RETURN

@MENU_LS1
IF BGM==0 THEN @MENU_LS1N
SVDATA$=MID$(MEM$,SVLEN*((BGM-1)%6),SVLEN)
STAR=ASC(SVDATA$+CHR$(0))
SVDATA1$=MID$(SVDATA$,1+SVLEN1*NEX,SVLEN1)
SCORE$=LEFT$(SVDATA1$,5)
OLDSCORE=VAL("&H"+SCORE$)
SCORE$=RIGHT$("     "+STR$(OLDSCORE),6)
FOR I=0 TO 3
 HNT_N$[I]=STR$(VAL("&H"+MID$(SVDATA1$,5+3*I,3)))
NEXT

GPAGE 1
SPPAGE 1
_SPNUMID=SPNUM16_L

GFILL 24,21,255,63,0
GT$=BGM_TITL$[BGMP]:GX=24:GY=24:GOSUB @GPRT_L12
GT$=LV$[NEX]:GX=24+NEX:GY=46:GOSUB @GPRT_L
GT$="Lv.":GX=72:GOSUB @GPRT_L
GT$=STR$(BGM_LV[BGMP,NEX]):GX=110:GOSUB @GPRT_R
GT$="ハイスコア":GX=126:GY=46:GOSUB @GPRT_L

SI=30:SC=6:SZ=0:SV=OLDSCORE:GOSUB @SCSET

GFILL 48,96,255,113,0
FOR I=0 TO 3
GT$=HNT$[I]:GX=38+48*I:GY=96:GOSUB @GPRT_L
GT$=HNT_N$[I]:GX=74+48*I:GY=106:GOSUB @GPRT_R
NEXT

B=1+7*NEX
FOR I=0 TO 2
 SPCHR I,SPSTAR_L,15*((STAR AND B)==0),0,0,0
 B=B*2
NEXT

SCGS=124:SCGE=235
SCGY=81
GFILL SCGS,SCGY  ,SCGE-1,SCGY+1,&HF8
GFILL SCGS,SCGY+2,SCGE-1,SCGY+2,&HF9
GFILL SCGS+(SCGE-SCGS)*.8,SCGY  ,SCGE-1,SCGY+1,&HFA
GFILL SCGS+(SCGE-SCGS)*.8,SCGY+2,SCGE-1,SCGY+2,&HFB
GDRAWMD 1
IF OLDSCORE THEN GFILL SCGS,SCGY,SCGS+(SCGE-SCGS)*(OLDSCORE/100000),SCGY+3,&H04
GDRAWMD 0
GFILL SCGE+1,SCGY,255,SCGY+3,0
GBOX SCGS-1,SCGY-1,SCGE,SCGY+3,15
GPSET SCGS-1,SCGY-1,0
GPSET SCGE  ,SCGY-1,0
GPSET SCGS-1,SCGY+3,0
GPSET SCGE  ,SCGY+3,0

GPAGE 0
SPPAGE 0

RETURN

@MENU_LS1N
GPAGE 1
SPPAGE 1
GFILL 24,21,255,63,0
GT$=BGM_TITL$[BGM]:GX=24:GY=24:GOSUB @GPRT_L12
GFILL 38,96,255,113,0
GFILL 120,80,255,85,0
FOR I=30 TO 35
 SPCHR I,SPNULL_L
NEXT
FOR I=0 TO 2
 SPCHR I,SPNULL_L
NEXT

GPAGE 0
SPPAGE 0
RETURN

@MLSCLR
 BGFILL L,32+3,BG_MY+I*3,63-3,BG_MY+I*3+2,0
GOTO @MLSSKIP

@MENU_MV
BGFILL 1,32+3,BG_MY+5*3,63-3,BG_MY+5*3+2,0
IF !NOBGM THEN BGOFS 0,256,BG_MYG+72,6
IF !NOBGM THEN BGOFS 1,256,BG_MYG+60,6

PAL=&H4+BGMP
GPUTCHR 20,46,"BGU0",&HAD,PAL,1
GPUTCHR 228,46,"BGU0",&HAF,PAL,1
GFILL 28,46+3,228-1,54-1,PAL*&H10+4
GFILL 28,46+5,228-1,54-1,PAL*&H10+2
GFILL 20+3,54,236-1-3,66-1,PAL*&H10+4
GFILL 20+5,54,236-1-3-2,66-1,PAL*&H10+2
GFILL 20+3,66,236-1-3, 78-1,PAL*&H10+3
GFILL 20+5,66,236-1-3-2, 78-1,PAL*&H10+1
GFILL 28, 78,228-1, 86-1-3,PAL*&H10+3
GFILL 28, 78,228-1, 86-1-3-2,PAL*&H10+1
GPUTCHR 20, 78,"BGU0",&HED,PAL,1
GPUTCHR 228, 78,"BGU0",&HEF,PAL,1

L1_$=STR$(BGM_LV[BGMP,EX])
L2_$=STR$(BGM_LV[BGMP,!EX])

'            ^08
'N       41/42 49/4A
'F   =4F <4F>  47
'B   ^?F FE/   <F6/ >
'F+B     <F0>  <F8>

'BG: 41/42 <47>

GP=4+BGMP:GDRAWMD 0
GT$=BGM_TITL$[BGMP]:GX=30:GY=55:GOSUB @GPRT_L12
GP=4+BGMP XOR 15:GDRAWMD 1
GOSUB @GPRT_L12

GP=4+BGMP:GDRAWMD 0
GT$=BGM_CMP$[BGMP]:GX=30:GY=69:GOSUB @GPRT_L
GP=4+BGMP XOR 15:GDRAWMD 1
GOSUB @GPRT_L

GP=4+BGMP:GDRAWMD 0
GT$=LV$[EX]:GX=180:GY=69:GOSUB @GPRT_R

GP=4+BGMP XOR 15:GDRAWMD 1
GT$=LV$[!EX]:GX=178:GY=69:GOSUB @GPRT_R

IF BGM==0 THEN @MENU_MV_LVSKP

GP=4+BGMP:GDRAWMD 0
GT$="Lv.":GX=206:GY=69:GOSUB @GPRT_R
GP=4+BGMP XOR 15:GDRAWMD 1
GOSUB @GPRT_R

GP=4+BGMP:GDRAWMD 0
GT$=L1_$:GX=226:GY=66:GOSUB @GPRT_R12N

GP=4+BGMP XOR 15:GDRAWMD 1
GT$=L2_$:GX=226:GY=66:GOSUB @GPRT_R12N

@MENU_MV_LVSKP
GP=0:GDRAWMD 0

CRB$="BG"
CRI=(4+BGMP)*16+1:GOSUB @COLRD
BGC1$=C$
CRI=(4+BGMP)*16+2:GOSUB @COLRD
BGC2$=C$
CRI=(4+BGMP)*16+15:GOSUB @COLRD
BGC7$=C$

CRI=(4+BGMP)*16
'COLSET "GRP",CRI+&H1 XOR &H08,BGC1$
'COLSET "GRP",CRI+&H2 XOR &H08,BGC2$
'COLSET "GRP",CRI+&HF XOR &H00,BGC7$
'COLSET "GRP",CRI+&HF XOR &H08,BGC1$
COLSET "GRP",   &HFE XOR &H00,BGC1$
COLSET "GRP",   &HFE XOR &H08,BGC1$
COLSET "GRP",   &HF0 XOR &H00,BGC7$
COLSET "GRP",   &HF0 XOR &H08,BGC1$

GOTO @MENUFRME

@COLRD
COLREAD(CRB$,CRI),CR,CG,CB
C$=HEX$(CR,2)+HEX$(CG,2)+HEX$(CB,2)
RETURN

@MENU_RMV
BGMSTOP 6,1
FOR I=1 TO EXCHG>0:GOSUB @MENU_EX:I=0:NEXT
GFILL 20,0,236-1,45,0
GFILL 20, 86,236-1,GY_GRND-1,0
BGOFS 0,256,BG_MYG+66,6
BGOFS 1,256,BG_MYG+66,6
MENUCNT=-6
GOTO @MENUFRME

@MENU_EX
XOR_C=&H08

EXTIM=10-EXCHG
GOTO @MEX_1

'IF EXCHG>10+6 THEN EXTIM=10+6+10-EXCHG:GOTO @MEX_1
'IF EXCHG>10 THEN EXTIM=10+6-EXCHG:GOTO @MEX_2

@MEX_3
EXTIM=10-EXCHG

'x 0 ←100 (20-236) 100→256
'y 0 ←76 (76-116) 76→192

GDRAWMD 1
XOR_C=&H08

OX1=20-10*EXTIM:OY1=46-FLOOR(7.6*EXTIM+.5)
OX2=236+10*EXTIM:OY2= 86+FLOOR(7.6*EXTIM+.5)
EXCHG=EXCHG-1
EXTIM=EXTIM+1
NX1=20-10*EXTIM:NY1=46-FLOOR(7.6*EXTIM+.5)
NX2=236+10*EXTIM:NY2= 86+FLOOR(7.6*EXTIM+.5)
IF OY2>=GY_GRND THEN OY2=GY_GRND
IF NY2>=GY_GRND THEN NY2=GY_GRND

GFILL NX1,NY1,NX2-1,OY1-1,XOR_C
GFILL NX1,OY1,OX1-1,OY2-1,XOR_C
GFILL OX2,OY1,NX2-1,OY2-1,XOR_C
IF OY2<NY2 THEN GFILL NX1,OY2,NX2-1,NY2-1,XOR_C

GDRAWMD 0
IF EXTIM==1 THEN EX=NEX
IF EXTIM==1 THEN COLSET "GRP",&H08,BG_C$[EX]
IF EXTIM==1 THEN BGMPLAY 0,128,64
'IF EXTIM>=9 THEN GOSUB @M_STATG
IF EXTIM==10 THEN GOSUB @MENU_LS
IF EXTIM==10 THEN GPAINT 0,0,0

RETURN

@MEX_2
EXCHG=EXCHG-1

FOR I=EXTIM*2-1 TO EXTIM*2

IF I==5 THEN @MEX_SKP2
IF BGM-5+I<0 THEN @MEX_SKP2
IF BGM-5+I>=BGM_CNT THEN @MEX_SKP2
IF BGM-5+I>UNLOCK THEN @MEX_SKP2

EX_Y=(BG_MY+I*3)*8-30
IF I<5 THEN EX_Y=EX_Y-(BG_MYG+42)
IF I>5 THEN EX_Y=EX_Y-(BG_MYG+30)
IF EX_Y<-24 THEN @MENUFRME
IF EX_Y>=GY_GRND THEN @MENUFRME

PAL=&H4+BGM-5+I
GPUTCHR 4*8,EX_Y,"BGU0U",&HAD,PAL,1
GFILL 5*8,EX_Y+3,(31-4)*8-1,EX_Y+7,PAL*16+2
GPUTCHR (31-4)*8,EX_Y,"BGU0U",&HAF,PAL,1
GFILL 4*8+3,EX_Y+8,(31-4)*8+7-3,EX_Y+11,PAL*16+2
GFILL 4*8+3,EX_Y+12,(31-4)*8+7-3,EX_Y+15,PAL*16+1
GPUTCHR 4*8,EX_Y+16,"BGU0U",&HED,PAL,1
GFILL 5*8,EX_Y+16,(31-4)*8-1,EX_Y+23-3,PAL*16+1
GPUTCHR (31-4)*8,EX_Y+16,"BGU0U",&HEF,PAL,1
GDRAWMD 1
GP=2
GT$=BGM_TIT$[BGM-5+I]:GX=5*8:GY=EX_Y+8:GOSUB @GPRT_L
GP=0
GDRAWMD 0

IF EX_Y+23>=GY_GRND THEN GOSUB @M_STATG1

@MEX_SKP2
NEXT

RETURN

@MEX_1
'x 20 ←108 (128) 108→ 236
'y 76 ←20 (96) 20→ 116
IF EXTIM==1 THEN COLSET "GRP",&H08,BG_C$[EX]
IF EXTIM==1 THEN EX=NEX

GOSUB @MCHA_G_EX

GDRAWMD 1

OX1=128-FLOOR(10.8*EXTIM+.5):OY1=66-2*EXTIM
OX2=128+FLOOR(10.8*EXTIM+.5):OY2=66+2*EXTIM
EXCHG=EXCHG-1 'SGN(EXCHG)
EXTIM=EXTIM+1
NX1=128-FLOOR(10.8*EXTIM+.5):NY1=66-2*EXTIM
NX2=128+FLOOR(10.8*EXTIM+.5):NY2=66+2*EXTIM

IF EXTIM==1 THEN GFILL NX1,NY1,NX2-1,NY2-1,XOR_C:GOTO @MEX_SKP

GFILL NX1,NY1,NX2-1,OY1-1,XOR_C
GFILL NX1,OY1,OX1-1,OY2-1,XOR_C
GFILL OX2,OY1,NX2-1,OY2-1,XOR_C
GFILL NX1,OY2,NX2-1,NY2-1,XOR_C

@MEX_SKP
GDRAWMD 0
RETURN

@MENUWAIT
BGMSTOP 6,1
NOBGM=1
FOR WT=1 TO 60
 GOSUB @MENUFRM
 IF MENU_IS_OK THEN OKTIM=WT:GOSUB @MCHA_G_OK
NEXT
MENU_IS_OK=0
RETURN

@MENU_OK
BEEP 32
MENU_IS_OK=1

FOR I=1 TO EXCHG>0:GOSUB @MENU_EX:I=0:NEXT
GFILL 20,0,236-1,45,0
GFILL 20, 86,236-1,GY_GRND-1,0

BGFILL 1,32+3,BG_MY+5*3,63-3,BG_MY+5*3+2,0
BGOFS 0,512,BG_MYG+72,24
BGOFS 1,512,BG_MYG+60,24

GOSUB @MENUWAIT

MODE=0
IF BGM==0 THEN MODE=2:AUTO=0

GOTO @GAME

@TTR

MODE=2
BGM=0 'BGM_CNT
AUTO=0'1
GOTO @GAME

@CHA_OK
FT_L=0:GPP=1
BGMSTOP 6,1
WAIT 60

AUTO=0
MODE=1

'INPUT CLR
'MP=RND(15000)
'CHA_MP[BGM]=MP
'GOTO "@CHA"+STR$(BGM)+"C"

'---------------------------
@GAME
'キョクヨミコミ
REVERSE=(BGMP>=7)
ID=BGM_ID[BGMP]
VOL=BGM_VOL[BGMP]
FLABEL$="@F"+STR$(ID)+"EX"*EX
FM$=""
TIT$=BGM_TIT$[BGMP]
CMP$=BGM_CMP$[BGMP]
SCGMAXS=100000
SCGCLRS=80000
SCBASE=100000
SCBONUS=60000

ONPCNT=0
RESTORE FLABEL$
READ TMP
LOOPC=0
'FX=0:FS=0
FM$=""
FEND=0
FGET=0
TIMML0$="T"+STR$(TMP)
'TIMML0$=TIMML0$+"{A=$0=0R$0=1R$0=2R$0=3R}
'TIMML0$=TIMML0$+"{B=$0=0R$0=1R$0=2R}
'TIMML0$=TIMML0$+"{C=$0=0R$0=1R}
'TIMML0$=TIMML0$+"{D=$0=0R}
TIMML0$=TIMML0$+"{E=$0=1R$0=2R$0=3R$0=0R}
TIMML0$=TIMML0$+"{F=$0=1R$0=2R$0=3R}
TIMML0$=TIMML0$+"{G=$0=1R$0=2R}
TIMML0$=TIMML0$+"{H=$0=1R}
TIMML0$=TIMML0$+"{I=$0=2R$0=3R$0=0R$0=1R}
TIMML0$=TIMML0$+"{J=$0=2R$0=3R$0=0R}
TIMML0$=TIMML0$+"{K=$0=2R$0=3R}
TIMML0$=TIMML0$+"{L=$0=2R}
TIMML1$=        "{M=$0=3R$0=0R$0=1R$0=2R}
TIMML1$=TIMML1$+"{N=$0=3R$0=0R$0=1R}
TIMML1$=TIMML1$+"{O=$0=3R$0=0R}
TIMML1$=TIMML1$+"{P=$0=3R}
TIMML1$=TIMML1$+"{Q=$0=0R$0=1R$0=2R$0=3R}
TIMML1$=TIMML1$+"{R=$0=0R$0=1R$0=2R}
TIMML1$=TIMML1$+"{S=$0=0R$0=1R}
TIMML1$=TIMML1$+"{T=$0=0R}
TIMML$=""
TIMMLA$="$0=255:1L8[
TIMMLA$=TIMMLA$+"$1=0R$1=1R$1=2R$1=3R
TIMMLA$=TIMMLA$+"$1=4R$1=5R$1=6R$1=7R
TIMMLA$=TIMMLA$+"$1=8R$1=9R$1=10R$1=11R
TIMMLA$=TIMMLA$+"$1=12R$1=13R$1=14R$1=15R
TIMMLA$=TIMMLA$+"$1=16R$1=17R$1=18R$1=19R
TIMMLA$=TIMMLA$+"$1=20R$1=21R$1=22R$1=23R
TIMMLA$=TIMMLA$+"]
TIM_L=16
TIM_ADD$="L16"
TIM_C=0
PS=0
MSCNT=4*3600/TMP
LASTA=3
CNT=-1'スタ-トマエ
FOR I=0 TO !FEND
 GOSUB @FGET
' READ F$
' IF !VAL(F$) THEN @OCLOOPSKP
'  LOOPC=LOOPC+1
'  IF LOOPC<VAL(F$) THEN RESTORE FLABEL$+"_L"
'  GOTO @ONPCNT_S
' @OCLOOPSKP
' IF LEFT$(F$,1)=="@" THEN READ C,BN,BC,BV,BP,X:GOTO @ONPCNT_S
 FOR I=0 TO LEN(FM$)-1
  C=ASC(MID$(FM$,I,1))
  C2$=MID$(FM$,I,2)
  IF C2$=="#L" THEN @ONPCNT_CL
  'IF PS<16 THEN MSCNT=MSCNT+4*3600/TMP/TIM_L
'  FX=FX+1
  PS=PS+1
  IF C>=ASC("A") AND C<=ASC("Z") THEN ONPCNT=ONPCNT+2
  IF C>=ASC("a") AND C<=ASC("z") THEN ONPCNT=ONPCNT+1
  GOTO @ONPCNT_S
  
  @ONPCNT_NUM
   NUM$=""
   J=I
   FOR P=1 TO 1
'    FX=FX+1
    J=J+1
    C=ASC(MID$(FM$,J,1)+" ")
    IF C>=ASC("0") AND C<=ASC("9") THEN NUM$=NUM$+CHR$(C):P=0
   NEXT
'   FX=FX-1
   J=J-1
  RETURN
  @ONPCNT_T
   GOSUB @TIMLSET
   TIM_ADD$=TIM_ADD$+"T"+STR$(TMP)
  RETURN
  @ONPCNT_CL
   I=I+1
'   FX=FX+1
   GOSUB @ONPCNT_NUM
   I=J
   GOSUB @TIMLSET
   TIM_L=VAL(NUM$)
   TIM_ADD$=TIM_ADD$+"L"+STR$(TIM_L)
  GOTO @ONPCNT_S
  @TIMLSET
   C=PS-TIM_C
   IF C>0 THEN TIMML$=TIMML$+TIM_ADD$:TIM_ADD$=""
   IF C>=254*4 THEN TIMML$=TIMML$+"[{"+CHR$(69+LASTA*4)+"}]254"*(C/(254*4))
   C=C%(254*4)
   IF C>=4 THEN TIMML$=TIMML$+"[{"+CHR$(69+LASTA*4)+"}]"+STR$(FLOOR(C/4))
   IF C%4 THEN TIMML$=TIMML$+"{"+CHR$(69+LASTA*4+4-C%4)+"}"
   LASTA=(LASTA+C)%4
   TIM_C=PS
  RETURN
  
 @ONPCNT_S
 NEXT
' @ONPCNT_S
 I=0
NEXT

TMADD$="L"+STR$(TIM_L)
GOSUB @TIMLSET

RESTORE FLABEL$
READ TMP

LOOPC=0
FRETURN$=""
FOR I=0 TO KMAX-1
 KC[I]=3:KBN[I]=-1:KBC[I]=0:KBV[I]=127:KBP[I]=64:KX[I]=100
NEXT


BGMSET 255,TIMML0$,TIMML1$,TIMML$,TIMMLA$

'MSCNT=FLOOR(4*3600/TMP+.5) 'ROUNDノカワリ
MSCNT=FLOOR(MSCNT+.5)
MSLEN=202
TGX=86:TGY=104

'--------------------------
'カ゛メン
VISIBLE 1,1,0,0,0,0
CLS
GPAGE 1
SPPAGE 1
GCLS 
SPCLR 

GPAGE 0
BGPAGE 0
SPPAGE 0
GCLS 
GOSUB @MCHA_GND_CLR

'GCOPY 2,0,0,255,191,0,0,1
'GFILL 0,0,128,46,0


'BGOFS 0,0,320
BGOFS 1,SCX_SLOP,SCY_SLOP
BGOFS 0,0,40*8

IF !REVERSE THEN @GMBGREVSKP
FOR X=0 TO 31
 FOR Y=40 TO 63
  BGREAD(0,X,Y),SC
  BGPUT 0,63-X,Y,SC XOR &H400
  BGREAD(1,X,Y),SC
  BGPUT 1,63-X,Y,SC XOR &H400
 NEXT
NEXT
BGOFS 1,32*8-SCX_SLOP,SCY_SLOP
BGOFS 0,32*8,40*8

@GMBGREVSKP
VISIBLE 1,1,1,1,0,0

'コンホ゛
CRB$="BG":CRI=&H3F:GOSUB @COLRD
COLSET "GRP",&H3F,C$
COLSET "GRP",&H30,BG_C$[EX]

NOTEMAX=26
FOR I=0 TO NOTEMAX
 SPSET I,SPNOTE,0,0,0,0
 SPHOME I,8,8
 SPSETV I,V_S,-100
 SPOFS I,-16,-16
NEXT
'SPOFS 31,TGX,TGY
'SPSCALE 31,200

SPSET 29,SPNULL,0,0,0,0
SPOFS 29,TGX,TGY
SPHOME 29,8,8
IF REVERSE THEN SPOFS 29,256-TGX,TGY

IF MODE==2 THEN @GMTITSKP
GX=244
GT$=BGM_TITL$[BGMP]:GY=144:GOSUB @GPRT_R12
GT$=CMP$:GY=160:GOSUB @GPRT_R
IF MODE==1 THEN @GM_BGMNO
GX=224
GT$=LV$[EX]+"  Lv.":GY=176:GOSUB @GPRT_R
GX=244
GT$=STR$(BGM_LV[BGMP,EX]):GY=173:GOSUB @GPRT_R12N
GOTO @GMTITSKP

@GM_BGMNO
GX=204
GT$="チャレンシ゛ モ-ト゛":GY=176:GOSUB @GPRT_R
GX=244
GT$="/ 7":GY=176:GOSUB @GPRT_R
GX=224
GT$=STR$(BGM+1):GY=173:GOSUB @GPRT_R12N

@GMTITSKP

GX=244
GT$="[ オ-ト フ゜レイ ]":GY=130
IF AUTO THEN GOSUB @GPRT_R

GPAGE 0,2,0
CMB_W=27
GFILL 0,184,CMB_W,191,0
GT$="コンホ゛":GX=0:GY=184:GOSUB @GPRT_L
GPAGE 0,0,0

IF !REVERSE THEN @GMGRPREVSKP
GPAGE 0,3,0
GSY=116
GCLS 0
FOR X=0 TO 255
 GCOPY 0,X,GSY,X,191,255-X,GSY,0
NEXT
FOR X=0 TO CMB_W
 GCOPY 2,X,184,X,191,CMB_W-X,0,0
NEXT
GPAGE 0,2,0
GCOPY 3,0,0,CMB_W,7,0,184,1
GPAGE 0,0,0
GCOPY 3,0,GSY,255,191,0,GSY,1
@GMGRPREVSKP
VISIBLE 1,1,1,1,1,1


'IF MODE!=1 THEN @GM_HPSKP
SPSET 31,96,2,REVERSE,0,0
SPHOME 31,8,16
SPSCALE 31,200
SPOFS 31,TGX-24,TGY+8
IF REVERSE THEN SPOFS 31,256-(TGX-24),TGY+8

SPSET 30,24,3,REVERSE,0,0
SPHOME 30,0,8
IF REVERSE THEN SPHOME 30,16,8
SPOFS 30,TGX-24+6,TGY
IF REVERSE THEN SPOFS 30,256-(TGX-24+6),TGY
SPSCALE 30,120
SPANGLE 30,30
IF REVERSE THEN SPANGLE 30,-30

GOSUB @MCHA_GAME_INIT

GOTO @GM_HPSKP

FOR I=0 TO 15
 COLSET "GRP",&H50+I,"FFFFFF"
NEXT
GT$="HP":GX=46:GY=122:GOSUB @GPRT_L
'GDRAWMD 1
CHA_HPO=0
SX=78:SY=122
SPSET 40,0,0,0,0,0,8,8
SPOFS 40,SX,SY
SX=SX-7
SPSET 41,0,0,0,0,0,8,8
SPSETV 41,0,SX
SPSETV 41,1,SY
'GT$="0":GX=84:GY=122
'GP=1:GOSUB @GPRT_R
'GP=0:GOSUB @GPRT_R
GOSUB @SC_HPG
GOSUB @SC_HPS

@GM_HPSKP


SPPAGE 1
GPAGE 1

GT$="START ▼м гбз":GX=151:GY=176:GOSUB @GPRT_L

GT$="222324" 'スコア
IF MODE==1 THEN GT$="0205" 'MP
GX=24:GY=24:GOSUB @GPRT_L12
IF MODE==0 THEN GT$="ハイスコア":GX=24:GY=56:GOSUB @GPRT_L
'GPP=0
IF MODE==0 THEN GT$=SCORE$:GX=256-24:GOSUB @GPRT_R
'GPP=1

'スコアケ゛-シ゛
SCGX=25:SCGY=44
SCGLEN=207
SCGX2=SCGX+FLOOR(SCGLEN*(SCGCLRS/SCGMAXS))
IF MODE==1 THEN SCGX2=256-SCGX
GLINE SCGX,SCGY-1,256-SCGX,SCGY-1,15
GLINE SCGX,SCGY+6,256-SCGX,SCGY+6,15
GLINE SCGX-1,SCGY,SCGX-1,SCGY+5,15
GLINE 256-SCGX+1,SCGY,256-SCGX+1,SCGY+5,15
'COLSET "GRP",&HF8,"383838"COLSET "GRP",&HF9,"282828"COLSET "GRP",&HFA,"505050"
'COLSET "GRP",&HFB,"404040"COLSET "GRP",&HFC,"00F018"COLSET "GRP",&HFD,"208030"
'COLSET "GRP",&HFE,"FFA000"COLSET "GRP",&HFF,"8C6028"
GFILL SCGX,SCGY,SCGX2,SCGY+3,&HF8
GFILL SCGX,SCGY+4,SCGX2,SCGY+5,&HF9
IF MODE!=1 THEN GFILL SCGX2,SCGY,256-SCGX,SCGY+3,&HFA
IF MODE!=1 THEN GFILL SCGX2,SCGY+4,256-SCGX,SCGY+5,&HFB

FOR I=0 TO 5
 SPSET 30+I,SPNUM16_L+10*(I>0),0,0,0,0
 SX=220-16*I:SY=21
 IF MODE==1 THEN SX=SX-28
 SPSETV 30+I,0,SX
 SPSETV 30+I,1,SY
 SPOFS 30+I,SX,SY
 SPSET I,SPNULL_L,7,0,0,0
 SX=220-16*I:SY=10
 SPSETV I,0,SX
 SPSETV I,1,SY
 SPOFS I,SX,SY
NEXT

IF MODE!=1 THEN @SETMP_SKP
GT$=".":GX=210:GY=29:GOSUB @GPRT_L
FOR I=0 TO 1
 SPSET 34+I,0,0,0,0,0,8,8
 SX=224-7*I:SY=GY
 SPOFS 34+I,SX,SY
NEXT
MP=0:SI=30:GOSUB @SCSET_MP

@SETMP_SKP

GX=150
GT$=HNT$[0]:GY=78:GOSUB @GPRT_L
GT$=HNT$[1]:GY=98:GOSUB @GPRT_L
GT$=HNT$[2]:GY=118:GOSUB @GPRT_L
GT$=HNT$[3]:GY=138:GOSUB @GPRT_L
GT$="Ш└ж":GY=158:GOSUB @GPRT_L

FOR I=0 TO 3
 SPSET 10+I,SPNUM16_L+10*(I>0),0,0,0,0
 SPSET 15+I,SPNUM16_L+10*(I>0),0,0,0,0
 SPSET 20+I,SPNUM16_L+10*(I>0),0,0,0,0
 SPSET 25+I,SPNUM16_L+10*(I>0),0,0,0,0
 SPSET 40+I,SPNUM16_L+10*(I>0),0,0,0,0
 SPOFS 10+I,226-16*I,73
 SPOFS 15+I,226-16*I,93
 SPOFS 20+I,226-16*I,113
 SPOFS 25+I,226-16*I,133
 SPOFS 40+I,226-16*I,153
NEXT

HNT1C=0:HNT1C_O=0
HNT2C=0:HNT2C_O=0
HNT3C=0:HNT3C_O=0
HNT4C=0:HNT4C_O=0
SCORE=0:SCORE_O=0
MP=0:MP_O=0
SCADD=0
SCA=0
SCE=0:SCS=0
COMBO=0:COMBO_O=0
MAXCMB=0:MAXCMB_O=0
REST=ONPCNT:REST_O=REST
_SPNUMID=SPNUM16_L
SI=40:SC=4:SZ=0:SV=REST:GOSUB @SCSET

FOR I=0+100*(MODE==1) TO 2
 SPSET 7+I,SPSTAR_L,15,0,0,0,32,32
 SPOFS 7+I,24+I*28,80
 'SPSCALE 7+I,200
NEXT

SPPAGE 0
GPAGE 0
FOR I=0 TO 3
 SPSET 32+I,SPNULL,0,REVERSE,0,0
 SPSETV 32+I,2,52 '64
 SPSETV 32+I,1,48
 IF REVERSE THEN SPSETV 32+I,2,255-52
 IF REVERSE THEN SPHOME 32+I,15,0
NEXT


FEND=0
SPI=0
FX=0':FS=0
PS=0
CNT=0
TTR_RSLT=0
OA=-1
BGMPLAY 7,255
FGET=1

LASTC=MAINCNTL
STARTCNT=MAINCNTL

GOTO @LOOP


@GPRT_R12N
_GX=GX
FOR _I=1 TO LEN(GT$)
 _GC=ASC(RIGHT$(GT$,_I))-48
 _GX=_GX-10
 IF _GC==1 THEN _GX=_GX+2
 GOSUB @GP12_N
 IF _GC==1 THEN _GX=_GX+1
NEXT
GPUTCHR 0,0,"BGU0",0,GP,1
RETURN

@GPRT_L12
_GX=GX
FOR _I=0 TO LEN(GT$)-1 STEP 2
 _GCN$=MID$(GT$,_I,2)
 IF LEFT$(_GCN$,1)=="-" THEN @GP12_LN

 _GC=VAL("&H"+_GCN$)
 _GCS=PFT1_S[_GC]*GS:_GCW=PFT1_W[_GC]*GS
 GOSUB @GP12_C
 _GX=_GX+_GCW+3*GS
NEXT
GPUTCHR 0,0,"BGU0",0,GP,1
RETURN

@GP12_LN
 _GC=VAL(RIGHT$(_GCN$,1))
 _GX=_GX-2
 IF _GC==1 THEN _GX=_GX-1
 GOSUB @GP12_N
 IF _GC==1 THEN _GX=_GX-2
 _GX=_GX+2+7+3
NEXT
RETURN

@GPRT_R12
_GX=GX
FOR _I=LEN(GT$)-2 TO 0 STEP -2
 _GCN$=MID$(GT$,_I,2)
 IF LEFT$(_GCN$,1)=="-" THEN @GP12_RN

 _GC=VAL("&H"+_GCN$)
 _GCS=PFT1_S[_GC]*GS:_GCW=PFT1_W[_GC]*GS
 _GX=_GX-_GCW
 GOSUB @GP12_C
 _GX=_GX-3*GS
NEXT
GPUTCHR 0,0,"BGU0",0,GP,1
RETURN

@GP12_RN
 _GC=VAL(RIGHT$(_GCN$,1))
 _GX=_GX-7-2
 IF _GC==1 THEN _GX=_GX+2
 GOSUB @GP12_N
 IF _GC==1 THEN _GX=_GX+1
 _GX=_GX+2-3
NEXT
RETURN

@GP12_N
 GPUTCHR _GX,GY,"SPU2U",128+_GC*4,GP,1
 GPUTCHR _GX+8,GY,"SPU2U",128+_GC*4+1,GP,1
 GPUTCHR _GX,GY+8,"SPU2U",128+_GC*4+2,GP,1
 GPUTCHR _GX+8,GY+8,"SPU2U",128+_GC*4+3,GP,1
RETURN
@GP12_C
_GR$="SPU5U"
IF _GC>=&H40 THEN _GR$="SPU4U":_GC=_GC-&H40
 GPUTCHR _GX-_GCS,GY,_GR$,_GC*4,GP,1
 GPUTCHR _GX-_GCS+8,GY,_GR$,_GC*4+1,GP,1
 GPUTCHR _GX-_GCS,GY+8,_GR$,_GC*4+2,GP,1
 GPUTCHR _GX-_GCS+8,GY+8,_GR$,_GC*4+3,GP,1
RETURN

@GPRT_R
_GX=GX
_GCS=0:_GCW=7'8
FOR _I=1 TO LEN(GT$)
 _GC=ASC(RIGHT$(GT$,_I))
 IF GPP THEN _GCS=PFT_S[_GC]*GS:_GCW=PFT_W[_GC]*GS
 _GX=_GX-_GCW
 GPUTCHR _GX-_GCS,GY,"BGF0U",_GC,GP,GS
 IF GPP THEN _GX=_GX-2*GS
NEXT
RETURN
@GPRT_L
_GX=GX
_GCS=0:_GCW=7'8
_CHM=0
FOR _I=0 TO LEN(GT$)-1
 _GC=ASC(MID$(GT$,_I,1))
 IF _GC==ASC("$") THEN _CHM=!_CHM:GOTO @GP_L2
 IF _CHM AND _GC>=160 THEN _GC=_GC-32
 IF _CHM AND _GC>=192-32 THEN _GC=_GC+32+32
 IF GPP THEN _GCS=PFT_S[_GC]*GS:_GCW=PFT_W[_GC]*GS
 GPUTCHR _GX-_GCS,GY,"BGF0U",_GC,GP,GS
 _GX=_GX+_GCW
 IF GPP THEN _GX=_GX+2*GS
@GP_L2
NEXT
RETURN

@LOOP
 'IF FX<12 THEN SPCHR 31,252+3*!(FX%4),2,0,0,0
 
 A=BGMGETV(7,0)
 FOR P=1 TO A!=OA AND !FEND
  GOSUB @FREAD
  OA=(OA+1)%4
  P=0
 NEXT
 OA=A
 
 IF !BGMCHK(6) AND MAINCNTL-STARTCNT>MSCNT THEN BGMPLAY 6,ID,VOL

 BT=0
 
 IF !AUTO THEN GOSUB @BTN
 IF AUTO THEN GOSUB @AUTO
 
 'IF MODE==1 THEN 
   GOSUB @CHRMV
 IF MODE==2 THEN GOSUB @GAME_TTR
 
 GOSUB @MOVE
 GOSUB @HNT
 
 IF CHA_HP>CHA_HPMAX THEN CHA_HP=CHA_HPMAX
 IF CHA_HP<.5 THEN CHA_HP=0
 GOSUB @SCOR
 
 IF MODE==1 AND CHA_HP<.5 THEN @GOVER

 IF MAINCNTL<STARTCNT THEN STARTCNT=STARTCNT-524287-1
 CNT=MAINCNTL-STARTCNT
' BGOFS 1,CNT/2,0
 
 FPS=FPS+1
 IF DEBUG AND MAINCNTL-LASTC>59 THEN LOCATE 0,0:?FPS,:FPS=0:LASTC=MAINCNTL
 
 IF FEND THEN FEND=FEND+1
 IF FEND==MSCNT+60 THEN BGMSTOP 6,5
 IF FEND==MSCNT+120 THEN @RESULT
 
 VSYNC 1
 
 IF BUTTON() AND 1024 THEN @QUIT
 
GOTO @LOOP

@FGET
' IF FX-FS<LEN(FM$) THEN RETURN
 
' FS=FX
 READ FM$
 
 @FRCHK
 IF FM$=="" THEN FEND=1:RETURN
 
 IF FM$=="#BPM" THEN @FBPM
 IF FM$=="#GOSUB" THEN @FGOSUB
 IF FM$=="#RETURN" THEN @FRETURN
 IF FM$=="#AUTO" THEN @FAUTO
 IF VAL(FM$) THEN @FLOOPCHK
 
 IF LEFT$(FM$,1)=="@" THEN @FKSET
 
RETURN

@FREAD
 IF DEBUG THEN LOCATE 4,0:?PS,
 IF FX>=LEN(FM$) THEN FX=0:GOSUB @FGET
 IF FEND==1 THEN RETURN
 
' IF PS==16 THEN BGMPLAY 6,ID,VOL
 
 NTC=ASC(MID$(FM$,FX,1))
 IF NTC==ASC("#") THEN FX=FX+1
 FX=FX+1
 
 IF NTC==ASC(" ") THEN PS=PS+1:RETURN
 
 S=2
 K=NTC-ASC("A")
 IF K>26 THEN K=NTC-ASC("a"):S=1
 IF K<0 OR K>26 THEN @FREAD
 PS=PS+1
 C=KC[K]
 BN=KBN[K]
 BC=KBC[K]
 BV=KBV[K]
 BP=KBP[K]
 X=KX[K]
 
 SPOFS SPI,-16,-16
 SPCHR SPI,SPNOTE+C,0,0,0,0
 SPSETV SPI,V_S,S
 SPSETV SPI,V_T1,CNT
 SPSETV SPI,V_T2,CNT+MSCNT
 SPSETV SPI,V_BN,BN
 SPSETV SPI,V_BC,BC
 SPSETV SPI,V_BV,BV
 SPSETV SPI,V_BP,BP
 SPSETV SPI,V_X,X
 
 SPI=(SPI+1)%(NOTEMAX+1)
RETURN

@FKSET
 NT$=RIGHT$(FM$,1)
 K=ASC(NT$)-ASC("A")
 READ C,BN,BC,BV,BP,X
 IF C!=-1 THEN KC[K]=C
 IF BN!=-1 THEN KBN[K]=BN
 IF BC!=-1 THEN KBC[K]=BC
 IF BV!=-1 THEN KBV[K]=BV
 IF BP!=-1 THEN KBP[K]=BP
 IF X!=-1 THEN KX[K]=X
 READ FM$
GOTO @FRCHK

@FBPM
 READ TMP
 READ FM$
 IF CNT<0 THEN @ONPCNT_T
GOTO @FRCHK

@FLOOPCHK
 LOOPC=LOOPC+1
 IF LOOPC<VAL(FM$) THEN RESTORE FLABEL$+"_L"
 IF DEBUG THEN LOCATE 0,1:?"Loop:";LOOPC+1;"/";FM$,
 READ FM$
GOTO @FRCHK

@FGOSUB
 READ FGOSUB$,FRETURN$
 RESTORE FLABEL$+"_"+FGOSUB$
 IF DEBUG THEN LOCATE 0,2:?"Gosub:";FGOSUB$;"/";FRETURN$,
 READ FM$
GOTO @FRCHK

@FRETURN
 IF FRETURN$!="" THEN RESTORE FLABEL$+"_"+FRETURN$
 FRETURN$=""
 IF DEBUG THEN LOCATE 0,2:?" "*32;
 READ FM$
GOTO @FRCHK

@FAUTO
 READ NAUTO
 READ FM$
 IF CNT<0 THEN GOTO @FRCHK
 IF AUTO==NAUTO THEN GOTO @FRCHK
 AUTO=NAUTO
 GX=244
 GT$="[ オ-ト フ゜レイ ]":GY=130
 IF AUTO THEN GOSUB @GPRT_R
 IF !AUTO THEN GFILL 150,116,255,123,0
GOTO @FRCHK

@CHRMV
 IF BT>0 AND !REVERSE THEN SPANGLE 30,30:SPANGLE 30,-40,5,-1
 IF BT>0 AND REVERSE THEN SPANGLE 30,-30:SPANGLE 30,40,5,1
 IF BT THEN SPCHR 31,96+17
 ANIMV=BGMGETV(7,1)
 IF ANIMV<0 THEN ANIMV=0
 IF !BUTTON() AND !SPCHK(30) AND !REVERSE THEN SPANGLE 30,30
 IF !BUTTON() AND !SPCHK(30) AND REVERSE THEN SPANGLE 30,-30
 IF !BUTTON() AND !SPCHK(30) THEN SPCHR 31,96+ANIMV%4
 GOSUB @MCHA_GAME_MV
RETURN

@MOVE
 FLY_T=20
 FOR I=0 TO NOTEMAX
  STAT=SPGETV(I,V_S)
  IF STAT<-FLY_T THEN @MVSKIP
  IF STAT<0 THEN @MVANCNT
  IF STAT==1 THEN SPSCALE I,100
  IF STAT==2 THEN SPSCALE I,140
  T1=SPGETV(I,V_T1)
  T2=SPGETV(I,V_T2)
  XP=SPGETV(I,V_X)
  XD=MSLEN*XP/100
  P=(T2-CNT)/(T2-T1)*1.1
  D=MSLEN*P
  IF D>XD THEN @MV0
  IF D>0 THEN @MV1
  IF D>-60 THEN @MV2
 @MV3
  X=TGX+D
  Y=TGY+(D+60)*(D+60)/10
  IF Y>192+16 THEN SPSETV I,V_S,-100
  GOTO @MV
 @MV2
  X=TGX+D
  Y=TGY
  GOTO @MV
 @MV1
  X=TGX+D*0.832 'COS
  Y=TGY-D*0.555 'SIN
  GOTO @MV
 @MV0
  X=TGX+XD*0.832
  Y=TGY-XD*0.555-(D-XD)
 @MV
  IF REVERSE THEN X=255-FLOOR(X):P=-P
  SPOFS I,X,Y
  SPANGLE I,360*P*4 'MSLEN/(16*PI())
 @MVSKIP
 NEXT
RETURN

@MVANCNT 'Fly
 SPREAD(I),D,D,D,D,C
 SPCHR I,C,0,0,0,1
 SPSETV I,V_S,STAT-1
 X=TGX+(256-30-TGX)*(-STAT/FLY_T)
 IF REVERSE THEN X=256-X
 Y=TGY+20*(-1+(FLY_T/2+STAT)*(FLY_T/2+STAT)/(FLY_T/2)/(FLY_T/2))
 SPOFS I,X,Y
 IF STAT==-FLY_T THEN SPOFS I,-32,-32
 IF STAT==-FLY_T THEN GOSUB @MCHA_GAME_H
GOTO @MVSKIP


@AUTO
 FOR J=SPI TO SPI+NOTEMAX
  I=J%(NOTEMAX+1)
  
  IF SPGETV(I,V_S)<=0 THEN @ATSKIP
  T2=SPGETV(I,V_T2)
  IF CNT<T2 THEN J=J+32:GOTO @ATSKIP 'RETURN
  
  BT=BT+SPGETV(I,V_S)
  J=J+32':GOTO @ATSKIP
  'RETURN
  
 @ATSKIP
 NEXT
RETURN

@HNT
 BN0=-1
 FOR J=SPI TO SPI+NOTEMAX
  I=J%(NOTEMAX+1)
  STAT=SPGETV(I,V_S)
  IF STAT<=0 THEN @HNTSKIP
  
  T2=SPGETV(I,V_T2)
  FRM=CNT-T2
  '-:ハヤイ +:オソイ
  IF FRM<-15 THEN J=J+32:GOTO @HNTEND 'RETURN
  
  BN=SPGETV(I,V_BN)
  BC=SPGETV(I,V_BC)
  BV=SPGETV(I,V_BV)
  BP=SPGETV(I,V_BP)
  IF BN0<0 THEN BN0=BN:BC0=BC:BV0=BV:BP0=BP
  
  IF !BT AND FRM>5 THEN @HNT4
  IF !BT THEN J=J+32:GOTO @HNTEND 'RETURN
  
 @HNTREDO
  BT=BT-1
  IF BN>=0 THEN BEEP BN,BC,BV,BP
  IF STAT==1 THEN SPSETV I,V_S,-1
  IF STAT==2 THEN SPSETV I,V_S,1
  
  IF ABS(FRM)<=2 THEN @HNT1
  IF ABS(FRM)<=4 THEN @HNT2
  
 @HNT3 'Bad
  IF STAT==1 THEN SPCHR I,SPNULL,0,0,0,0
  HNT3C=HNT3C+1
  COMBO=0
  REST=REST-1
  IF MODE==1 THEN CHA_HP=CHA_HP-3
  GOTO @HNTSKIP
  
 @HNT4 'Miss
  SPSETV I,V_S,0
  HNT4C=HNT4C+STAT
  COMBO=0
  SCADD=-FLOOR(SCBASE/ONPCNT+.5)
  SCORE=SCORE+SCADD
  MP=MP-10000/ONPCNT
  REST=REST-STAT
  IF MODE==1 THEN CHA_HP=CHA_HP-5
  'IF MODE==1 THEN 
    SPCHR 31,96+24:SPANIM 30,1,10,1 'ナニモシナイアニメ
  GOTO @HNTSKIP
  
 @HNT2 'OK
  'IF STAT==1 THEN SPCHR 29,SPNOTE2,0,0,0,0
  'IF STAT==1 THEN SPANIM 29,2,10,1
  ''IF STAT==1 THEN SPSCALE 29,200,10
  HNT2C=HNT2C+1
  COMBO=COMBO+1
  IF COMBO>=MAXCMB THEN MAXCMB=COMBO
  IF COMBO>=100 THEN SCADD=SCBASE+SCBONUS ELSE SCADD=SCBASE+COMBO*(SCBONUS/100)
  SCADD=FLOOR(SCADD/ONPCNT*.6+.5)
  SCORE=SCORE+SCADD
  MP=MP+5000/ONPCNT
  REST=REST-1
  IF MODE==1 THEN CHA_HP=CHA_HP+.12
  GOTO @HNTSKIP
  
 @HNT1 'Good
  IF STAT==1 THEN SPCHR 29,SPNOTE1,0,0,0,0
  IF STAT==1 THEN SPANIM 29,3,5,1
  IF STAT==1 THEN SPSCALE 29,100
  IF STAT==1 THEN SPSCALE 29,200,10
  HNT1C=HNT1C+1
  COMBO=COMBO+1
  IF COMBO>=MAXCMB THEN MAXCMB=COMBO
  IF COMBO>=100 THEN SCADD=SCBASE+SCBONUS ELSE SCADD=SCBASE+COMBO*(SCBONUS/100)
  SCADD=FLOOR(SCADD/ONPCNT+.5)
  SCORE=SCORE+SCADD
  MP=MP+10000/ONPCNT
  REST=REST-1
  IF MODE==1 THEN CHA_HP=CHA_HP+.25
  
 @HNTSKIP
  IF BT>0 AND STAT==2 THEN STAT=1:GOTO @HNTREDO
 @HNTEND
 NEXT
 IF BN0<0 THEN BN0=KBN[0]:BC0=KBC[0]:BV0=KBV[0]:BP0=KBP[0]
 IF BT AND BN0>=0 THEN BEEP BN0,BC0,BV0,BP0
RETURN

@BTN
 B_=BUTTON()
 B=B_ AND NOT OB
 OB=B_
 
 FOR I=0 TO 9
  IF B AND 1 THEN BT=BT+1
  B=B/2
 NEXT
 
' IF TCHST AND !OT THEN BT=BT+1
' OT=TCHST
RETURN

@GAME_TTR
GPAGE 0
GDRAWMD 0
GPP=1
 TS$="@S7
 IF PS<16*1+4 THEN RETURN
 IF PS==16*1+4 THEN @GTR_1
 IF PS==16*4-4 THEN @GTR_2
 IF PS==16*8-8 THEN @GTR_3
 IF PS==16*12+4 THEN @GTR_4
 IF TTR_RSLT==1 THEN TTR_RSLT=2:GOTO @GTR_R

 IF DEBUG AND TTR_FIN THEN LOCATE 0,5:?TTR_GX-128,
 IF TTR_L==0 AND TTR_FIN THEN @GTR_NEXT
GOTO @TTR_GP_L0

@GTR_1
GTR$="$コノ $ケ゛-ム$ノ アソヒ゛カタヲ$/$セツメイ スルヨ$
TTR$="コノ/ケ゛'-ムノ/アソヒ゛カ'タヲ/セツメイスルヨ
TTR_W0=120:TTR_W1=63
GOTO @GAME_TTRT
@GTR_2
GTR$="$オンフ゜カ゛ キタラ$/$ト゛レカノ $ホ゛タン$ヲ オシテネ$
TTR$="オンフ゜カ゛/キ'タラ/ト゛'レカノ/ホ゛タンヲ/オシテ/ネ?
TTR_W0=75:TTR_W1=119
GOTO @GAME_TTRT
@GTR_3
GTR$="$オオキイ オンフ゜ノ トキハ$/$2ツノ $ホ゛タン$ヲ イッショニ オシテネ$
TTR$="オオキ'イ/オンフ゜ノ/ト'キワ/フタツ'ノ/ホ゛タンヲ/イッショニ/オシテ/ネ?
TTR_W0=106:TTR_W1=146
GOTO @GAME_TTRT
@GTR_4
GTR$="$ソレテ゛ハ ヤッテミヨウ!$/
TTR$="ソレテ゛'ワ/ヤッテミヨ'オ
TTR_W0=96:TTR_W1=0
GOTO @GAME_TTRT
@GTR_R
GTR$="スコア$カ゛ 80000テン イシ゛ョウ ナラ$/クリア $タ゛ヨ$
TTR$="スコ'アカ゛/ハチマンテン/イ'シ゛ョウナラ/クリ'ア/タ゛ヨ?
TTR_W0=155:TTR_W1=49

@GAME_TTRT
GT$=GTR$
TTR_L=0
GT_S=INSTR(GT$,"/")
GT1$=LEFT$(GT$,GT_S)
TTR_GY=160
TTR_GX=128-TTR_W0/2
GFILL 0,160,255,191,0
TALK TS$+TTR$
GOTO @TTR_GP_L

@GTR_NEXT
GT$=GTR$
TTR_L=1
GT1$=RIGHT$(GT$,LEN(GT$)-GT_S-1)
TTR_GY=170
TTR_GX=128-TTR_W1/2
GOTO @TTR_GP_L

@SCOR
SCMODE=0
IF MODE==1 THEN SCMODE=1

SPPAGE 1
GPAGE 1
_SPNUMID=SPNUM16_L
 
 SI=30
 IF SCORE<0 THEN SCORE=0
 IF SCMODE==0 AND SCORE!=SCORE_O THEN SC=6:SZ=0:SV=SCORE:GOSUB @SCSET:GOSUB @SCMOV
 IF SCMODE==0 AND SCORE!=SCORE_O THEN SV=SCORE:SVMAX=SCGMAXS:GOSUB @SCDRAW
 SCORE_O=SCORE
 
 IF MP<0 THEN MP=0
 IF SCMODE==1 AND MP!=MP_O THEN SC=4:SZ=0:SV=FLOOR(FLOOR(MP+.5)/100):GOSUB @SCSET
 IF SCMODE==1 AND MP!=MP_O THEN SV=FLOOR(MP+.5):SVMAX=10000:GOSUB @SCDRAW
 IF SCMODE==1 AND MP!=MP_O THEN GOSUB @SCSET_MP
 MP_O=MP
 
 SI=0
 IF SCMODE==0 AND SCADD!=0 THEN SC=6:SZ=-1:SV=SCADD:GOSUB @SCSET:GOSUB @SCMOV2
 SCADD=0
 SCADDC=SCADDC-1
 IF SCMODE==0 AND SCADDC==0 THEN GOSUB @SCADCLR
 
 SI=10
 IF HNT1C!=HNT1C_O THEN SC=4:SZ=0:SV=HNT1C:GOSUB @SCSET
 HNT1C_O=HNT1C
 
 SI=15
 IF HNT2C!=HNT2C_O THEN SC=4:SZ=0:SV=HNT2C:GOSUB @SCSET
 HNT2C_O=HNT2C
 
 SI=20
 IF HNT3C!=HNT3C_O THEN SC=4:SZ=0:SV=HNT3C:GOSUB @SCSET
 HNT3C_O=HNT3C
 
 SI=25
 IF HNT4C!=HNT4C_O THEN SC=4:SZ=0:SV=HNT4C:GOSUB @SCSET
 HNT4C_O=HNT4C
 
 SI=40
 IF REST!=REST_O THEN SC=4:SZ=0:SV=REST:GOSUB @SCSET
 REST_O=REST
 
SPPAGE 0
GPAGE 0
_SPNUMID=SPNUM16
 
 SI=32:SC=4
 SREV=REVERSE
 IF FLOOR(COMBO/50)>FLOOR(COMBO_O/50) THEN BGMPLAY 0,131,80
 IF COMBO!=COMBO_O THEN SZ=-1:SV=COMBO:GOSUB @SCSET:GOSUB @SCCET:GOSUB @SCMOV
 IF COMBO>=100 AND COMBO_O<100 THEN GOSUB @SCCOL
 IF COMBO<100 AND COMBO_O>=100 THEN GOSUB @SCCOL
 CMB_X=39:CMB_Y=70
 IF REVERSE THEN CMB_X=255-CMB_X-CMB_W
 'IF COMBO_O==0 AND COMBO>0 THEN GT$="コンホ゛":GX=39:GY=70:GOSUB @GPRT_L
 IF COMBO_O==0 AND COMBO>0 THEN GCOPY 2,0,184,CMB_W,191,CMB_X,CMB_Y,0
 IF COMBO==0 AND COMBO_O>0 THEN GFILL CMB_X,CMB_Y,CMB_X+CMB_W,CMB_Y+7,0
 COMBO_O=COMBO
 SREV=0
 
 IF MODE==1 AND CHA_HP!=CHA_HPO THEN GOSUB @SC_HPG
 IF MODE==1 AND FLOOR(CHA_HP+.5)!=FLOOR(CHA_HPO+.5) THEN GOSUB @SC_HPS
RETURN

@SC_HPS
SPCHR 40,FLOOR(CHA_HP+.5)%10
SPCHR 41,FLOOR(CHA_HP+.5)/10
SX=SPGETV(41,0)
SY=SPGETV(41,1)
SPOFS 41,SX-256*(FLOOR(CHA_HP+.5)<10),SY
'GDRAWMD 1
'GX=84:GY=122
'GT$=STR$(FLOOR(CHA_HPO+.5))
'GP=1:GOSUB @GPRT_R
'GP=0:GOSUB @GPRT_R
'GT$=STR$(FLOOR(CHA_HP+.5))
'GP=1:GOSUB @GPRT_R
'GP=0:GOSUB @GPRT_R
CHA_HPO=CHA_HP
'GDRAWMD 0
RETURN

@SC_HPG
HPGX=44:HPGY=132:HPGLEN=42
GLINE HPGX,HPGY,HPGX+HPGLEN-1,HPGY,29
IF CHA_HP<.5 THEN RETURN
HPGC=15
IF CHA_HP<=CHA_HPMAX/2 THEN HPGC=12
IF CHA_HP<=CHA_HPMAX/4 THEN HPGC=2
GLINE HPGX,HPGY,HPGX+HPGLEN*CHA_HP/CHA_HPMAX-1,HPGY,HPGC
RETURN

@SCSET
 CHG=-1
 SLE=0
 SCM=(SV<0):SCM_=SCM
 FOR I=0 TO SC-1
  IF SZ!=1 AND (SZ==-1 OR I!=0) AND SV==0 THEN SC1=10+2*SCM:SCM=0:GOTO @SCSCHR
  SLE=I+1
  SPREAD(SI+I),DM,DM,DM,DM,CH
  OSC1=CH%512-_SPNUMID
  SC1=ABS(SV%10):SV=SGN(SV)*FLOOR(ABS(SV/10))
  IF SC1==OSC1 THEN @SCSKIP
  CHG=I
 @SCSCHR
  IF SC1!=10 THEN SLE=I+1
  SPCHR SI+I,_SPNUMID+SC1
 @SCSKIP
 NEXT
RETURN
@SCMOV
 FOR I=0 TO CHG
  'SPREAD(SI+I),SX,SY
  SX=SPGETV(SI+I,0)
  SY=SPGETV(SI+I,1)
  SPOFS SI+I,SX,SY-4
  SPOFS SI+I,SX,SY,4
 NEXT
RETURN
@SCCET
 IF CHG<0 THEN RETURN
 FOR I=0 TO SLE-1
  SX=SPGETV(SI+I,2)
  SY=SPGETV(SI+I,1)
  IF !SREV THEN SX=SX+16*(SLE/2-I-1)
  IF SREV THEN SX=SX-16*(SLE/2-I-1)
  SPOFS SI+I,SX,SY
  SPSETV SI+I,0,SX
 NEXT
RETURN
@SCMOV2
 FOR I=0 TO SLE-1
  SX=SPGETV(SI+I,0)
  SY=SPGETV(SI+I,1)
  SPREAD(SI+I),DM,DM,DM,DM,CH
  SPCHR SI+I,CH%512,7+2*SCM_,0,0,0
  SPOFS SI+I,SX+8,SY
  SPOFS SI+I,SX,SY,8
 NEXT
 SCADDC=30
RETURN
@SCADCLR
 FOR I=0 TO 5
  SPCHR SI+I,_SPNUMID+10
 NEXT
RETURN
@SCCOL
 FOR I=0 TO SC-1
  SPREAD(SI+I),DM,DM,DM,DM,CH
  SPCHR SI+I,CH%512,3*(COMBO>=100),SREV,0,0
 NEXT
 GDRAWMD 1
 GFILL CMB_X,CMB_Y,CMB_X+CMB_W,CMB_Y+7,&H30
 GDRAWMD 0
RETURN
@SCDRAW
 SCS=SCE
 IF SCS<SCGX-1 THEN SCS=SCGX-1
 
 SCE=SCGLEN*(SV/SVMAX)
 IF SCE>SCGLEN THEN SCE=SCGLEN
 SCE=SCGX-1+FLOOR(SCE)
 
 GDRAWMD 1
 IF SCE>SCS THEN GFILL SCS+1,SCGY,SCE,SCGY+5,&H04
 IF SCS>SCE THEN GFILL SCE+1,SCGY,SCS,SCGY+5,&H04
 GDRAWMD 0
RETURN
@SCSET_MP
 'GFILL 210,24,255,40,0
 'GT$=".":GX=210:GY=29:GOSUB @GPRT_L
 'GT$=RIGHT$(STR$(FLOOR(MP+100.5)),2)
 'GX=218:GOSUB @GPRT_L
 SPCHR SI+5,SPNUM8_L+FLOOR(MP+.5)/10%10
 SPCHR SI+4,SPNUM8_L+FLOOR(MP+.5)%10
RETURN


@QUIT
GPAGE 1
GFILL 150,176,255,191,0

BGMSTOP 6,1.5
WAIT 90

'IF MODE==0 THEN @MENU

'IF MODE==1 THEN GOTO "@CHA"+STR$(BGM+1)
'GOTO @TIT
GOTO @MENU

@GOVER
BGMSTOP 6,1.5
WAIT 90

BEEP 6
BGMPLAY 0,142,40

GPAGE 1
GT$="363F0E310F":GX=45 'シッハ゜イ
GY=90:GOSUB @GPRT_L12

@GOVER_W
VSYNC 1
IF !BUTTON(2) THEN @GOVER_W

CHA_MP[BGM]=FLOOR(MP+.5)
CHA_CLR[BGM]=-1
GOTO @CHA7

@RESULT
SPPAGE 1
GPAGE 1
IF MODE==1 THEN @RESULT2

CLR=0
IF SCORE>=SCGCLRS THEN CLR=1
IF CLR==1 AND REST+HNT3C+HNT4C==0 THEN CLR=2
IF CLR==2 AND HNT2C==0 THEN CLR=3

FOR I=0 TO 2
 IF CLR>I THEN SPCHR 7+I,SPSTAR_L,0,0,0,0:BEEP 7:WAIT 20
NEXT

IF CLR==0 THEN GT$="363F0E310F":GX=45 'シッハ゜イ
IF CLR==1 THEN GT$="252624":GX=54:GP=3 'クリア
IF CLR==2 THEN GT$="272823292A30":GX=39:GP=3 'フルコンホ゛
IF CLR==3 THEN GT$="203133272B252C":GX=30:GP=3 'ハ゜-フェクト
GY=120:GOSUB @GPRT_L12
GP=0

IF CLR==0 THEN BEEP 8

IF AUTO OR SCORE<=OLDSCORE THEN @HS_SKIP
IF MODE==2 THEN @HS_SKIP
WAIT 30
GT$="2021222324" 'ハイスコア
GX=36:GY=148:GOSUB @GPRT_L12
GT$="3435363732" 'コウシン!
GX=54:GY=168:GOSUB @GPRT_L12
BEEP 5

@HS_SKIP

CRB$="BG":CRI=&H3F:GOSUB @COLRD
COLSET "GRP",&H3F,C$
COLSET "GRP",&H30,BG_C1$

TTR_RSLT=1
RSLTCNT=0
@RSLTLOOP
VSYNC 1
RSLTCNT=(RSLTCNT+1)%12
GPAGE 1
GDRAWMD 1
IF RSLTCNT==0 THEN GFILL 26,144,117,179,&H30
IF MODE==2 THEN GOSUB @GAME_TTR
IF MODE==2 AND (TTR_RSLT<2 OR !TTR_FIN) THEN @RSLTLOOP
IF !BUTTON(2) THEN @RSLTLOOP
GDRAWMD 0

GOSUB @SAV

GOTO @MENU


@RESULT2

CLR=1
IF REST+HNT3C+HNT4C==0 THEN CLR=2

IF CLR==2 AND HNT2C==0 THEN CLR=3

IF CLR==1 THEN GT$="252624":GX=54:GP=3 'クリア
IF CLR==2 THEN GT$="272823292A30":GX=39:GP=3 'フルコンホ゛
IF CLR==3 THEN GT$="203133272B252C":GX=30:GP=3 'ハ゜-フェクト
GY=90:GOSUB @GPRT_L12
GT$="+ 50.00":GX=60
IF CLR>=2 THEN GY=110:GOSUB @GPRT_L
GP=0

_SPNUMID=SPNUM16_L
SI=30
IF CLR>=2 THEN BEEP 12:MP=MP+5000:SC=4:SZ=0:SV=FLOOR(FLOOR(MP+.5)/100):GOSUB @SCSET:GOSUB @SCMOV
IF CLR==1 THEN BEEP 7
WAIT 30

@RSLT2_W
VSYNC 1
IF !BUTTON(2) THEN @RSLT2_W

CHA_MP[BGM]=FLOOR(MP+.5)
CHA_CLR[BGM]=CLR

GOTO "@CHA"+STR$(BGM)+"C"

@SAV
'IF BGM>=7 THEN RETURN
IF BGM==0 THEN RETURN
IF AUTO THEN RETURN
SAV_CHANGED=0
IF SCORE<=OLDSCORE THEN @SKIPSAVSC
SAV_CHANGED=1
IF CLR>=1 THEN STAR=STAR OR 1+EX*7
IF CLR>=2 THEN STAR=STAR OR 2+EX*14
IF CLR>=3 THEN STAR=STAR OR 4+EX*28
SVDATA$=CHR$(STAR)+RIGHT$(SVDATA$,34)
SVDATA1$=HEX$(SCORE,5)
SVDATA1$=SVDATA1$+HEX$(HNT1C,3)
SVDATA1$=SVDATA1$+HEX$(HNT2C,3)
SVDATA1$=SVDATA1$+HEX$(HNT3C,3)
SVDATA1$=SVDATA1$+HEX$(HNT4C,3)
SVDATA$=SUBST$(SVDATA$,1+SVLEN1*EX,SVLEN1,SVDATA1$)
MEM$=SUBST$(MEM$,SVLEN*((BGM-1)%6),SVLEN,SVDATA$)
@SKIPSAVSC
IF CLR>=1 AND UNLOCK==BGMP THEN UNLOCK=UNLOCK+1:SAV_CHANGED=1
'IF UNLOCK>=7 THEN UNLOCK=10
MEM$=SUBST$(MEM$,SVLEN*7,1,CHR$(UNLOCK))
IF SAV_CHANGED THEN SAVE SAVFILE$
RETURN

'---------------------------
@CHA
CHA_HPMAX=50
CHA_HP=CHA_HPMAX

FOR I=0 TO 8
 CHA_MP[I]=0
 CHA_CLR[I]=0
NEXT

'INPUT BGM
'GOTO "@CHA"+STR$(BGM)
GOTO @CHA0

@CHAINIT
BGMSTOP 

CLS
GPAGE 1:GCLS
SPPAGE 1:SPCLR

_SPNUMID=SPNUM16_L

GT$="チャレンシ゛ モ-ト゛  スコア"
GX=24:GY=24
IF CHA_CLR[0] THEN GOSUB @GPRT_L
FOR J=0 TO 8
 GT$="["+STR$(J+1)+"]"
 GX=36+104*(J>=4)
 GY=54+30*(J%4)+15*(J>=4)
 IF CHA_CLR[J] THEN GOSUB @GPRT_L
 GP=0
 IF CHA_CLR[J]==2 THEN GP=3
 IF CHA_CLR[J]==3 THEN GP=7
 FOR I=0 TO 3
  SPSET 30+J*6+I,SPNULL_L,GP,0,0,0
  SX=220-16*I-28-104*(J<4)
  SY=50+30*(J%4)+15*(J>=4)
  IF J==8 THEN SX=SX-5:SY=20
  SPOFS 30+J*6+I,SX,SY
 NEXT
 GT$="."
 GX=210-104*(J<4)
 GY=58+30*(J%4)+15*(J>=4)
 IF CHA_CLR[J] THEN GOSUB @GPRT_L
 FOR I=0 TO 1
  SPSET 34+J*6+I,SPNULL_L,GP,0,0,0,8,8
  SX=224-7*I-104*(J<4)
  SY=GY
  IF J==8 THEN SX=SX-5:SY=28
  SPOFS 34+J*6+I,SX,SY
 NEXT
 MP=CHA_MP[J]
 SI=30+6*J:SC=4:SZ=0:SV=FLOOR(MP/100)
 IF CHA_CLR[J] THEN GOSUB @SCSET
 IF CHA_CLR[J] THEN GOSUB @SCSET_MP
 GP=0
@CHASCRSKP
NEXT

GPAGE 0:GCLS 
SPPAGE 0:SPCLR 
'BGPAGE 0:BGCLR 

BGOFS 0,SCX_GRND,SCY_GRND
BGFILL 1,32,0,63,63,0
BGOFS 1,32,0

@CHA_GINIT
'GCOPY 2,0,0,127,45,0,192-46,1
'GCOPY 2,0,0,127,45,128,192-46,1
GFILL 0,CHA_GY,255,191,0

RETURN

@CHA_GP_R
GPP=!FT_L
SKIPA=0
TALK TS$+TT$
GT_S=INSTR(GT$,"/")
GT1$=LEFT$(GT$,GT_S):GY=CHA_GY+17:GOSUB @CHA_GP_R0
GT1$=RIGHT$(GT$,LEN(GT$)-GT_S-1):GY=CHA_GY+27:GOSUB @CHA_GP_R0

CHA_GP_C=0
@CHA_GP_R1
VSYNC 1
IF !TALKCHK() THEN CHA_GP_C=CHA_GP_C+1
IF CHA_GP_C<120 AND !(BUTTON(2) AND 16) THEN @CHA_GP_R1

TALKSTOP
GOTO @CHA_GINIT

@CHA_GP_R0
CHM=0
GX=256-12
_GCS=0:_GCW=7
FOR I=LEN(GT1$)-1 TO 0 STEP -1
 CC=ASC(MID$(GT1$,I,1))
 IF CC==ASC("$") THEN CHM=!CHM:GOTO @CHA_GP_R2
 IF CHM AND CC>=160 THEN CC=CC-32
 IF CHM AND CC>=192-32 THEN CC=CC+32+32
 IF GPP THEN _GCS=PFT_S[CC]:_GCW=PFT_W[CC]
 GX=GX-_GCW-2*GPP
@CHA_GP_R2
NEXT
GX=GX+2

CHM=0
VSYNC 1
FOR I=0 TO LEN(GT1$)-1
 CC=ASC(MID$(GT1$,I,1))
 IF CC==ASC("$") THEN CHM=!CHM:GOTO @CHA_GP_R3
 IF CHM AND CC>=160 THEN CC=CC-32
 IF CHM AND CC>=192-32 THEN CC=CC+32+32
 IF GPP THEN _GCS=PFT_S[CC]:_GCW=PFT_W[CC]
 GPUTCHR GX-_GCS,GY,"BGF0"+"L"*FT_L,CC,0,1
 
 FOR J=1 TO 4
  IF BUTTON(2) AND 16 THEN SKIPA=1
  IF !SKIPA THEN VSYNC 1
 NEXT
 GX=GX+_GCW+2*GPP
@CHA_GP_R3
NEXT

RETURN

@TTR_GP_L
TTR_FIN=0
CHM=0
TTR_I=-1
TTR_W=0
@TTR_GP_L0
 TTR_W=TTR_W-1
 IF TTR_W>0 THEN RETURN
 TTR_W=4
 TTR_I=TTR_I+1
 IF TTR_I>=LEN(GT1$) THEN TTR_FIN=1:RETURN
 CC=ASC(MID$(GT1$,TTR_I,1))
 IF CC==ASC("$") THEN CHM=!CHM:GOTO @TTR_GP_L0
 IF CHM AND CC>=160 THEN CC=CC-32
 IF CHM AND CC>=192-32 THEN CC=CC+32+32
 IF GPP THEN _GCS=PFT_S[CC]:_GCW=PFT_W[CC]
 GPUTCHR TTR_GX-_GCS,TTR_GY,"BGF0"+"L"*FT_L,CC,0,1
 TTR_GX=TTR_GX+_GCW+2*GPP
RETURN

@MCHA_GND_INIT
MC_GNDSPN=5
FOR X=0 TO MC_GNDSPN
 SPSET 90+X,0,9,0,0,2,64,64
 SPOFS 90+X,64*X,192-64
NEXT
RETURN
@MCHA_GND_CLR
FOR X=0 TO MC_GNDSPN
 SPCLR 90+X
NEXT
RETURN

@MCHA_G_INIT
 SPSET 10,96,2,0,0,0
 SPHOME 10,8,15
 SPSCALE 10,200
 SPOFS 10,-32,CHA_GY
 MDIR=1
 IF BGMP>=7 THEN MDIR=-1
 IF BGMP>=7 THEN SPOFS 10,256+32,CHA_GY
 FOR SI=11 TO 14
  SPSET SI,SPNULL,0,0,0,0
 NEXT
RETURN

@MCHA_G_EX
 MCC=126+(BGMP>=7)*1
 IF BGMP<7 THEN MCX=30
 IF BGMP>=7 THEN MCX=256-30
 IF EXTIM==1 THEN SPOFS 10,MCX,CHA_GY-12,5
 IF EXTIM==6 THEN SPOFS 10,MCX,CHA_GY,5
 IF EXTIM==1 THEN SPCHR 10,MCC:SPANIM 10,1,10,1
RETURN

@MCHA_G_OK
 IF BGMP<7 THEN MCC=96+FLOOR(OKTIM/7)%4*4
 IF BGMP>=7 THEN MCC=96+(6-FLOOR(OKTIM/7))%4*4
 IF OKTIM>=7*4 THEN RETURN
 SPCHR 10,MCC
 SPANIM 10,1,1,1
RETURN

@MCHA_GAME_INIT
 MC_ANIMT=0
 SI=27
 REV=!REVERSE
 SPR=2
 MCX1=30:MCX2=30
 IF REV THEN MCX1=256-MCX1:MCX2=256-MCX2
 MCY=TGY+8
 ON BGM GOSUB @MCHA_N,@MCHA_KZ,@MCHA_IT,@MCHA_HL,@MCHA_PN,@MCHA_TK,@MCHA_DM
RETURN

@MCHA_GAME_MV
 SI=27
 MCX1=30:MCX2=30
 IF REV THEN MCX1=256-MCX1:MCX2=256-MCX2
 MCY=TGY+8
 IF SPCHK(SI) THEN RETURN
 ON BGM GOSUB @MCHA_N_MV,@MCHA_KZ_MV,@MCHA_IT_MV,@MCHA_HL_MV,@MCHA_PN_MV,@MCHA_TK_MV,@MCHA_DM_MV
@MCHA_N_MV
RETURN

@MCHA_GAME_H
 SI=27
 ON BGM GOSUB @MCHA_N_H,@MCHA_KZ_H,@MCHA_IT_H,@MCHA_HL_H,@MCHA_PN_H,@MCHA_TK_H,@MCHA_DM_H
@MCHA_N_H
RETURN

@MCHA_G_MV
 MC_ANIMT=30
 IF BGMP<7 THEN SPOFS 10,30,CHA_GY,MC_ANIMT
 IF BGMP>=7 THEN SPOFS 10,256-30,CHA_GY,MC_ANIMT

 SPCHR 10,96+8*(MDIR==-1)
 SPANIM 10,4,5,2
 
 MCY=CHA_GY
 MCX1=-70
 IF MDIR==-1 THEN MCX1=256-MCX1
 SI=11+(BGM+1)%2*2
 SPOFS SI,MCX1,MCY,MC_ANIMT
 SPOFS SI+1,MCX1,MCY,MC_ANIMT
 
 SI=11+BGM%2*2
 REV=BGMP<7
 SPR=0
 MCX1=-70:MCX2=30
 IF REV THEN MCX1=256-MCX1:MCX2=256-MCX2
 ON BGM*(BGMP==UNLOCK) GOSUB @MCHA_N,@MCHA_KZ,@MCHA_IT,@MCHA_HL,@MCHA_PN,@MCHA_TK,@MCHA_DM
 GOTO @MCHA_GND

@MCHA_N
 SPSET SI,SPNULL,0,0,0,0
 SPSET SI+1,SPNULL,0,0,0,0
RETURN

@MCHA_GND
 IF MDIR==-1 THEN @MCHA_GND_L
 FOR X=0 TO MC_GNDSPN
  SPOFS 90+X,64*X,192-64
  SPOFS 90+X,64*X-100,192-64,MC_ANIMT
 NEXT
RETURN
@MCHA_GND_L
 FOR X=0 TO MC_GNDSPN
  SPOFS 90+X,64*X-100,192-64
  SPOFS 90+X,64*X,192-64,30
 NEXT
RETURN

@MCHA_G_SET
 SPCHR 10,96+(BGMP>=7)*8
RETURN


@CHA_B
 SPSET 10,64,2,0,0,0
 SPHOME 10,8,15
 SPSCALE 10,200
 SPOFS 10,-32,CHA_GY
 SPOFS 10,40,CHA_GY,60*AN
 IF AN THEN SPANIM 10,4,8,2
 SPSET 0,16,3,0,0,0
 SPHOME 0,0,8
 SPSCALE 0,120
 SPANGLE 0,-20
 SPOFS 0,-32+4,CHA_GY-8
 SPOFS 0,40+4,CHA_GY-8,60*AN
RETURN

@CHA_M
 SPSET 11,104,4,0,0,0
 SPHOME 11,8,15
 SPSCALE 11,200
 SPOFS 11,256-40,CHA_GY
 SPSET 1,26,3,0,0,0
 SPHOME 1,15,8
 SPSCALE 1,120
 SPANGLE 1,10
 SPOFS 1,256-40-4,CHA_GY-8
RETURN

@MCHA_HL
 SPSET SI,416,5,!REV,0,SPR,32,32
 SPSCALE SI,200
 SPHOME SI,16,32-2
 SPOFS SI,MCX1,MCY
 'IF AN THEN SPANIM 11,2,12
 SPOFS SI,MCX2,MCY,MC_ANIMT
 SPSET SI+1,SPNULL,0,0,0,0
RETURN
@MCHA_HL_MV
 SPCHR SI,416+ANIMV%4*4
RETURN
@MCHA_HL_H
 SPCHR SI,432
 SPANIM SI,1,10,1
RETURN

@CHA_HL2
 SPSET 1,180,4,0,0,0
 SPHOME 1,8,15
 SPSCALE 1,100
 SPOFS 1,256-32,CHA_GY
 SPANIM 1,2,6
RETURN

@CHA_GH
 SPSET 11,196,4,0,0,0
 SPHOME 11,8,15
 SPSCALE 11,200
 SPOFS 11,256-32+64*AN,CHA_GY-16
 SPANIM 11,2,12
RETURN

@CHA_BK
 SPSET 5,184,0,0,0,0,32,32
 SPHOME 5,8,12
 IF OF==0 THEN SPOFS 5,40+4+16,CHA_GY-8
 IF OF==1 THEN SPOFS 5,256-40-4-16,CHA_GY-8
RETURN

@MCHA_KZ
 SPB=SPX02:FC=0:BD=4:P=12
GOTO @MCHA_SB4
@MCHA_KZ_MV
 SPB=SPX02:FC=0:BD=4:P=12
GOTO @MCHA_SB4_MV
@MCHA_KZ_H
 SPB=SPX02:FC=0:BD=4:P=12
GOTO @MCHA_SB4_H

@MCHA_IT
 SPB=SPX02:FC=8:BD=12:P=14
GOTO @MCHA_SB4
@MCHA_IT_MV
 SPB=SPX02:FC=8:BD=12:P=14
GOTO @MCHA_SB4_MV
@MCHA_IT_H
 SPB=SPX02:FC=8:BD=12:P=14
GOTO @MCHA_SB4_H

@MCHA_DM
 SPB=SPX03:FC=0:BD=4:P=10
 REV=!REV
GOTO @MCHA_SB4
@MCHA_DM_MV
 SPB=SPX03:FC=0:BD=4:P=10
GOTO @MCHA_SB4_MV
@MCHA_DM_H
 SPB=SPX03:FC=0:BD=4:P=10
GOTO @MCHA_SB4_H

@MCHA_SB4
 SPSET SI,SPB+FC*4,P,REV,0,SPR,32,32
 SPHOME SI,16,32+19-2
 SPSET SI+1,SPB+BD*4,P,REV,0,SPR,32,32
 SPHOME SI+1,16,32-2
 SPOFS SI,MCX1,MCY
 SPOFS SI+1,MCX1,MCY
 SPOFS SI,MCX2,MCY,MC_ANIMT
 SPOFS SI+1,MCX2,MCY,MC_ANIMT
RETURN

@MCHA_SB4_MV
 SPCHR SI,SPB+(FC+ANIMV%2)*4
 SPCHR SI+1,SPB+(BD+ANIMV%2)*4
RETURN
@MCHA_SB4_H
 SPCHR SI,SPB+(FC+3)*4
 SPCHR SI+1,SPB+BD*4
 SPANIM SI,1,10,1
RETURN

@MCHA_PN
 SPSET SI,SPPN1+8*6,8,!REV,0,SPR,32,64
 SPHOME SI,16,64
 SPOFS SI,MCX1,MCY
 SPOFS SI,MCX2,MCY,MC_ANIMT
 SPSET SI+1,SPNULL,0,0,0,0
RETURN
@MCHA_PN_MV
 SPCHR SI,SPPN1+ANIMV%6*8
RETURN
@MCHA_PN_H
 SPCHR SI,SPPN1+7*8
 SPANIM SI,1,10,1
RETURN

@MCHA_TK
 SPSET SI,64*2+32+12,7,REV,0,SPR,32,32
 SPHOME SI,16,32
 SPOFS SI,MCX1,MCY
 SPOFS SI,MCX2,MCY,MC_ANIMT
 SPSET SI+1,SPNULL,0,0,0,0
RETURN
@MCHA_TK_MV
 SPOFS SI,MCX2,MCY-(ANIMV%2)*1
RETURN
@MCHA_TK_H
RETURN

@CHA0C
GOSUB @CHAINIT
AN=0:GOSUB @CHA_B
FC=0:GOSUB @CHA_HK

GOTO @CHA_MP

@CHA_MP
GT$="MP "+STR$(FLOOR(CHA_MP[BGM]/100+.5)):GX=30:GY=CHA_GY-44:GOSUB @GPRT_L
BEEP 5
WAIT 30
GOTO "@CHA"+STR$(BGM)+STR$(CLR)

@CHA_MV1
FOR I=1 TO 2
 BEEP BP
 SPANGLE 0,30,15
 WAIT 15
 SPANGLE 0,-70,15,-1
 WAIT 15
NEXT
RETURN

@CHA_MV8
BEEP 8
SPANGLE 0,-70,15,-1
WAIT 15
BEEP BP
SPANGLE 0,30,15
RETURN

@CHA_MV11
SPANGLE 0,-70,15,-1
RETURN

@CHA_MV2
SPOFS 10,256-70,CHA_GY,60
SPOFS 0,256-70+4,CHA_GY-8,60
SPANIM 10,4,8,2
WAIT 60
RETURN

@CHA_MV3
BEEP 6
SPOFS 0,40+(256-70)*2+4,CHA_GY-8,60
WAIT 30
RETURN

@CHA_MV12
BEEP 6
SPOFS 0,40+(256-70)+4,CHA_GY-8,30
SPANGLE 0,-70,30,-1
WAIT 30
RETURN

@CHA_MV4
BEEP 13
BEEP 14
SPOFS 11,256-40+(256-70),CHA_GY-60,30
SPOFS 12,256-40+(256-70),CHA_GY-60,30
RETURN

@CHA_MV13
SPOFS 11,256-40+(256-70),CHA_GY,180
SPOFS 12,256-40+(256-70),CHA_GY,180
SPOFS 5,256-40-4-16+(256-70),CHA_GY-8,180
RETURN

@CHA_MV15
SPOFS 11,256-40+(256-70),CHA_GY-120,90
SPOFS 12,256-40+(256-70),CHA_GY-120,90
SPOFS 5,256-40-4-16+(256-70),CHA_GY-120-8,90
RETURN

@CHA_MV16
SPOFS 11,256-40+20,CHA_GY,30
SPOFS 12,256-40+20,CHA_GY,30
SPOFS 5,256-40-4-16-20,CHA_GY,30
RETURN

@CHA_MV14
SPOFS 11,256-40+20,CHA_GY-60,20
SPOFS 12,256-40+20,CHA_GY-60,20
SPOFS 5,256-40-4-16+20,CHA_GY-60-8,20
RETURN

@CHA_MV7
BEEP 15
SPCHR 1,176
SPOFS 1,256+32,CHA_GY,15
WAIT 15
RETURN

@CHA_MV10
SPCHR 11,192
SPOFS 11,256+32,CHA_GY-80,90
RETURN

@CHA_MV6
BEEP 13
BEEP 14
SPCHR 11,122
SPOFS 11,256-40+(256-70),CHA_GY-60,60
SPOFS 1,256-40+(256-70)-4,CHA_GY-60-8,60
RETURN

@CHA_MV5
BEEP 8
BEEP 13
SPANGLE 0,-70,15,-1
SPANGLE 1,40,15
SPOFS 10,256-90,CHA_GY,30
SPOFS 0,256-90+4,CHA_GY-8,30
SPOFS 11,256-20,CHA_GY,30
SPOFS 1,256-20-4,CHA_GY-8,30

SPSET 2,20,0,0,0,0
SPHOME 2,8,8
SPOFS 2,256-55,CHA_GY-30
SPOFS 2,256-75,CHA_GY-50,30
SPANIM 2,4,8

WAIT 30
SPCLR 2
RETURN

@CHA_MV9
SPCHR 11,444
SPANIM 11,1,1
RETURN

@CHA_W
FT_L=0:GPP=1
WAIT 30
@CHA_W2
VSYNC 1
WT=WT-1
IF WT>0 AND !BUTTON(2) THEN @CHA_W2
GOTO "@CHA"+STR$(BGM+1)

@CHA01
BP=59:GOSUB @CHA_MV1

@CHA01_2

GT$="$ヤルキハ ハ゛ッチリ アルンシ゛ャナ$/$タノンタ゛ソ゛イ$
TT$="ヤルキワ/ハ゛ッチ'リ/ア'ルン/シ゛ャナ_/タノ'ンタ゛/ソ゛イ"
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA02
GOSUB @CHA_MV2
BP=8:GOSUB @CHA_MV1

GOTO @CHA01_2

@CHA03
BP=59:GOSUB @CHA_MV1
GOSUB @CHA_MV3
GOSUB @CHA_MV4
GT$="$ア〜レ〜$/
TT$="@E13ア---レ---
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA0
BGM=0
GOSUB @CHAINIT
TS$="@S4"

AN=0:GOSUB @CHA_B

FC=3:GOSUB @CHA_HK
SPANIM 12,2,5

BGMPLAY 6,141,75

GT$="$タイヘン シ゛ャ!$/
TT$="@E4タイヘンシ゛ャ!
GOSUB @CHA_GP_R

GT$="ワシ$ノ「$フ゜チコン$ セツメイショ」カ゛$/$ヌスマレタノシ゛ャ$
TT$="@E4ワシノ|フ゜チコンセツメイショ|カ゛/ヌスマ'レタノシ゛ャ!
GOSUB @CHA_GP_R

GT$="ワシ$ノ カワリニ トリカエシテキテ$/$クレンカノウ?$
TT$="@E4ワシノ/カワリニ/トリカ'エシテキテ/クレン/カノ'オ
GOSUB @CHA_GP_R

GOTO @CHA_OK

@CHA1C
GOSUB @CHAINIT
AN=0:GOSUB @CHA_B
GOSUB @CHA_M

GOTO @CHA_MP

@CHA11
BP=59:GOSUB @CHA_MV1
GT$="$ウ-ン、 ソンナ オモチャ ミタイナノテ゛$/$タタカエルノ カナ?$
TT$="ウ'-ン_/ソンナ/オモ'チャ/ミ'タイナノテ゛/タタカエル'ノ/カナ
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA12
GOSUB @CHA_MV2
GOSUB @CHA_MV5

GT$="$フ-ン、 オモッタ ヨリ$/$チャント テ゛キル ミタイネ$
TT$="フ-ン_/オモ'ッタ/ヨ'リ/チャント/テ゛キ'ル/ミ'タイ/ネ
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA13
GOSUB @CHA_MV2
BP=13:GOSUB @CHA_MV11
GOSUB @CHA_MV6

GT$="$ウワ-$/$ヒ゛ックリ$
TT$="ウワ'--/ヒ゛ック'リ
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W


@CHA1
BGM=1
GOSUB @CHAINIT

TS$="@S7

AN=1:GOSUB @CHA_B

GOSUB @CHA_M

BGMPLAY 6,143,75
WAIT 60

SPCHR 10,64

GT$="$ト゛コヘ イクノ?$/
TT$="ト゛'コエ/イク/ノ?
GOSUB @CHA_GP_R

GT$="$ヘェ、$ハカセ$ニ オツカイヲ$/$タノマレタノネ$
TT$="ヘエ_ハ'カセニ/オツカイヲ/タノマ'レタ/ノネ
GOSUB @CHA_GP_R

GT$="$ソンナ ソウヒ゛シ゛ャ $モンスタ-$ニ$/$ヤラレチャワナイカナ?$
TT$="@E11ソンナ/ソ'オヒ゛シ゛ャ/モ'ンスタ-ニ/ヤラレチャワナ'イ/カナ?
GOSUB @CHA_GP_R

GOTO @CHA_OK

@CHA2C
GOSUB @CHAINIT
AN=0:GOSUB @CHA_B
AN=0:GOSUB @CHA_HL
GOTO @CHA_MP

@CHA21
BP=59:GOSUB @CHA_MV1

@CHA21_2
GOSUB @CHA_MV9
BEEP 11
GOSUB @CHA_HL2
WAIT 30

TS$="@S2
GT$="$ヒエ-、 チョウシニ ノッテ$/$スミマセン テ゛シタ-!$
TT$="@E12ヒエ'-_/チョウシニ/ノッテ/スミマセ'ン/テ゛シタ-
GOSUB @CHA_GP_R

GOSUB @CHA_MV7

WT=120:GOTO @CHA_W

@CHA22
GOSUB @CHA_MV2
BP=8:GOSUB @CHA_MV1

GOTO @CHA21_2

@CHA23
GOSUB @CHA_MV2
BP=13:GOSUB @CHA_MV8
GOSUB @CHA_MV9
WAIT 15

GT$="$ク゛エ-$/
TT$="ク゛エ---
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA2
BGM=2
GOSUB @CHAINIT

TS$="@S11

AN=1:GOSUB @CHA_B

AN=1:GOSUB @CHA_HL

BGMPLAY 6,13,70
WAIT 60
SPCHR 10,64
WAIT 120

SPCHR 11,424
SPANIM 11,2,12

GT$="$ココカラ サキハ トオサン!$/
TT$="@E0ココカラ/サキワ/トオサ'ン!
GOSUB @CHA_GP_R

SPCHR 11,432
SPANIM 11,3,18,1

GT$="$トオリタケレハ゛ オレヲ$/$タオシテミロ!$
TT$="@E0トオリタ'ケレハ゛/オレオ/タオ'シテ/ミ'ロ!
GOSUB @CHA_GP_R

SPCHR 11,432
BGMSTOP 6,0.25
WAIT 30

GT$="$...エ、$/$コワカ゛ッテクレナイノ?$
TT$="_エ_|コワカ゛'ッテ/クレナ'イ/ノ?
GOSUB @CHA_GP_R

GOTO @CHA_OK

@CHA3C
GOSUB @CHAINIT
AN=0:GOSUB @CHA_B
AN=0:GOSUB @CHA_GH
GOTO @CHA_MP

@CHA31
BP=59:GOSUB @CHA_MV1
GT$="$ソンナ オモチャ フリマワシテモ$/$ナニモ オシエテ アケ゛ナイシ $ムタ゛$タ゛ヨ-$
TT$="ソンナ/オモ'チャ/フリマワ'シテモ/ナニモ/オシエテ/アケ゛ナ'イシ/ムタ゛タ゛ヨ-
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA32
GOSUB @CHA_MV2
GOSUB @CHA_MV10
BP=6:GOSUB @CHA_MV8

GT$="$ソラ トヘ゛ナイン テ゛ショ?$/$オイカケテ キテモ $ムタ゛$タ゛ヨ-$
TT$="ソ'ラ/トヘ゛ナ'イン/テ゛ショ?_/オイカ'ケテ/キ'テモ/ムタ゛タ゛ヨ-
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA33
GOSUB @CHA_MV12
BEEP 11
GT$="$ウワ- フツウニ イタイ コレ$/
TT$="ウワ'-/フツウニ/イタ'イ/コレ
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA3
BGM=3
GOSUB @CHAINIT

TS$="@S6

AN=1:GOSUB @CHA_B

AN=1:GOSUB @CHA_GH

BGMPLAY 6,21,80

FOR I=1 TO 180
 SPOFS 11,256+40-72*I/180,CHA_GY-32+16*COS(I/180*2*PI())
 VSYNC 1
 IF I==60 THEN SPCHR 10,64
NEXT

GT$="$サカ゛シモノカナ?$/
TT$="サカ゛シモノ/カナ?
GOSUB @CHA_GP_R

GT$="$アカイ ホンヲ モッタ$/メカ゛ネ$ノ ヒトカ゛ ソッチニ イタケト゛$
TT$="アカイ/ホ'ンヲ/モ'ッタ/メ'カ゛ネノ/ヒト'カ゛/ソッチ'ニ/イタ'ケト゛
GOSUB @CHA_GP_R

GT$="$ソンナコト オシエテ アケ゛ナイ モンネ-$/
TT$="ソンナコ'ト/オシエテ/アケ゛ナ'イ/モンネ-
GOSUB @CHA_GP_R

BGMSTOP 6
SPCHR 11,194
SPANIM 11,2,12
WAIT 60

GOTO @CHA_OK

@CHA4C
GOSUB @CHAINIT
AN=0:GOSUB @CHA_B
AN=0:FC=0:GOSUB @CHA_DM
FT_L=1
GOTO @CHA_MP

@CHA41
BP=59:GOSUB @CHA_MV1
SPANIM 11,2,6
GT$="ト゛ウシテモ トオシテ ホシイノ?/
TT$="ト゛オシテモトオシテホシイノ?
GOSUB @CHA_GP_R

SPCHR 11,SPX03+2*4
SPANIM 11,1,1
GT$="シ゛ャア トオシテ アケ゛ルワ/タ゛ミ- メッチャ ヤサシイ コ!
TT$="シ゛ャアトオシテアケ゛ルワ_/タ゛ミ-メッチャヤサシイコ
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA42
SPANIM 11,2,6
GT$="マタ゛マタ゛ ネ/テ゛ナオシテ キナサイ!
TT$="マタ゛マタ゛ネ_/テ゛ナオシテキナサイ!
GOSUB @CHA_GP_R

SPANIM 11,1,1
GOSUB @CHA_MV2
SPCHR 11,SPX03+2*4
BP=9:GOSUB @CHA_MV1
BEEP 2
SPCHR 11,SPX03+3*4
WAIT 15

GT$="ワカッタ ワカッタ/トオシテ アケ゛ルカラ
TT$="ワカッタ/ワカッタ/トオシテアケ゛ルカラ
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA43
SPCHR 11,SPX03+2*4
GT$="チエッ ソレナラ コ゛ウカクテンヲ/    170クライニ シタホウカ゛ ヨカッタ カシラ
TT$="チェ_/ソレナラコ゛ウカクテンヲヒャクナナシ゛ュウクライニシタホウカ゛ヨカッタカシラ?
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA4
BGM=4
GOSUB @CHAINIT

TS$="@S9

AN=1:GOSUB @CHA_B

AN=0:FC=0:GOSUB @CHA_DM

BGMPLAY 6,144,95
WAIT 60
SPCHR 10,64

SPANIM 11,2,6

FT_L=1
GT$="ハシ゛メマシテ アタシ タ゛ミ- ヨ/
TT$="ハシ゛メマシテ|アタシ|タ゛ミ-'ヨ
GOSUB @CHA_GP_R

GT$="ココカラ サキニ ススミタケレハ゛/アタシノ テストヲ クリア シテネ
TT$="ココカラサキニススミタケレハ゛_アタシノテストヲクリアシテネ?
GOSUB @CHA_GP_R

SPCHR 11,SPX03+2*4
SPANIM 11,1,1

GT$="MP>=150 テ゛/    コ゛ウカク タ゛カラネ?
TT$="エムヒ゜-ヒャクコ゛シ゛ュウイシ゛ョウテ゛/コ゛ウカクタ゛カラネ?
GOSUB @CHA_GP_R

GOTO @CHA_OK

@CHA5C
GOSUB @CHAINIT
AN=0:GOSUB @CHA_B
FC=0:GOSUB @CHA_WP
OF=1:GOSUB @CHA_BK
GOTO @CHA_MP

@CHA51
BP=59:GOSUB @CHA_MV1

@CHA51_2
SPCHR 11,SPX01+32+2*4
GT$="$ソンナニ $カエ$シテ ホシイノカ?$/$シ゛ャア $カエ$シテ ヤルヨ$
TT$="@E11ソンナニ/カ'エシテ/ホシ'イノ/カ?_/シ゛ャ'ア/カ'エシテ/ヤル'ヨ
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA52
GOSUB @CHA_MV2
BP=8:GOSUB @CHA_MV1
GOTO @CHA51_2

@CHA53
GOSUB @CHA_MV2
BP=13:GOSUB @CHA_MV11
GOSUB @CHA_MV4

GT$="メチャクチャ$ナ ヤリカタ タ゛ナ、$ オイ!/
TT$="@E13メチャクチャナ/ヤリカタ/タ゛ナ/オ'イ!
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA5
BGM=5
GOSUB @CHAINIT

TS$="@S0

AN=1:GOSUB @CHA_B

FC=0:GOSUB @CHA_WP
OF=1:GOSUB @CHA_BK

BGMPLAY 6,3,85
WAIT 60

SPCHR 10,64

SPANIM 11,2,6
GT$="$ナニ、 コノ $ホン$ヲ$/カエ$シテ ホシイッツ-ノカ?$
TT$="ナニ_|コノ/ホ'ンヲ/カ'エシテ/ホシ'イッツ-ノ/カ?
GOSUB @CHA_GP_R

GT$="$オチテタノヲ $ハ゜クッ$タ タ゛ケタ゛$/$オトシタノカ゛ $ワル$インシ゛ャ ネ$ェ$ノカ?$
TT$="オ'チテタノヲ/ハ゜ク'ッタ/タ゛ケ'タ゛_|オト'シタノカ゛/ワル'インシ゛ャ/ネ'エノ/カ?
GOSUB @CHA_GP_R

SPCHR 11,SPX01+32+2*4
SPANIM 11,1,1

GT$="$ソレニ $セツメイショ$ ナンカ ナクテモ$/ク゛ク゛レ$ハ゛ スムタ゛ロ?$
TT$="ソレニ/セツメイショ/ナ'ンカ/ナ'クテモ/ク゛ク゛'レハ゛/ス'ムタ゛/ロ?
GOSUB @CHA_GP_R

GOTO @CHA_OK

@CHA6C
GOSUB @CHAINIT
AN=0:GOSUB @CHA_B
AN=0:FC=0:GOSUB @CHA_DM
OF=1:GOSUB @CHA_BK
FT_L=1
GOTO @CHA_MP

@CHA61
BP=59:GOSUB @CHA_MV1
SPANIM 11,2,6
GT$="オモチャ フリマワシタッテ イミナイ ヨ-/カエシテ アケ゛ナイ モン!
TT$="オモチャフリマワシタッテ/イミナイヨ--!_カエシテアケ゛ナイモン!
GOSUB @CHA_GP_R

SPCHR 11,SPX03+2*4
SPANIM 11,1,1
GOSUB @CHA_MV13
GT$="テ゛イシ゛-、 テ゛イシ゛-♪/
TT$="@E8@N1971テ゛ェエエエイ|@N1559シ゛イイイイイイ_@N2249テ゛ェエエエイ|@N2093シ゛イイイイイイ"
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA62
GOSUB @CHA_MV2
GOSUB @CHA_MV14
BP=59:GOSUB @CHA_MV1

GOSUB @CHA_MV15
SPCHR 11,SPX03+2*4
GT$="キャ- ツカマエラレナイ ヨウニ/ハヤク ニケ゛ナキャ
TT$="キャ-_ツカマエラレナイヨウニ/ハヤクニケ゛ナキャ!
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA63
GOSUB @CHA_MV12
BEEP 11
BEEP 2
SPCHR 11,SPX03+3*4
SPANGLE 12,1,1
GOSUB @CHA_MV16

GT$="ウワ- イシ゛ワル!/カエシテ アケ゛ルッテハ゛!
TT$="ウワ-イシ゛ワル!_/カエシテアケ゛ルッテハ゛!
GOSUB @CHA_GP_R

WT=0:GOTO @CHA_W

@CHA6
BGM=6
GOSUB @CHAINIT
TS$="@S9

AN=0:GOSUB @CHA_B

OF=0:GOSUB @CHA_BK

WAIT 30

SPOFS 5,256-40-4-16,CHA_GY-8,10
AN=1:FC=0:GOSUB @CHA_DM

BGMPLAY 6,145,60
WAIT 20

SPANIM 11,2,6
FT_L=1
GT$="コノ ホン オモシロソウ タ゛カラ/アタシカ゛ モラッテ イクヨ!
TT$="コノホンオモシロソウタ゛カラ_アタシカ゛モラッテイクヨ!
GOSUB @CHA_GP_R

GT$="ヘ゛ツニ イラナイ テ゛ショ?/アリカ゛ト-ネ!
TT$="ヘ゛ツニイラナイテ゛ショ?アリカ゛ト-ネ!
GOSUB @CHA_GP_R

SPCHR 11,SPX03+2*4
SPANIM 11,1,1
GT$="ハ゛イハ゛イ/
TT$="ハ゛イハ゛イ!
GOSUB @CHA_GP_R

GOTO @CHA_OK

@CHA7
GOSUB @CHAINIT

BGMPLAY 6,12,60

GT$="チャレンシ゛ モ-ト゛ クリア!"
GX=128-107/2:GY=CHA_GY+22
IF CHA_CLR[6]>=1 THEN GOSUB @GPRT_L

WAIT 90

GPAGE 1
SPPAGE 1

IF CHA_CLR[6]<=0 THEN @CHA_R_HPSKP

GT$="HP":GX=36+104:GY=54+30*3+15
GOSUB @GPRT_L
GT$=".":GX=210:GY=58+30*3+15
GOSUB @GPRT_L

CHA_MP[7]=FLOOR(CHA_HP*100+.5)
MP=CHA_MP[7]
SI=30+6*7:SC=4:SZ=0:SV=FLOOR(MP/100)
GOSUB @SCSET
'GOSUB @SCMOV
GOSUB @SCSET_MP

BEEP 3
WAIT 60

@CHA_R_HPSKP

'GT$="$コ゛ウケイ$":GX=128:GY=24
'GOSUB @GPRT_L
GT$=".":GX=210-5:GY=28
GOSUB @GPRT_L
MP=0
FOR I=0 TO 7
 MP=MP+CHA_MP[I]
NEXT
SI=30+6*8:SC=4:SZ=0:SV=FLOOR(MP/100)
GOSUB @SCSET
'GOSUB @SCMOV
GOSUB @SCSET_MP

FOR I=0 TO 5
 SPREAD(SI+I),SX,SY
 SPOFS SI+I,SX,SY-4
 SPOFS SI+I,SX,SY,4
NEXT

BEEP 12
WAIT 60

SVDATA$=RIGHT$(MEM$,256-SVLEN*7)
OLDSCORE=VAL("&H"+MID$(SVDATA$,5*EX,5))

GT$="ハイスコア $コウシン!$":GX=152:GY=40:GP=3
IF MP>OLDSCORE THEN GOSUB @GPRT_L:BEEP 5
GP=0

@CHA_RS_1
VSYNC 1
IF !BUTTON(2) THEN @CHA_RS_1

IF MP>OLDSCORE THEN GOSUB @SAV1

BGMSTOP 6,0.5

GOTO @TIT

@SAV1
SVDATA$=SUBST$(SVDATA$,5*EX,5,HEX$(MP,5))
MEM$=SUBST$(MEM$,SVLEN*7,256-SVLEN*7,SVDATA$)
SAVE SAVFILE$
RETURN


'---------------------------
@LIST
DATA 10
DATA 183,110,"CalcA","チュ-トリアル",0,0
DATA "0608140709
DATA 19,100,"BGM19","フ゜リセット",2,7
DATA "000102-1-9
DATA 180,70,"レトロチックタイムル-フ゜R","オリシ゛ナル",4,9
DATA "2E2C401A1E25412142283327310C
DATA 3,100,"BGM03","フ゜リセット",3,8
DATA "000102-0-3
DATA 185,85,"リス゛ミカルЦチェリ-","オリシ゛ナル",2,8
DATA "2622304344281F1A2B2633
DATA 29,80,"BGM29","フ゜リセット",5,10
DATA "000102-2-9
DATA 184,100,"#fe2c30","オリシ゛ナル",6,11
DATA "0B0A13-207-3-0

DATA 181,80,"BGM03(アレンシ゛)","フ゜リセット",3,8
DATA "000102-0-345242E292F3046
DATA 182,75,"レトロチックタイムル-フ゜S","オリシ゛ナル",4,9
DATA "2E2C401A1E254121422833273104
DATA 20,100,"BGM20","フ゜リセット",2,7
DATA "000102-2-0

@F180EX
DATA 172
DATA "@A",2,31,-1,-1,-1,-1
DATA "@B",1,29,-1,-1,-1,80
@F182EX_MAIN
DATA "a   a   a   a   
DATA "@B",-1,-1,-1,-1,-1,80,"a b 
DATA "@B",-1,-1,-1,-1,-1,60,"a b 
DATA "@B",-1,-1,-1,-1,-1,50,"a b
DATA "@B",-1,-1,-1,-1,-1,40,"b
DATA "@B",-1,-1,-1,-1,-1,30,"ab
DATA "@B",-1,-1,-1,-1,-1,20,"b
DATA "@B",-1,-1,-1,-1,-1,10,"b
DATA "@B",-1,-1,-1,-1,-1,80

DATA "a bba b a b b a a bba b A a B a 
DATA "a bba b a b b a a bba b A a B a 
DATA "A b a B a b B a A b a b A a B a 
DATA "A b a B a b B a A b a b A a B a 

DATA "A bba b a b a b A bba b a b b a 
DATA "A bba b a b a b A b a b A a b ab
DATA "A bba b a b a b A bba b a b b a 
DATA "A bba b a b a b A b a b A a b ab
DATA "A b A b a b a bbA b A b a bbb a 
DATA "A b a bba b a bbA b A b a a b ab
DATA "A b A b a b a bbA b A b a bbb a 
DATA "A b a bba b a bbA b A b a a b bb

DATA "A b A b a bba b A b A bba a B   
DATA "A b A b a bba b A b A bba b A   
DATA "A b A b a bba b A b A bba a B   
DATA "A b A b a bba b A b A b A aab  b
DATA "A bba b A b abb A bba b abbbb   
DATA "A bba b A b abb A bba b abbbb   
DATA "A bba b A b abb A bba b A a B a 
DATA "A b A b A aab b A   a   A b abbb

DATA "A a a A a a A  bA a a A a a A  b
DATA "A a a A a a A  bA a a A a b B  b
DATA "A abab  baba  b 
DATA "A abab  baba  b 
DATA "A abab  baba  b 
DATA "@B",-1,-1,-1,-1,-1,80,"a b 
DATA "@B",-1,-1,-1,-1,-1,60,"a b 
DATA "@B",-1,-1,-1,-1,-1,50,"a b
DATA "@B",-1,-1,-1,-1,-1,40,"b
DATA "@B",-1,-1,-1,-1,-1,30,"ab
DATA "@B",-1,-1,-1,-1,-1,20,"b
DATA "@B",-1,-1,-1,-1,-1,10,"b
DATA ""

@F182
@F182EX
DATA 172
DATA "@A",7,52,1000,-1,-1,-1
DATA "@B",6,54,1000,-1,-1,80
DATA #GOSUB ,MAIN,""

@F180
DATA 172
DATA "@A",2,31,-1,-1,-1,-1
DATA "@B",1,29,-1000,-1,-1,80
@F182_MAIN
DATA "#L16
DATA "@A",-1,-1,-1,-1,-1,0,"a   
DATA "@A",-1,-1,-1,-1,-1,10,"a   
DATA "@A",-1,-1,-1,-1,-1,20,"a   
DATA "@A",-1,-1,-1,-1,-1,30,"a   
DATA "@A",-1,-1,-1,-1,-1,40,"a   
DATA "@A",-1,-1,-1,-1,-1,50,"a   
DATA "@A",-1,-1,-1,-1,-1,60,"a   
DATA "@A",-1,-1,-1,-1,-1,70,"a   
DATA "@A",-1,-1,-1,-1,-1,100
DATA "#L4
DATA "abababb abababb 
DATA "#L8
DATA "A  a  b A b b   
DATA "A  a  b A b b a 
DATA "A  a  b a a b b 
DATA "A  a  b a b b a 
DATA "A  a  b a a b b 
DATA "A  a  b a b a b 
DATA "A b a b a a b   
DATA "A   A   a b a b 
DATA "A b a b a a b   
DATA "A   A   a b a b 
DATA "A  A  a a b B   
DATA "A  A  a a b B   
DATA "A  B  b a b B   
DATA "A  B  b a b B a 
DATA "A b a b a a B   
DATA "A b a b a b B   
DATA "A b a b a a B   
DATA "A     a B   B   
DATA "A  A  a A  A  a 
DATA "A  A  b A  A  b 
DATA "A b b a A b b a 
DATA "A b b a A a B b 
DATA ""

@F181
@F181EX
DATA 165
DATA "@A",8,52,-1400,-1,-1,-1
DATA "@B",7,53,-600,-1,-1,50
DATA "@C",6,54,-800,-1,-1,20
DATA #GOSUB ,MAIN,""

@F3
DATA 165
DATA "@A",2,31,-600,-1,-1,-1
DATA "@B",7,30,-600,-1,-1,50
DATA "@C",1,26,800,-1,-1,20
@F181_MAIN
DATA "                
DATA "#L4
DATA "a a abc a a abcb
DATA "a a abcaa a a ba
@F3_L
@F181_L
DATA "A a abc A a abcb
DATA "A a abcaA a a ba
DATA "A a Aba A acA a 
DATA "A a aaa B B bbc 
DATA 2
DATA ""

@F3EX
DATA 165
DATA "@A",2,31,-600,-1,-1,-1
DATA "@B",7,30,-600,-1,-1,50
DATA "@C",1,26,800,-1,-1,20
@F181EX_MAIN
DATA "                
DATA "A a a   A   a a A   a a A   a a 
DATA "A     a A   a a A   A   A a a a 
DATA "A a a   A   a a A   a a A   a a 
DATA "A     a A   a a A   A b aab aac 
@F3EX_L
@F181EX_L
DATA "A a b a a a bbc A a b a a b aac 
DATA "A a b a a a bbc A a b a A A B c 
DATA "A a b a a a bbc A a b a a b aac 
DATA "A a b a a a bbc A a B a aab aac 
DATA "A a b b A a   c A b a c A       
DATA "A a b b A b a c A bbab  A ccab  
DATA "A a A a A a A a A   #L12bbb#L16A a c   
DATA "B a a B B a B a a a c   aab aac 
DATA 2
DATA ""



'Retro
@M180
DATA "T172
DATA ":0@145@V70<P20
DATA "@E127,70,110,127
DATA "@MP32,1,16,48
DATA "L16Q8
DATA "GF+FEFED+DD+DC+CC+C>BA+BA+AG+AG+GF+GF+GG+AA+B<C
DATA "[
DATA "{M0=
DATA "L8Q8
DATA "DRRF+RRARDF+AF+D4R4
DATA "E-RRGRRB-RE-GB-<C>B-4G4
DATA "DRRF+RRARDF+AF+D4R4
DATA "E-RRGRRB-RE-GB-<C>B-RE-4

DATA "D4.>A4<DF+AG4F+EDC+>B<D
DATA "C2>B2A4G4F+4A4<
DATA "D4.>A4<DF+AG4F+EDF+GA
DATA "G2E2F+4G4A4F+4
DATA "L16
DATA "D>A<C+RDR>A4<DEF+8A8
DATA "G8F+GF+RE8D8C+D>B8<D8
DATA "C4.>A<C>B4&BGABA4G4F+8G8A8.<C+
DATA "D>A<C+RDR>A4<DEF+8A8
DATA "G8F+GF+RE8DEF+GARBR
DATA "G4.EF+E4.DEF+4G4A8GAF+RG8

DATA "L8
DATA "E-2&E-D16E-16CDE-RFRGRE-4
DATA "D2&DC+16D16>B<C+DRERF+RA4
DATA "G2&GF16G16E-FGRARB-RG4
DATA "A2&AG16A16BGARBRGF16G16DF
DATA "E-4.DCDE-RE-CE-GB-A-G.R16
DATA "F+4.EDEF+RF+DF+GAGF+.R16
DATA "G4.FE-FGRG4A4B-4G4
DATA "A2.B4<C+2>A2
DATA "D2&DRD4E-2&E-RE-4F2&FRF4E-2&E-RE-4
DATA "D2&DRD4E-2&E-RE-4F2&FRF4G2A2
DATA "}
DATA "{M0}
DATA "]


DATA ":1@147@V70L8Q8
DATA "@E127,100,100,127
DATA "@MP32,1,16,48
DATA "DDD+D+EEFFF+F+GGG+G+AA
DATA "[
DATA "ARR<D>RRARF+A<D>A<F+>A<D>F+
DATA "B-RR<E->RRGRB-G<E->B-<GE->B-G
DATA "AF+A<D>F+AADF+A<D>A<F+>A<D>F+
DATA "B-GB-<E->GB-B-E-B-G<E->B-<GE->B-G

DATA "A4.D4.A<DC4>B4A4F+4G2F+2E2C2
DATA "A4.D4.A<DC4>B4A4B4<C2>B2<C2>A2
DATA "L16
DATA "[[DEF+>A<]3DEF+A]2
DATA "[CDE>G<]3CDEG[CDE>G<]2CDEG<C>GEG
DATA "[[DEF+>A<]3DEF+A]2
DATA "[CDE>G<]3CDEG[CDE>G<]2CDEG<CEGE>

DATA "E-FGB-<E->B-GFE-FGB-<E->B-<GB->
DATA "E-FGB-<E->B-GFGB-<E-GE-FGE->
DATA "DEF+A<D>AF+EDEF+A<D>A<F+A>
DATA "DEF+A<D>AF+EF+A<DF+DEF+D>
DATA "E-FGB-<E->B-GFE-FGB-<E->B-<GB->
DATA "E-FGB-<E->B-GFGB-<E-GE-FGB->
DATA "DEF+A<D>AF+EDEF+A<D>A<F+A>
DATA "DEF+A<D>AF+EGB-<DGB-GB-D>

DATA "O5
DATA "[E-FG>B-<]2E-FGA-B-GDF
DATA "[E-FG>B-<]2E-FGA-B-<C>B-A-
DATA "[DEF+>A<]2DEF+GAF+C+E
DATA "[DEF+>A<]2DEF+GABAG+
DATA "[E-FG>B-<]2E-FGA-B-GDF
DATA "[E-FG>B-<]2E-FGA-B-<CD>B-
DATA "[F+GAD]2F+GAB<C+>AEG
DATA "[F+GAD]2AB<C+D>A<C+DE>

DATA "L8O4
DATA "[A4.A4RA4B-4.B-4RB-4]2
DATA "A4.<D4>F16G16A<C>B-4.<E-4>G16A16B-<D>
DATA "<C4.F4>A16B-16<CC+D4E-16F16G4F16G16A>A
DATA "]


DATA ":2@80@V55L4Q6O5P107
DATA "@E127,30,0,110
DATA "R1R1
DATA "[
DATA "F+R8AR8<D>F+A<D>A
DATA "GR8B-R8<E->GB-<E->B-
DATA "F+R8AR8<D>F+A<D>A
DATA "GR8B-R8<E->GB-<E->B-

DATA "[F+R8AR8<D>F+GA<D>
DATA " <C>R8ER8G<C>G<EC>]4

DATA "L8
DATA "E->B-<E-GB->B-<E-GB-4<E-4>G4B-4
DATA "D>A<DF+A>A<DF+A4<D4>F+4A4
DATA "E->B-<E-GB->B-<E-GB-4<E-4>G4B-4
DATA "D>A<DF+A>A<DF+A4<D4>GB-<D4>
DATA "E->B-<E-GB->B-<E-GB-4<E-4>G4B-4
DATA "D>A<DF+A>A<DF+A4<D4>F+4A4
DATA "E->B-<E-GB->B-<E-GB-4<E-4>G4B-4
DATA "D>A<DF+A>A<DF+A4<D4>A<C+E4>

DATA "R1R1R1R1
DATA "L4
DATA "A<D>FAB-<E->GB-<CF>A<C>B-<E->GA
DATA "]

DATA ":3@144@V90L4Q3
DATA "@E127,110,90,125
DATA "O3 DD+EFF+GG+A
DATA "[
DATA "O2
DATA "DDF+ADF+A<A> E-E-GB-E-E-B-<B->
DATA "DDF+ADF+A<A> E-E-GB-E-E-B-<B->

DATA "[DDF+ADDF+<F+> CCEGCCE<E>]4

DATA "[E-E->B-<<E->E-E-<E->E- DD>A<<D>DD<D>D]3
DATA " E-E->B-<<E->E-E-<E->E- DD>A<<D>DD<C+>C+

DATA "DDDAE-E-E-G DDD<F>E-E-<GE->
DATA "DDD<F>E-E-E-<G> FFF<A>GGB-<A>
DATA "]


DATA ":4@144@V90L4Q3
DATA "@E127,110,90,120
DATA "R8
DATA "O2 GGGAA+<CC+D
DATA "[
DATA "DDDF+DF+DF+ E-E-E-GE-GE-G
DATA "DDDF+DF+DF+ E-E-E-GE-GE-G

DATA "[DDDDDDD>A< CCCCCCC>G<]4

DATA "E-E->GB-<E-G>GB-< DD>F+A<DF+>F+A<
DATA "E-E->GB-<E-G>GB-< DD>F+A<DF+>GB-<
DATA "E-E->GB-<E-G>GB-< DD>F+A<DF+>F+A<
DATA "E-E->GB-<E-G>GB-< DD>F+A<DF+>EA<

DATA "DDDDE-E-E->E-< DDD>A<E-E-FD
DATA "DDDDE-E-E-E- FFFFGGB-G
DATA "]


DATA ":6@151@V100L16Q5
DATA "@E127,110,0,127
DATA "{B=O3D_>A}{S=O4G_<C}
DATA "[{B}RRR]8
DATA "[
DATA "[[{B}RRR{S}RRR]3{B}RRR{S}RR{S}]4
DATA "[[{B}RRR{S}RRR]7{B}RRR{S}RR{S}]4
DATA "[[{B}RRR{S}RRR]2{B}RRR{S}RR{S}{B}RRR{S}RRR]3
DATA " [{B}RRR{S}RRR]2{B}RRR{S}RR{S}{B}RRR{S}R{S}{S}
DATA "[[{B}RRR{S}RRR]2{B}RRR{S}RR{S}{B}RRR{S}RRR]3
DATA " [{B}RRR{S}RRR]2{B}RRR{S}RR{S}{B}RRR{S}R{S}{S}
DATA "[{B}RRRRR{B}RRRRR{B}RR{B}]7
DATA " {B}RRR{S}R{B}R{S}R{S}R{S}RR{S}
DATA "]

DATA ":5@151@V65Q8
DATA "@ML64,1,3,0
DATA "{DD=O6C1_O2C}
DATA "R1{DD}
DATA "[[R1]47{DD}]

DATA ":7@151@V80L16Q2
DATA "@E127,120,0,124
DATA "O6R1R8E-8R8F8G8AA+B<CC+D
DATA "{H=O7E-_>B-}{L=O6E-_>B-}
DATA "[
DATA "[RR{H}{L}RR{L}{H}RR{L}RR{L}{H}{L}]24
DATA "[RR{H}RRR{H}RRR{L}{H}RR{H}R
DATA " RR{H}RRR{H}RRR{L}R{H}RRR]4
DATA "[RR{H}{L}RR{H}{L}RR{L}{H}R{L}{H}R
DATA " RR{H}{L}RR{H}{L}R{L}{H}{H}{H}RRR]3
DATA "RR{H}{L}RR{H}{L}RR{L}{H}R{L}{H}R
DATA "RR{H}{L}RR{H}{L}R{L}{H}{H}{H}{L}{H}{H}
DATA "[RR{H}R{L}RRR{H}R{L}RRR{H}R]4
DATA "[RR{H}{L}{L}{H}RR{H}{L}{L}{H}R{L}{H}R]4
DATA "]
DATA 0

' フ゜リセットBGM03
' Nostalgia TECHNO
'- JOEDOWN / Arranged by Na
@M181
DATA "T165
DATA "{I0=@ERL32O6Q8V100
DATA "P32AP34G+P36GP38F+P40FP42EP44D+P46D
DATA "P48C+P50CP52>BP54A+P56AP58G+P60GP62F+
DATA "P64FP66EP68D+P70DP72C+P74CP76>BP78A+
DATA "P80AP82G+P84GP86F+P88FP90EP92D+P94D}
DATA ":0@0{I0}
DATA "{A0=@E127,20,0,120
DATA " L8O4V100Q6P74
DATA " >A<DFADGB<D>>A<DFA>A<CFA
DATA " >FB-<DF>FA<DF>B<E>GB-AB<C+E
DATA " >A<DFADGB<D>>A<DFA>A<CFA
DATA " >B-<DFB->EA<CE>A<DFA<D>AFD}
DATA "{A0}
DATA "[
DATA "{A0}
DATA "L16V85O5
DATA "[[B-FDF]2[<C>GEC]2[AECE]2[<D>AFD]2]2
DATA "[B-GDG]4[AECE]4
DATA "[FD>A<D]4{I0}
DATA "]

DATA ":1@145@E127,90,100,115
DATA "R1
DATA "{A1=V70L8O5P84
DATA " DEA4B16_<C8.>Q6BGQ8
DATA " A4A32_<D16.C>ARGF
DATA " F32_G8..&G8AERDC
DATA " C32_D8..F4E>AA32_<C+16.E
DATA " DEA4B16_<C8.>Q6BGQ8
DATA " A4A32_<D16.C>ARGF
DATA " F32_G8..&G8AEREF
DATA " F32_G8..&G8<C>}
DATA "{A1}G16_A8.&A8>A16_A16_<C
DATA "[
DATA "{A1}G16_A8.&A8_A8_>B-
DATA "V80
DATA ">B-4<Q3DFQ8B-4._B-8_<C>
DATA " A4Q5GFQ8D4._D8_>B-
DATA " B-4<Q3DFQ8B-Q6AGQ8B-
DATA " G16_A4..&A4_A4_G>
DATA "V90
DATA ">G4<C4E4G4
DATA "V85
DATA " A4<C16>A16.<C16.D4_D32_E16.&E16_E16_<E
DATA "V75
DATA " E16_F8.RQ5FQ8D4_D32_F8..
DATA " E4.._E16_A8.Q6A16Q5A16Q4A16Q3A16Q2A16Q8
DATA "]

DATA ":2@144@E127,80,0,123
DATA " L16O2V85Q5P44
DATA "R1
DATA "{A2=[D<D>]4[G<G>]4[D<D>]4[C<C>]4
DATA " [B-<B->]4[F<F>]3D<D>[E<E>]3>G<G[>A<A]2>B<BC+<C+>
DATA " [D<D>]4[G<G>]4[D<D>]4[C<C>]4
DATA " [B-<B->]4[A<A>]3E<E>[D<D>]4}
DATA "{A2}D<DF<D>AFD>A
DATA "[
DATA "{A2}D<D>C<C>>B-<B->A<A
DATA "[>B-<B-]4[C<C>]4[>A<A]4[D<D>]3C<C>
DATA "[>B-<B-]4[C<C>]4[>A<A]4[D<D>]4
DATA "[>G<G]8[>A<A]7C<C>[D<D>]8[E<E>]6Q5EQ4EQ3EQ2EQ5
DATA "]

DATA "{BC=>R8B8RB8R<}
DATA "{CC=R8C8RC8R}
DATA "{C_C=R8C+8RC+8R}
DATA "{DC=R8D8RD8R}
DATA "{EC=R8E8RE8R}
DATA "{FC=R8F8RF8R}
DATA "{GC=R8G8RG8R}
DATA "{E7=@E127,80,80,120}
DATA "{E9=@E127,80,80,127}
'Dm G Dm F Bb Dm Em A
'Dm G Dm F Bb Am Dm (Dm)
'Bb C Am Dm Bb C Am Dm
'Gm Gm Am Am Dm Dm A (A)
DATA ":7@62V80L16{E7}P50
DATA "R1
DATA "{A7=
DATA "{FC}{GC}{FC}{FC}
DATA "{FC}{FC}{EC}{EC}
DATA "{FC}{GC}{FC}{FC}
DATA "{FC}{EC}{FC}R2
DATA "}
DATA "{A7}
DATA "[
DATA "{A7}
DATA "[{FC}{GC}{EC}{FC}]2
DATA "[{GC}]2[{EC}]2[{FC}]2{EC}
DATA " {E9}R8Q7EQ6EQ5EQ4EQ3EQ2EQ8
DATA " {E7}
DATA "]

DATA ":8@62V80L16{E7}P50
DATA "R1
DATA "{A8=
DATA "{DC}{DC}{DC}{CC}
DATA "{DC}{DC}{BC}{C_C}
DATA "{DC}{DC}{DC}{CC}
DATA "{DC}{CC}{DC}R2
DATA "}
DATA "{A8}
DATA "[
DATA "{A8}
DATA "[{DC}{CC}{CC}{DC}]2
DATA "[{DC}]2[{CC}]2[{DC}]2{C_C}
DATA " {E9}R8Q7C+Q6C+Q5C+Q4C+Q3C+Q2C+Q8
DATA " {E7}
DATA "]

DATA ":9@62V85L16Q7{E9}P50>
DATA "R1
DATA "{GB=G8G8GG8G}
DATA "{AB=A8A8AA8A}
DATA "{BB=B8B8BB8B}
DATA "{B_B=B-8B-8B-B-8B-}
DATA "{A9=
DATA "{AB}{BB}{AB}{AB}
DATA "{B_B}{AB}{GB}{AB}
DATA "{AB}{BB}{AB}{AB}
DATA "{B_B}{AB}{AB}{AB}
DATA "}
DATA "{A9}
DATA "[
DATA "{A9}
DATA "[{B_B}{GB}{AB}{AB}]2
DATA "[{B_B}]2[{AB}]5
DATA " A8Q7AQ6AQ5AQ4AQ3AQ2AQ7
DATA "]

DATA ":3@366V127L4>>
DATA "{A3=@118<
DATA " P90F+16P80E16P70D8
DATA " P58C16>P48B-16P38A-8
DATA "@366P64}
DATA "R1
DATA "[C]30{A3}
DATA "[
DATA "[C]30{A3}
DATA "[C]30{A3}
DATA "]

DATA ":4@366V90L4>>
DATA "R1
DATA "[R1]8
DATA "[
DATA "[RE]15R2
DATA "[RE]15R2
DATA "]

DATA ":5@366V100L16>>
DATA "R1
DATA "[R1]8
DATA "[
DATA "[[R8A+F+]6R8A+F+RA+A+G+]3
DATA " [R8A+F+]6R2
DATA "[R8A+F+]14R8A+F+RA+A+G+
DATA "[R8A+F+]14R2
DATA "]

DATA ":6@128V120>
DATA "R1
DATA "[R1]8
DATA "[
DATA "C+1[R1]7
DATA "C+1[R1]5C+2C+4C+4C+2C+2
DATA "]

DATA 0

@M183
DATA"{TITLE=CalcA}
DATA"{COMP=Na}
DATA"{DATE=2019/12/05}
DATA"{TEXT=「ケイサンキ」テ゛「コ-ト゛ア-ト」/nキョクノナカニ?カ゛カクレテイマス。}
DATA"{PLAYSEC=43}
DATA"{DATEND=}
DATA"
DATA"T111
DATA":0@129[c]
DATA":1@129O2rrrrrrrrl8[rg+eg+]0
DATA":2@32>rrrrrrrrrrrrrrrr4l1[[Ca1cA]2l2fedefedefedefedec1c1]
DATA":3@32>rrrrrrrrrrrrrrrr
DATA"[e1e1e1e1e1e1e1e1l2[ccc-c]4e1e1]
DATA":4@80v70o6r1r1[r1r2.r8[
DATA"r8l16[cderr4]2cdererdrcderr4
DATA"[cderr4]2cderereae4rr]2
DATA"[def8e8d8c8cde8rrc-cd8c8c-8cde4rr
DATA"def8e8d8c8efg8rrdcd4d12e12f12g4rr]2rr]
DATA":5@129o5l1rrrr[a]
DATA":6@80v50[r]16l8[cfcg<d>dageg<cd>b<d>ed]0
DATA 0

@F183EX
DATA 111
DATA "@A",2,24,-600,-1,-1,-1
DATA "@B",1,26,-300,-1,-1,-1
DATA #AUTO,1
DATA "                
DATA "                
DATA "                
DATA "                
DATA "a a     a a     
DATA "a a a a a       
DATA "a a     a a     
DATA "a a a a a       
DATA "A b     A b     
DATA "A b b a B       
DATA "A b     A b     
DATA "A b b a B     a 
DATA "a a b a a b ",#AUTO,0,"  a 
DATA "a a b a b     a 
DATA "a a b a a b   a 
DATA "a   a a b     a 
DATA "A a b a A b   a 
DATA "A a b a B     a 
DATA "A a b a A b   a 
DATA "A   A a B       
DATA ""


@F183
DATA 111
DATA "@A",2,24,-600,-1,-1,-1
DATA "@B",1,26,-300,-1,-1,-1
DATA #AUTO,1
DATA "                
DATA "                
DATA "                
DATA "                
DATA "a               
DATA "a               
DATA "a               
DATA "a               
DATA "A               
DATA "b               
DATA "A               
DATA "b               
DATA "a       ",#AUTO,0,"b       
DATA "a               
DATA "a       b       
DATA "a               
DATA "A       b       
DATA "A               
DATA "A       b       
DATA "A               
DATA ""


@M182
DATA "T172
DATA ":0@50@V90<P20
DATA "@E127,10,110,120
DATA "@MP32,1,16,48
DATA "L16Q8
DATA "GF+FEFED+DD+DC+CC+C>BA+BA+AG+AG+GF+GF+GG+AA+B<C
DATA "[
DATA "{M0=
DATA "L8Q8
DATA "DRRF+RRARDF+AF+D4R4
DATA "E-RRGRRB-RE-GB-<C>B-4G4
DATA "DRRF+RRARDF+AF+D4R4
DATA "E-RRGRRB-RE-GB-<C>B-RE-4

DATA "D4.>A4<DF+AG4F+EDC+>B<D
DATA "C2>B2A4G4F+4A4<
DATA "D4.>A4<DF+AG4F+EDF+GA
DATA "G2E2F+4G4A4F+4
DATA "L16
DATA "D>A<C+RDR>A4<DEF+8A8
DATA "G8F+GF+RE8D8C+D>B8<D8
DATA "C4.>A<C>B4&BGABA4G4F+8G8A8.<C+
DATA "D>A<C+RDR>A4<DEF+8A8
DATA "G8F+GF+RE8DEF+GARBR
DATA "G4.EF+E4.DEF+4G4A8GAF+RG8

DATA "L8
DATA "E-2&E-D16E-16CDE-RFRGRE-4
DATA "D2&DC+16D16>B<C+DRERF+RA4
DATA "G2&GF16G16E-FGRARB-RG4
DATA "A2&AG16A16BGARBRGF16G16DF
DATA "E-4.DCDE-RE-CE-GB-A-G.R16
DATA "F+4.EDEF+RF+DF+GAGF+.R16
DATA "G4.FE-FGRG4A4B-4G4
DATA "A2.B4<C+2>A2
DATA "D2&DRD4E-2&E-RE-4F2&FRF4E-2&E-RE-4
DATA "D2&DRD4E-2&E-RE-4F2&FRF4G2A2
DATA "}
DATA "{M0}
DATA "]

DATA ":8@40@V60Q4<
DATA "@ML32,1,12,0
DATA "@E90,100,100,110
DATA "L16Q8
DATA "GF+FEFED+DD+DC+CC+C>BA+BA+AG+AG+GF+GF+GG+AA+B<C
DATA "[{M0}]


DATA ":1@2@V100L8Q7
'DATA "@E127,100,100,127
'DATA "@MP32,1,16,48
DATA "DDD+D+EEFFF+F+GGG+G+AA
DATA "[
DATA "ARR<D>RRARF+A<D>A<F+>A<D>F+
DATA "B-RR<E->RRGRB-G<E->B-<GE->B-G
DATA "AF+A<D>F+AADF+A<D>A<F+>A<D>F+
DATA "B-GB-<E->GB-B-E-B-G<E->B-<GE->B-G

DATA "A4.D4.A<DC4>B4A4F+4G2F+2E2C2
DATA "A4.D4.A<DC4>B4A4B4<C2>B2<C2>A2
DATA "L16
DATA "[[DEF+>A<]3DEF+A]2
DATA "[CDE>G<]3CDEG[CDE>G<]2CDEG<C>GEG
DATA "[[DEF+>A<]3DEF+A]2
DATA "[CDE>G<]3CDEG[CDE>G<]2CDEG<CEGE>

DATA "E-FGB-<E->B-GFE-FGB-<E->B-<GB->
DATA "E-FGB-<E->B-GFGB-<E-GE-FGE->
DATA "DEF+A<D>AF+EDEF+A<D>A<F+A>
DATA "DEF+A<D>AF+EF+A<DF+DEF+D>
DATA "E-FGB-<E->B-GFE-FGB-<E->B-<GB->
DATA "E-FGB-<E->B-GFGB-<E-GE-FGB->
DATA "DEF+A<D>AF+EDEF+A<D>A<F+A>
DATA "DEF+A<D>AF+EGB-<DGB-GB-D>

DATA "O5
DATA "[E-FG>B-<]2E-FGA-B-GDF
DATA "[E-FG>B-<]2E-FGA-B-<C>B-A-
DATA "[DEF+>A<]2DEF+GAF+C+E
DATA "[DEF+>A<]2DEF+GABAG+
DATA "[E-FG>B-<]2E-FGA-B-GDF
DATA "[E-FG>B-<]2E-FGA-B-<CD>B-
DATA "[F+GAD]2F+GAB<C+>AEG
DATA "[F+GAD]2AB<C+D>A<C+DE>

DATA "L8O4
DATA "[A4.A4RA4B-4.B-4RB-4]2
DATA "A4.<D4>F16G16A<C>B-4.<E-4>G16A16B-<D>
DATA "<C4.F4>A16B-16<CC+D4E-16F16G4F16G16A>A
DATA "]


DATA ":2@11@V65L4Q6O5P107
'DATA "@E127,30,0,110
DATA "R1R1
DATA "[
DATA "F+R8AR8<D>F+A<D>A
DATA "GR8B-R8<E->GB-<E->B-
DATA "F+R8AR8<D>F+A<D>A
DATA "GR8B-R8<E->GB-<E->B-

DATA "[F+R8AR8<D>F+GA<D>
DATA " <C>R8ER8G<C>G<EC>]4

DATA "L8
DATA "E->B-<E-GB->B-<E-GB-4<E-4>G4B-4
DATA "D>A<DF+A>A<DF+A4<D4>F+4A4
DATA "E->B-<E-GB->B-<E-GB-4<E-4>G4B-4
DATA "D>A<DF+A>A<DF+A4<D4>GB-<D4>
DATA "E->B-<E-GB->B-<E-GB-4<E-4>G4B-4
DATA "D>A<DF+A>A<DF+A4<D4>F+4A4
DATA "E->B-<E-GB->B-<E-GB-4<E-4>G4B-4
DATA "D>A<DF+A>A<DF+A4<D4>A<C+E4>

DATA "R1R1R1R1
DATA "L4
DATA "A<D>FAB-<E->GB-<CF>A<C>B-<E->GA
DATA "]

DATA "{BAS=@33@V127L4Q3}
DATA ":3{BAS}
DATA "@E127,110,90,125
DATA "O3 DD+EFF+GG+A
DATA "[
DATA "O2
DATA "DDF+ADF+A<A> E-E-GB-E-E-B-<B->
DATA "DDF+ADF+A<A> E-E-GB-E-E-B-<B->

DATA "[DDF+ADDF+<F+> CCEGCCE<E>]4

DATA "[E-E->B-<<E->E-E-<E->E- DD>A<<D>DD<D>D]3
DATA " E-E->B-<<E->E-E-<E->E- DD>A<<D>DD<C+>C+

DATA "DDDAE-E-E-G DDD<F>E-E-<GE->
DATA "DDD<F>E-E-E-<G> FFF<A>GGB-<A>
DATA "]


DATA ":4{BAS}
DATA "@E127,110,90,120
DATA "R8
DATA "O2 GGGAA+<CC+D
DATA "[
DATA "DDDF+DF+DF+ E-E-E-GE-GE-G
DATA "DDDF+DF+DF+ E-E-E-GE-GE-G

DATA "[DDDDDDD>A< CCCCCCC>G<]4

DATA "E-E->GB-<E-G>GB-< DD>F+A<DF+>F+A<
DATA "E-E->GB-<E-G>GB-< DD>F+A<DF+>GB-<
DATA "E-E->GB-<E-G>GB-< DD>F+A<DF+>F+A<
DATA "E-E->GB-<E-G>GB-< DD>F+A<DF+>EA<

DATA "DDDDE-E-E->E-< DDD>A<E-E-FD
DATA "DDDDE-E-E-E- FFFFGGB-G
DATA "]


DATA ":7@366@V90L4Q2
DATA "@E127,110,0,127
DATA "{B=O1A+}
DATA "[{B}]8
DATA "[L4Q2
DATA "[[{B}]4]8
DATA "[[{B}]4]16
DATA "[[{B}]4]16
DATA "[L16Q8{B}RRRRR{B}RRRRR{B}RR{B}]8
DATA "]

DATA ":6@128@V127L16Q5
'DATA "@E127,110,0,127
DATA "{S=O2D}
DATA "[R4]8
DATA "[
DATA "[[R4{S}RRR]3R4{S}RR{S}]4
DATA "[[R4{S}RRR]7R4{S}RR{S}]4
DATA "[[R4{S}RRR]2R4{S}RR{S}R4{S}RRR]3
DATA " [R4{S}RRR]2R4{S}RR{S}R4{S}R{S}{S}
DATA "[[R4{S}RRR]2R4{S}RR{S}R4{S}RRR]3
DATA " [R4{S}RRR]2R4{S}RR{S}R4{S}R{S}{S}
DATA "[R1]7
DATA " R4{S}RRR{S}R{S}R{S}RR{S}
DATA "]

DATA ":5@151@V65Q8
DATA "@ML64,1,3,0
DATA "{DD=O6C1_O2C}
DATA "R1{DD}
DATA "[[R1]47{DD}]

DATA ":9@265@V100L16Q5
DATA "@E127,60,0,116
'DATA "O6R1R8E-8R8F8G8AA+B<CC+D
DATA "{H=O1A+}{L=O1F+}
DATA "R1O1R8F+8R8F+8F+8A+A+A+A+A+A+
DATA "[
DATA "[RR{H}{L}RR{L}{H}RR{L}RR{L}{H}{L}]24
DATA "[RR{H}RRR{H}RRR{L}{H}RR{H}R
DATA " RR{H}RRR{H}RRR{L}R{H}RRR]4
DATA "[RR{H}{L}RR{H}{L}RR{L}{H}R{L}{H}R
DATA " RR{H}{L}RR{H}{L}R{L}{H}{H}{H}RRR]3
DATA "RR{H}{L}RR{H}{L}RR{L}{H}R{L}{H}R
DATA "RR{H}{L}RR{H}{L}R{L}{H}{H}{H}{L}{H}{H}
DATA "[RR{H}R{L}RRR{H}R{L}RRR{H}R]4
DATA "[RR{H}{L}{L}{H}RR{H}{L}{L}{H}R{L}{H}R]4
DATA "]

DATA 0

@F19EX
DATA 70
DATA "@A",2,66,600,-1,-1,-1
DATA "@B",1,57,-400,-1,-1,30
DATA "@C",6,60,-1,-1,-1,0
DATA #GOSUB,0,""
@F20EX
DATA 70
DATA "@A",8,66,600,-1,-1,-1
DATA "@B",1,57,-400,-1,-1,30
DATA "@C",6,60,-1,-1,-1,0
@F19EX_0
DATA "    
DATA "A a b a A a b b 
DATA "C a a a a   b b 
DATA "A a a b B a B a 
DATA "C a baaaC       
DATA "A a b a A a b b 
DATA "C a a a a   b b 
DATA "A a a b A a C a 
DATA "A a b b aaaabbbb
DATA "Caaa
DATA #GOSUB,1,""
@F19EX_1
DATA #BPM,72
@F20EX_1
DATA "Caaa
DATA #GOSUB,2,""
@F19EX_2
DATA #BPM,75
@F20EX_2
DATA "Caaa
DATA #GOSUB,3,""
@F19EX_3
DATA #BPM,77
@F20EX_3
DATA "Caaa
DATA "CaabaabbCbbbCaba
DATA "CabaaabaCaaaCaaa
DATA "CaabaabbCaabCaCa
DATA "CaCaCbCbCaCbCabb
DATA #GOSUB,4,""
@F19EX_4
DATA #BPM,75
@F20EX_4
DATA "CaCa
DATA #GOSUB,5,""
@F19EX_5
DATA #BPM,72
@F20EX_5
DATA "CaCa
DATA #GOSUB,6,""
@F19EX_6
DATA #BPM,70
@F20EX_6
DATA "#L24aaaaaa
DATA "aaaaaa
DATA #GOSUB,8,""
@F19EX_8
DATA #BPM,65
@F20EX_8
DATA "aaaaaa
DATA #GOSUB,9,""
@F19EX_9
DATA #BPM,55
@F20EX_9
DATA "aaaaaa#L16
DATA #GOSUB,10,""
@F19EX_10
DATA #BPM,69
@F20EX_10
DATA "AaabaabbAaabaabb
DATA "Caaaaaababbb
DATA ""

@F19
DATA 70
DATA "@A",2,66,600,-1,-1,-1
DATA "@B",1,57,-400,-1,-1,30
DATA #GOSUB,0,""
@F20
DATA 70
DATA "@A",8,66,600,-1,-1,-1
DATA "@B",1,57,-400,-1,-1,30
@F19_0
DATA "    
DATA "a   a   a   a   
DATA "A             b 
DATA "a     a a   a   
DATA "A       A       
DATA "a   a   a   a   
DATA "A             b 
DATA "a     a a   a   
DATA "A               
DATA #GOSUB,1,""
@F19_1
DATA "A   ",#BPM,72,"b   "
DATA #BPM,75,"A   ",#BPM,77,"b   "
DATA #GOSUB,2,""
@F20_1
DATA "A   b   A   b   
@F19_2
DATA "A       a   b b 
DATA "a   a   b   b   
DATA "A       a   a b 
DATA "A   a   a   a   
DATA #GOSUB,3,""
@F19_3
DATA #BPM,75,"A   ",#BPM,72,"a   "
DATA #BPM,70,"B       "
DATA #BPM,65,"    ",#BPM,55,"  b "
DATA #BPM,69
DATA "a       a       a
DATA ""
@F20_3
DATA "A   a   
DATA "B             b 
DATA "a       a       a
DATA ""

@F184EX
DATA 230
DATA "@A",5,52,-700,-1,-1,-1
DATA "@B",2,53,-700,-1,-1,-1
DATA "@C",4,31,0,-1,-1,-1
DATA "@D",6,54,2800,-1,-1,-1
DATA "a               a               
DATA "a   c   c   c   a c a cca bca b 
DATA "A d b dda c b d a d b dda cdb d 
DATA "A d b dda c b d a d b ddb cdb d 
DATA "A d b dda c b d a d b dda cdb d 
DATA "A d b dda c b d a d b ddb cdb d 
DATA "A d b dda c b d a d b dda cdb d 
DATA "A d b dda c b d a d b ddb cdb d 
DATA "A d b dda c b d a d b dda cdb d 
DATA "A d b dda c b d a d b ddb cdb d 

DATA "A d b dda c b A   d b d A c b d 
DATA "A d b dda c b A   d b d A c b d 
DATA "A d b dda c b A   d b B d c b d 
DATA "A a d B   c b ddA a d B   c b dd
DATA "A d b dda c b A   d b d A c b d 
DATA "A d b dda c b A   d b d A c b d 
DATA "A d b dda c b A   d b B d c b d 
DATA "A a d B   c b ddA a d B   c b dd

DATA "A ddb A ddb a d b adb a c B a d 
DATA "A ddb A ddb a d b adb a c B a d 
DATA "A ddb A ddb a d b adb a c B a d 
DATA "A ddb A ddb a d b adb a c B a d 
DATA "A ddb a ddb a ddb adb a c B aad 
DATA "A ddb a ddb a ddb adb a c B aad 
DATA "A ddb a ddb a ddb adb a c B aad 
DATA "A ddb a ddb a ddb adb a c B aad 
DATA "A ddb a dB cB a A adb a cdb a b 
DATA "A ddb a dB cB a A adb a bdd a b 
DATA "A ddb a dB cB a A adb a cdb a b 
DATA "A ddb a dB cB a A adb a bdd a b 
DATA "A ddb a dB cB a A adb a cdb A b 
DATA "A ddb a dB cB a A adb a bdd A b 
DATA "A ddb a dB cB a A adb a cdb A b 
DATA "A ddb a dB cB a A adb a bdB B B 

DATA "Aab Aab Aab Aab Aab Aab Aab Aab 
DATA "Aab Aab Aab Aab Aab Aab AaB   B 
DATA "Aab Aab Aab Aab Aab Aab Aab Aab 
DATA "Aab Aab Aab Aab Aab Aab AaB   B 
DATA "Aab Aab Aab Aab Aab Aab Aab Aab 
DATA "Aab Aab Aab Aab Aab Aab AaB   B 
DATA "Aab Aab Aab Aab Aab Aab Aab Aab 
DATA "Aab Aab Aab Aab Aab Baa B B B B 
DATA "B aaa B aaa Baa A aaB a aaB c B 
DATA "B aaa B aaa Baa A aaB a aaB d A 
DATA "B aaa B aaa Baa A aaB a aaB c B 
DATA "B aaa B aaa Baa A aaB a aaB d A 
DATA "B aaa B aaa Baa A aaB a aaB c B 
DATA "B aaa B aaa Baa A aaB a aaB d A 
DATA "B aaa B aaa Baa A aaB a aaB c B 
DATA "B aaa B aaa Baa A aaB a aaB d A 
DATA ""

@F184
DATA 230
DATA "@A",5,52,-700,-1,-1,-1
DATA "@B",2,53,-700,-1,-1,-1
DATA "                
DATA "                
DATA "#L8a a a a a a a   
DATA "a  a  a  a  a a 
DATA "a  a  a  a  b a 
DATA "a  a  a  a  a a 
DATA "a  a  a  a  a b 
DATA "a  a  a  a  a a 
DATA "a  a  a  a  b a 
DATA "a  a  a  a  a a 
DATA "a  a  a  a  a b 
DATA "a b a ba  a a b 
DATA "a b a ba  a a b 
DATA "a b a ba  b b a 
DATA "A ba  b A ba  a 
DATA "a b a ba  a a b 
DATA "a b a ba  a a b 
DATA "a b a ba  b b a 
DATA "A ba  b A ba  a 

DATA "A ba  b a a  b  
DATA "A ba  b a a  b  
DATA "A ba  b a b  a  
DATA "A ba  b a b  b  
DATA "A ba  b a a  b  
DATA "A ba  b a a  b  
DATA "A ba  b a b  a  
DATA "A ba  b a b  b  
DATA "#L16
DATA "A   b a  b  b   a   b     b   b 
DATA "A   b a  b  b   a   b     a   b 
DATA "A   b a  b  b   a   b     b   b 
DATA "A   b a  b  b   a   b     b a b 
DATA "A   b a  b  a   a   b    b  b   
DATA "A   b a  b  a   a   b    a  b   
DATA "A   b a  b  a   a   b    b  b   
DATA "A   b a  b  a   a   b   b b b   

DATA "#L8
DATA "abababababababb abababababababbb
DATA "abababababababb abababababababbb
DATA "abababababababb abababababababbb
DATA "abababababababb abababababababbb
DATA "B ab ab aabaab  B ab ab aababb  
DATA "B ab ab aabaab  B ab ab aababb  
DATA "B ab ab aabaab  B ab ab aababb  
DATA "B ab ab aabaab  B ab ab aababb  
DATA ""


@F29
DATA 160
DATA "@C",6,25,-1,80,-1,30
DATA "@A",3,188,-3000,60,-1,-1
DATA "@B",2,27,-1,-1,-1,60
@F29_L
DATA "C   a     b a   
DATA "a   a b   c   c 
DATA "C   a     b a   
DATA "@D",1,55,1707,60,-1,-1,"d   
DATA "@D",1,55,2389,60,-1,-1,"d   
DATA "@D",1,55,3072,60,-1,-1,"d   
DATA "@D",1,55,3755,60,-1,-1,"d   
DATA "@D",1,55,3072,60,-1,-1
DATA "a   D   a   D   
DATA "a   D   a c C   
DATA "a   D   a   D   
DATA "a   D   a c C   
DATA "@E",5,200,1024,20,-1,0
DATA "E   a   E   a   
DATA "E   a   E   a   
DATA "E   a   E   a   
DATA "E   a   E   a   
DATA "e   C   e   C   
DATA "e   C   e   C   
DATA "e   C   e   C   
DATA "e   C   e c C   
DATA 2
DATA ""

@F29EX
DATA 160
DATA "@C",6,25,-1,80,-1,30
DATA "@A",3,188,-3000,60,-1,-1
DATA "@B",2,27,-1,-1,-1,60
@F29EX_L
DATA "#L32
DATA "C a   a bba a b a   a a a a a   
DATA "a a   a bba a b a   C   a a C   
DATA "C a   a bba a b a   a a a a a   
DATA "#L16
DATA "@D",1,55,1707,60,-1,-1,"Da
DATA "@D",1,55,2048,60,-1,-1,"Da
DATA "@D",1,55,2389,60,-1,-1,"Da
DATA "@D",1,55,2731,60,-1,-1,"Da
DATA "@D",1,55,3072,60,-1,-1,"Da
DATA "@D",1,55,3413,60,-1,-1,"Da
DATA "@D",1,55,3755,60,-1,-1,"Da
DATA "@D",1,55,4096,60,-1,-1,"D 
DATA "aa aCaa a aaCaa 
DATA "aa aCaa a C CaC 
DATA "aa aCaa a aaCaa 
DATA "Cc C cCcC ccCcc 
DATA "@E",5,200,1024,20,-1,0
DATA "EababbabEababbab
DATA "EababbabEababbab
DATA "EababbabEababbab
DATA "EababbabEababbab
DATA "EabaCbabEabaCbab
DATA "EabaCbabEabaCbab
DATA "EabaCbabEabaCbab
DATA "CcbCbcCcC ccCcc 
DATA 2
DATA ""


@F185
DATA 150
DATA "@A",1,31,-1,-1,-1,-1
DATA "@B",1,31,-1,-1,-1,30
DATA "@C",1,31,-1,-1,-1,40
DATA "@D",4,26,-1,-1,-1,70
DATA "@E",5,54,-1,-1,-1,30
DATA "@F",5,54,-1,-1,-1,40
DATA "@G",5,54,-1,-1,-1,50

DATA "#L4
DATA "a   a   d   d   
DATA "A  gA  fD  aD   
DATA "e f a d f e a d 
DATA "b c g d c b g dd
DATA "E F a daE F a da
DATA "B C g daC B g dd

DATA "B  eC  eA  dA  d
DATA "E  aF  aG  dA   
DATA "A #L8 e  #L4A  d
DATA "A #L8 f  #L4A  d
DATA "E #L8 b  #L4E  d
DATA "E #L8 c  #L4A ef

DATA "B a d efC a d fe
DATA "B d A  dC d a ge
DATA "B a d efC a d fe
DATA "B d A  dC d a ge
DATA "A
DATA ""

@F185EX
DATA 150
DATA "@A",1,31,-1,-1,-1,-1
DATA "@B",6,29,-1,-1,-1,80
DATA "@D",4,26,-1,-1,-1,50

DATA "@E",5,54,-1,-1,-1,30
DATA "e   e   a a d a 
DATA "@E",-1,-1,-1,-1,-1,50
DATA "e   e   a a d a 
DATA "@E",-1,-1,-1,-1,-1,10
DATA "e   e   a b d a 
DATA "@E",-1,-1,-1,-1,-1,0
DATA "e   e   a b d a 
DATA "@E",-1,-1,-1,-1,-1,30
DATA "E   E   a aad a 
DATA "@E",-1,-1,-1,-1,-1,50
DATA "E   E   a aad a 
DATA "@E",-1,-1,-1,-1,-1,40
DATA "E   E   a bad a 
DATA "@E",-1,-1,-1,-1,-1,20
DATA "E   E   a bad a 

DATA "@E",5,54,-1,-1,-1,0
DATA "@F",5,54,-1,-1,-1,10
DATA "@G",5,54,-1,-1,-1,20
DATA "@H",5,54,-1,-1,-1,30
DATA "e b f b g b d a A a b a a bad a 
DATA "e b f b g b d a A a b a a bad a 
DATA "g a f a e a d a A a b a a bad a 
DATA "g a f a e a d a A a b a a bad a 
DATA "E b F b G b d a A a B a a bad a 
DATA "E b F b G b d a A a B a a bad a 
DATA "G a F a E a d a A a B a a bad a 
DATA "G a F a E a d a A a B a a bad a 

DATA "A e e A   aab a A b d A   aab   
DATA "A f f A   aab b A b d A   aab   
DATA "A g g A   aad a A b d A   aad   
DATA "A h h A   aad b A b d A   aad   
DATA "A e B e   aab a A a B a   aab   
DATA "A f B f   aab b A a B d   aab   
DATA "A g B g   aad a A a B a   aad a 
DATA "A h B h   aad b A a B a A b efd 

@F185EX_L
DATA "A bad b A b a d A bba d a da ad 
DATA "A bad b A b a d A aab d b da ad 
DATA "A bad A b b a d A bba d a dab b 
DATA "A bad A b b a d A aab d E d H d 
DATA 2

DATA "F
DATA ""


@M185

DATA "T150

DATA ":0@11O5@V80L8
DATA "$0=127 $1=110 $2=95
DATA "[V$0
DATA "[C1E1>A1G1<]2
DATA "V$0
DATA "{A0=
DATA "EV$1DV$2CDV$0EV$1DV$2CV$1EGEV$2DEV$0C2
DATA "EV$1DV$2CDV$0EV$1DV$2CV$1EGAV$2GEV$0D2
DATA "DV$1CV$2DEV$0DV$1CV$2EV$1GEDV$2ECV$0A4E4
DATA "DV$1CV$2DEV$0DV$1CV$2EV$1GAGV$2EDV$0G4}
DATA "{A0}D4
DATA "{A0}<C4>
DATA "V$2
DATA "{B0=
DATA "AGE<C>AGEDE4DE4CG4
DATA "GEDAGEDEG4EG4CE4
DATA "AGE<C>AGEDE4CG4DE4
DATA "GEDAGEDEG4DG4C}
DATA "{B0}E4
DATA "{B0}DG
DATA "[
DATA "{C0=
DATA "V$0CV$1>A<EV$0CV$1>A<EV$0CV$1>A<V$0EV$1GA<C>V$0E4V$1DC
DATA "V$0CV$1>A<EV$0CV$1>A<EV$0CV$1>A<V$0EV$1DCEV$0G4V$1ED
DATA "V$0>AV$1G<CV$0>AV$1G<CV$0>AV$1G<}
DATA "{C1=
DATA "V$0CV$1DECV$0D4V$1EG
DATA "V$0AV$1GEV$0AV$1GEV$0AV$1GV$0EV$1DCDV$0>A4A4<}
DATA "{C0}{C1}
DATA "]2
DATA "]

DATA "{P=@1@V110}
DATA ":7{P}O4L8
DATA "[V$0
DATA "[C1E1A1G1]2
DATA "{A0}D4
DATA "{A0}<C4>
DATA "V$2L1[EGGCAGEG]2
DATA "L8{C0}{C1}{C0}
DATA "V$0CV$1DEGV$1AV$2GAV$1<C>
DATA "V$2<EV$1C>AV$2GV$1EV$2GAGV$0EV$1DV$2CDV$0>A4A4<
DATA "]

DATA ":1{P}O4L8
DATA "[
DATA "[R1]8
DATA "[R1]8
DATA "V$1
DATA "[GR]4[AR]2[ER]2[AR]4[DR]2[GR]2
DATA "[GR]4[AR]2ERCR[AR]4[DR]4
DATA "V$0A2&AV$1GV$2EDV$1E2.V$2G4V$0D2&DV$1CV$2DEV$1G2.V$2E4
DATA "V$0D2&DV$1EV$2DCV$1C2.V$2E4V$0G2&GV$1AV$2GEV$1D1
DATA "V$0A2&AV$1GV$2EDV$1E2.V$2G4V$0D2&DV$1CV$2DEV$1G2.V$2E4
DATA "V$0D2&DV$1EV$2DCV$1C2.V$2E4V$0G2&GV$1AV$2GEV$1D4.V$2EV$1GED16V$2C16>G<
DATA "V$1
DATA "GRRGRRGRA<CER>A4G4
DATA "ARRARRARAG<CRE4D4>
DATA "ERRERREREGARG4A4
DATA "<CRRCRRCR>AGE4C4E4
DATA "GRRGRRGRA<CER>A4G4
DATA "ARRARRARAG<CRE4D4>
DATA "ERRERREREGAR<C4E4>
DATA "<CRRCRRCR>AGE4C4E4
DATA "]

DATA ":2{P}O3V100L8
DATA "[
DATA "[G4G4EEGEA4A4EEAEA4A4FA<C>AB4B4GAGF]6
DATA "L4
DATA "A.A8R2G2R2G.G8R2G2R2
DATA "A.A8RAG2RAG.G8RGG2RF
DATA "L8
DATA "A.R.A.R.AR[G.R.G.R.GR]3
DATA "A.R.A.R.A4G.R.G.R.A4G.R.G.R.G4G.R.G.R.F4
DATA "[[GR]8[FR]4[GR]4
DATA " [GR]8[FR]6[ER]2]2
DATA "]

DATA ":3{P}O3V100L4
DATA "[
DATA "[CCC2CC>AA<CCC2DD>BB<]2
DATA "[EEC2EE>AA<FFC2GG>BB<]4
DATA "E.E8R2E2R2D.D8R2C2R2
DATA "F.F8RFE2REE.E8RED2RD
DATA "L8
DATA "[E.R.E.R.ER]2D.R.D.R.DRC.R.C.R.CR
DATA "F.R.F.R.F4[E.R.E.R.E4]2D.R.D.R.D4
DATA "[[CR]4>[BR]4<[CR]4[DR]4
DATA " [CR]4>[BR]4<[CR]4[DR]2[CR]2]2
DATA "]

DATA ":4@33O2@V120
DATA "[L4Q4
DATA "[[G]4[A]4[F]4GGFF]6
DATA "L8
DATA "Q8AREAREQ4<C>A
DATA "Q8GREGREQ4BG
DATA "Q8GRDGRDQ4BG
DATA "Q8GREGR<CQ4E>G
DATA "Q8ARFARFQ4<C>A
DATA "Q8GREGREQ4<C>G
DATA "Q8GREGREQ4BG
DATA "Q8GRDGRDQ4FG
DATA "L8Q4
DATA "[EA]4[EG]4[DG]4[EG]4
DATA "[FA]4[EG]4[EBEG]2DGDGDBDF
DATA "[[G<C>]4[GB]2[G<D>]2
DATA " [F<C>]4[GB]2[F<D>]2
DATA " [G<C>]4[GB]2[G<D>]2
DATA " [F<C>]4GBG<D>FAFB ]2
DATA "]

DATA ":5@128O2@V127L4
DATA "[
DATA "[CCCC]16
DATA "[CECE]8
DATA "[C.C.EC.CE8E]4
DATA "[CE8CE8E]8
DATA "[CECECEC8E8E]8
DATA "]

DATA ":6@128O2@V90L16@E127,80,0,124
DATA "[
DATA "[R8F+8R8F+8R8F+8A+8F+8
DATA " R8F+8R8F+8R8F+G+A+8F+8]12
DATA "[R8F+G+F+8R8F+8G+8R8F+8
DATA " R8F+G+F+8R8F+8G+G+RG+F+8
DATA " R8F+G+F+8R8F+8G+8R8F+8
DATA " R8F+G+F+8R8F+8G+G+RG+A+G+]4
DATA "[[R8F+G+R8A+8]3RG+RF+RG+A+8]8
DATA "]

DATA 0


'Five-Flash-Fever!
@MTIT3
DATA "T136

DATA "{I0=@145@E123,90,80,124
DATA " @V90O5L16Q7}
DATA ":0{I0}[
DATA "[FFGA8FG8AB-AGF8.
DATA " GGAB-8GA8B-<CCDC8>BG8.
DATA " FFGA8FG8AB-AGF8.
DATA " GGAB-8GA8B-<C>B-AGEFG8FE8G]2
DATA "F8.R8EF8GAAB-<C8.>
DATA "F8.R8EF8GAB-GA8.
DATA "G8.R8FG8AB-B-<CD8.>
DATA "<C8.R8C>B-8AG8FEEFG8B<C8.>
DATA "F8.R8ED8EFEFC8E
DATA "F8.R8EF8GFGAF8.
DATA "G8.R8FG8AB-B-AG8F
DATA "E8.R8DE8FGGFE8D>B8.<E8G
DATA "F4.&F8.R4.R8.F4.&F8.R4.
DATA "G4.&G8.R4.R8.G4.&G8.R4.B8.G8.
DATA "F8.FFEC8EFCFGCGA8.
DATA "F8.FFED8EFFGA8B-
DATA "G8.GGFD8FGDGADAB-8.
DATA "G8.GGFE8FG8B-<CDC>B8B<C8.>
DATA "<C.>G.<C8>AB-.<C.D.D.>
DATA "<C4.&C8.>R4.R8.A4.&A8.R2.
DATA "G4.&G8.R4.R8.G4.&G8.R2.
DATA "F8.&FFFG8.A4.&A8.
DATA "F8.&FFFG8.D4.F8.A8.
DATA "G8.&GGGA8.B-4.&B-8.
DATA "G8.&GGGB8.<C4.>B-8.G8.
DATA "]

DATA ":1{I0}[
DATA "[C8.&C8C&C8.D8.C8.
DATA " D8.&D8D&D8.E8.F8.C8.
DATA " C8.&C8C&C8.D8.C8.
DATA " D8.&D8D&D8.E8.C8.>B8.<C8.]2
DATA "C8.>A<C8D8>B-<C8.F8.
DATA ">A8.A<C8>B-8<CD8.F8.
DATA "D8.>B-<C8>B-8<CD8.G8.
DATA "E8.CF8E8DC8.C8.>B8<D+E8.
DATA "C8.>A<C8>B-8B-<C8.>A8.<
DATA ">A8.A<C8>B-8<CD8.>A8.<
DATA "D8.>B-<C8>B-8<CD8.D8.
DATA "C8.>GB-8B-8<CC8.>G8.G8.G8.<
DATA "C8.>B-8.A2.<D8.C8.>A4.&A8.<
DATA "D8.C8.>B-2.<E8.D8.C8.E4.D8.C8.
DATA "C8.>B-8.A8.R4.R8.<D8.C8.>A8.R4.<
DATA "D8.C8.>B-8.R4.R8.<E8.D8.C8.R4.R8E-G8.
DATA "C.C.EFRE.F.G.A.
DATA "F4.&F8.R4.R8.F4.&F8.R2.
DATA "D4.&D8.R4.R8.C4.&C8.R2.
DATA "C4.&C8.R4.R8.>A4.&A8.R2.<
DATA "D4.&D8.R4.R8.C4.&C8.R2.
DATA "]

DATA ":2@147@E127,110,0,110
DATA "@V70O5L16Q1P10[
DATA "[[F8C]3[F8D]2[G8D]3[G8C]3
DATA " [F8C]3[F8D]2[G8D]3[G8C]2G8.G8.]2
DATA "[F8CF8CF8EFFGA8C
DATA " F8DF8DF8EFFGA8D
DATA " G8DG8DG8FGGAB-8D
DATA " G8CG8CG8FGGFE8CG8B<C8>G]2
DATA "F8CFFEF8CFEFGFGA8C
DATA "F8DFFEF8DEFGA8D
DATA "G8DGGFG8DGFGAGAB-8D
DATA "G8CGGFG8CDEFG8AB<C>BG8C
DATA "F8CFFEF8CFEFGFGA8C
DATA "F8DFFEF8DEFGA8D
DATA "G8DGGFG8DGFGAGAB-8D
DATA "G8CGGFG8CDEFG8ABAB<C8>G
DATA "C.G.<C8>AB-.A.G.E.
DATA "[[F8C]3F8.E8EF8G
DATA " [F8D]3F8.G8GF8GF8A
DATA " [G8D]3G8.F8FG8A
DATA " [G8C]3G8.A8AG8AG8E]2
DATA "]

DATA ":3@366@V127O2Q5[C8.]

DATA ":4@366@V127O2Q2L16@D-100[
DATA "[RRRERRRRERREERE
DATA " RRRERRERERRERREERE
DATA " RRRERRRRERREERE
DATA " RRRERRERERRERREERRERE]2
DATA"[[RRRERRRRERREERE]3
DATA " RRRERRRRERREEREEREERR]2
DATA "[RRRERERRERREERRERE
DATA " RRRERERRERREERE
DATA " RRRERERRERREERRERE
DATA " RRRERERRERREERREREERR]2
DATA " RRRERE[ER32]4
DATA "[RRRERERRERREEREEEE
DATA " RRRERERRERREEREEEREEE]4
DATA "]

DATA ":5@366@V100O3L8P127@D32[
DATA "[C+.RF-.R16F-.F-. C+.RF-.R16C+.F-.F-.
DATA " C+.RF-.R16F-.F-. C+.RF-.R16C+.F-.R.C+.]2
DATA "[[C+.RF-.R16F-.F-.]4C+.C+.]2
DATA "[[C+.RF-.R16F-.F-.R.
DATA "  C+.RF-.R16F-.F-.]2R.C+.]2
DATA "C+.F-.C+16.F-16.F-.
DATA "[C+.R.R.[C+F-16]2C+.
DATA " C+.R.R.[C+F-16]3F-F-16
DATA " C+.R.R.[C+F-16]2C+.
DATA " C+.R.R.[C+F-16]2C+16F-16F-16C+F-16]2
DATA "]

DATA ":6@146@E127,90,0,124
DATA "@V90O2L16Q6P40[
DATA "[[F8<C>]3F8B-G8D
DATA " [G8<D>]3G8<C>B8GE8C
DATA " [F8<C>]3F8B-G8D
DATA " [G8<D>]3G8<C>B8GE8CE8G]2
DATA "[F8<C>F8AF8<C>A8CF8A
DATA " F8<D>F8AF8<D>A8DF8A
DATA " G8<D>G8B-G8<D>B-8DG8B-
DATA " G8<E>G8<C>G8<EC8>EG8<C>G8EC8G]2
DATA "[F8<C>F8AF8<C>A8CF8AF8C
DATA " F8<D>F8AF8<D>A8DF8A
DATA " G8<D>G8B-G8<D>B-8DG8B-G8D
DATA " G8<E>G8<C>G8<EC8>EG8<C>G8EC8G]2
DATA "C.E.G8<C>B-.G.E.G.
DATA "[[F8<C>]3C8FC8AF8C
DATA " [F8<D>]3D8FD8AF8DF8A
DATA " [G8<D>]3D8GD8B-G8D
DATA " [G8<E>]3E8GE8<C>G8EG8<C>]2
DATA "]

DATA "{IP=@5@V100O4L16Q7P100}
DATA ":7{IP}<[
DATA "[C8RR8CR8. D8RD8R
DATA " D8RR8DR8. E8RE8RE8R
DATA " C8RR8CR8. D8RD8R
DATA " D8RR8DR8. E8RE8RD8RE8R]2
DATA "[C8RR8CR8. C8RC8R
DATA " D8RR8DR8. D8RD8R
DATA " D8RR8DR8. D8RD8R
DATA " C8RR8CR8. C8RC8R>B8R<C8.]2
DATA "[C8RR8CR8. C8RC8RC8C+
DATA " D8RR8DR8. D8RD8R
DATA " D8RR8DR8. D8RD8RD8C
DATA " C8RR8CR8. C8RC8R>B8R<C8.]2
DATA "C.R.CRR>B-.A.G8.<
DATA "[C8RR8CR8. R8.R8.R8.
DATA " D8RR8DR8. R8.R8.R8.R8.
DATA " D8RR8DR8. R8.R8.R8.
DATA " C8RR8CR8. R8.R8.R8.R8.]2
DATA "]

DATA ":8{IP}[
DATA "[A8GR8AG8R B-8GA8R
DATA " B-8AR8B-A8R <C8>EB8R<C8>B
DATA " A8GR8AG8R B-8GA8R
DATA " B-8AR8B-A8R <C8>EB8RB8G<C8>B]2
DATA "[A8GR8AG8R A8GA8G
DATA " A8GR8AG8R A8GA8G
DATA " B-8AR8B-A8R B-8AB-8A
DATA " G8FR8GF8R G8FG8RG8RG8.]2
DATA "[A8GR8AG8R A8GA8GA8G
DATA " A8GR8AG8R A8GA8<C>
DATA " B-8AR8B-A8R B-8AB-8B-B-8A
DATA " G8FR8GF8R G8FG8RG8GG8.]2
DATA "G.R.GRRG.F.E8.
DATA "[A8GR8AG8D F8RE8RF8G
DATA " A8GR8AB-8G F8RG8RF8GF8A
DATA " B-8AR8B-G8F G8RF8RG8A
DATA " G8AR8GB-8A G8RA8RG8AG8<C>]2
DATA "]

DATA ":9{IP}[
DATA "[F8CE8FC8E F8CF8E
DATA " G8CF8GC8F G8CG8DG8E
DATA " F8CE8FC8E F8CF8E
DATA " G8CF8GC8F G8CG8DG8EG8E]2
DATA "[F8CE8FC8E F8CF8E
DATA " F8DE8FD8E F8DF8E
DATA " G8DF8GD8F G8DG8F
DATA " E8CD8EC8D E8CE8DE8D+E8.]2
DATA "[F8CE8FC8E F8CF8EF8R
DATA " F8DE8FD8E F8DF8E
DATA " G8DF8GD8F G8DG8FG8R
DATA " E8CD8EC8D E8CE8DE8D+E8.]2
DATA "E.C.EDEE.R.C8.
DATA "[F8CE8FC8>A< C8RC8RC8C
DATA " F8DF8FD8C D8RD8RD8RD8D
DATA " G8DF8GD8C D8RD8RD8D
DATA " E8CF8EC8E C8RC8RC8RC8E]2
DATA "]

DATA 0


'#fe2c30
@M184
DATA "T230

DATA ":0@147@V55O5L8
DATA "@MP32,1,8,60
DATA "@E110,127,127,120
DATA "R1R1R1R1
DATA "[R1]16
DATA "C+_D4.F+4.F+_A2G2E_F+4.E4.C+_D4.C+&C+2
DATA ">A_B4.<C+4.C+_D4.D_G4F+4D_E4F+&F+2F+_G4F+&F+2
DATA "C+_D4.E4.E_F+2G2E_F+4.>A4.A_<D4.D_A2
DATA "F+_G4.F+4.F+_G4.G_A4B4G_A4G&G2G_A4B&B2
DATA "A_B2..R1G_A2..R1F+_G2..R1D_E2..R1
DATA "A_B2..R1B_<C+2..>R1A_B2..R1G_A2..R1
DATA "A_B&B2B_<D8>A_B2._B8_AG_A&A2A_<C+8>G_A2._A8_G
DATA "F+_G&G2G_B8F+_G2._G8_F+D_E&E2E_F+8D_E2._E8_D
DATA "A_B&B2B_A8A_B2._B8_<C+>B_<C+&C+2C+_D8>B_<C+2._C+8_>A
DATA "A_B&B2B_<C+8>A_B2._B8_AG_A&A2A_B8G_A2._A8_F+

DATA "[A_B&B2B4_<D>A_B4A4_A8_A+4B1&B2_B2_A
DATA " G_A&A2A4_<C+>G_A4G4_G8_G+4A1&A2_A2_G]4
DATA "A_B&B2.&B2_B2_A[R1]14

DATA "V0
DATA "F+_(1G8&(1G&(1G&(1G&(1G(1E_(1E8_(1F+
DATA "F+_(1G8&(1G(1G_(1F+8&(1F+(1E&(1E(1
DATA "E_(1F+8&(1F+&(1F+&(1F+&(1F+(1G&(1G(1
DATA "F+&(1F+&(1F+&(1F+&(1F+&(1F+&(1F+&(1F+(1
DATA "G_(1A8&(1A&(1A&(1A&(1A(1F+_(1F+8_(1G
DATA "G_(1A8&(1A(1A_(1G8&(1G(1F+&(1F+(1
DATA "C+_(1D8&(1D&(1D&(1D&(1D(1E&(1E(1
DATA "F+&(1F+&(1F+&(1F+&(1F+&(1F+&(1F+&(1F+(1
DATA "F+_(1G8&(1G&(1G&(1G&(1G(1E_(1E8_(1F+
DATA "F+_(1G8&(1G(1G_(1F+8&(1F+(1G&(1G(1
DATA "G_(1A8&(1A&(1A&(1A&(1A(1G&(1G(1
DATA "F+&(1F+&(1F+&(1F+&(1F+&(1F+&(1F+&(1F+(1
DATA "D_(1E8&(1E&(1E&(1E&(1E(1E_(1E8_(1D
DATA "C_(1C+8&(1C+(1C+_(1D8&(1D(1E&(1E(1
DATA "E_(1F+8&(1F+&(1F+&(1F+&(1F+(1G&(1G
DATA "A&(1A&(1A&(1A&(1A&(1A&(1A&(1A

DATA "F+_G&G2E_E8_F+F+_G4G_F+4E4E_F+&F+2G4F+1
DATA "G_A&A2F+_F+8_GG_A4A_B4A4E_F+4.D4E4E_F+4G4.A4
DATA "F+_G&G2F+4G4.G_F+4E4C+_D&D2E4D1
DATA ">B_<C+4.>B4<C+4C+_D4.E2E_F+4.F+_G4.G_B-2_B-4._B

DATA "A_B&B2E_F+&F+2A_B4.B_<C+&C+2>D_E&E2B_<C+4.
DATA "C+_D&D2C+2>A_B4.A4E_F+&F+2G_A8E_F+2..
DATA "F+_G&G2G_A&A2B2G_A&A2A_B&B2<C+2
DATA "C+_D&D2D_C+4.>B2A+_B8B_<C+4.>B2G_A+4F+&F+2
DATA "A_B&B2E_F+&F+2A_B4.B_<C+&C+2>D_E&E2B_<C+4.
DATA "C+_D&D2C+2>A_B4.A4E_F+&F+2G_A8E_F+2..
DATA "F+_G&G2G_A&A2B2G_A&A2G2.E2
DATA "E_F+&F+2E2D2D_E8E_F+4.G2E_F+4C+&C+2
DATA "C+4_D2.&D1


DATA ":3@0@V110O5L4
DATA "[R1]116
DATA "@E110,20,0,120V100
DATA "G2.E8F+8G.F+.EF+2.GF+1
DATA "A2.F+8G8A.G.F+D2.EF+1
DATA "G2.E8F+8G.F+.GA2.GF+1
DATA "E2.E8D8C+.D.EF+2.GA1
DATA "@1@E127,20,0,120V127
DATA "G2.E8F+8G.F+.EF+2.GF+1
DATA "A2.F+8G8A.B.AF+2DEF+.G.A
DATA "G2.F+G.F+.ED2.ED1
DATA "C+2>B<C+D2E2F+2G2B-1

DATA "L8
DATA "{A3=
DATA " B4AA+B4F+4RDF+AB4AB
DATA " <C+4>B<CC+4>E4REAB<C+4>B<C+>
DATA " <D4>B<C+D4C+>BA4B4AGA4
DATA " F+4REF+GA4F+4C+DE4F+4
DATA "}
DATA "{A3}
DATA "G4EF+G4AF+GF+A4B4AB
DATA "A4F+GA4BF+GAB4<C+4>B<C+>
DATA "<D4>A+<C+D4C+4>A4B4.GA+B
DATA "<C+4C+4>B4B4A+4.F+4EDC+
DATA "{A3}
DATA "G4EF+G4AF+GF+A4B4AB
DATA "A4RGA4G4E4F+4E4C+4
DATA "F+4REF+4E4E4D4.C+DE
DATA "F+4F+4G2F+4.A+&A+2
DATA "B1&B1

DATA ":4@V110O5L4
DATA "@1@E127,20,0,120
DATA "[R1]116
DATA "[R1]28
DATA "R1R2V60>B2<V90C+2V127D2F+1

DATA "L4
DATA "{A4=
DATA " F+EF+D>B<DDF+ AEAC+C+EEF+
DATA " GGGC+DDDG C+C+C+>BA+A+B<C+
DATA "}
DATA "{A4}
DATA "DC+DDDE>B<D EDEEDEGG
DATA "F+DF+F+DD.R8F+ F+EF+DC+.C+R8>A+<
DATA "{A4}
DATA "DC+DDDE>B<D EEEC+>B<C+C+>A<
DATA "DD>A+A+BA+.F+.< C+C+D2>A+.<C+8&C+2
DATA "D1&D1


DATA "{CL=@144@V45O4Q7L8
DATA " @MP48,1,12,18
DATA " @E60,127,127,100}
DATA ":1{CL}
DATA "R1R1R1R1
DATA "[R1]16
DATA "<D2C+4.>B&B2A2<C+2>B4.A&A4.A&A2
DATA "B2A4.G&G4.B4.B4<C+4.>B&B2<D4.C+&C+2>
DATA "<D2C+4.>B&B2A2<C+2>A4.A&A4.<C+&C+2>
DATA "<D2C+4.>B&B4.<E4.D4E4.D&D2C+4.E&E2>
DATA "O5L2 [F+.DR.F+.C+R.D.>B<R.E.C+R.]4

DATA "O5L1 [F+DEGF+C+DF+]2
DATA "L8
DATA "[F+4RF+4RD4R4D4RD4R
DATA " E4RE4RE4R4G4RE4R
DATA " F+4RF+4RC+4R4C+4RC+4R
DATA " D4RD4RD4R4F+4RD4R]2
DATA "F+1&F+1[R1]14

DATA "[R1]32

DATA "L2
DATA "F+.D.DA.C+.EG.DDG4C+.>B4A+1<
DATA "D.D.GE.E.GF+.F+DE4F+F+C+4.C+8&C+
DATA "F+.D.DA.C+.EG.DDG4C+.>B4A+1<
DATA "D.D.GE.C+.C+D.>A+A+.<C+D>A+4.F+&F+
DATA "F+1&F+1

DATA ":2{CL}
DATA "R1R1R1R1
DATA "[R1]16
DATA "[R1]16
DATA "O5L2 [B.BR.A.AR.G.GR.A.AR.]4

DATA "O5L1 [B&BB&BA&AA&A]2
DATA "L8
DATA "[B4RB4RB4R4F+4RB4R
DATA " B4RB4RG4R4B4RG4R
DATA " A4RA4RF+4R4A4RF+4R
DATA " A4RA4RF+4R4A4RF+4R]2
DATA "B4R2.[R1]15

DATA "[R1]32

DATA "L2
DATA "B.F+.B<C+.>E.<C+D.C+>BA4F+.A4F+1
DATA "G.A.BA.B.<C+D.C+>BA+8B8<C+>BA+4.F+8&F+
DATA "B.F+.B<C+.>E.<C+D.C+>BA4F+.A4F+1
DATA "G.A.BA.G.EF+.EDE4F+GF+4.C+8&C+
DATA "D1&D1


DATA ":14@26@V120Q7O2
DATA "@E127,100,60,120
DATA ">B1B1B1&B1<
DATA "L8
DATA "{A14=
DATA " BDF+BDABF+DBDABDBF+
DATA " AC+F+AC+EAEC+AC+F+AC+AE
DATA " BDGBDF+BF+DBDGBDBF+
DATA " <C+>EA<C+>EG<C+>GE<C+>EA<C+>E<C+>G}
DATA "[{A14}]4
DATA "[BDF+BDF+BDF+>B<D>B<F+BDF+
DATA " AC+F+AC+F+AC+F+>A<C+>A<F+AC+F+
DATA " BDGBDGBDG>B<D>B<GBDG
DATA " AC+EAC+EAC+E>A<C+>A<EAC+E]4

DATA "[>B<BDB>B<BF+B>B<BDBF+<D>DB
DATA " >B<BEB>B<BGB>B<BEBG<E>EB
DATA " >A<AC+A>A<AF+A>A<AC+AF+<C+>C+A
DATA " >A<ADA>A<AF+A>A<ADAF+<D>DA]4
DATA "[{A14}]2

DATA "[R1]32

DATA "[BF+DBF+DF+BF+DF+B<D>BF+B
DATA " AEC+AEC+EAEC+EA<C+>AEA
DATA " BGDBGDGBGDGB<D>BGB
DATA " A+F+C+A+F+C+F+A+F+C+F+A+<C+>A+F+A+
DATA " BGDBGDGBGDGB<D>BGB
DATA " BGC+BGC+GBGC+GB<C+>BGB
DATA " A+F+D+A+F+D+F+A+F+D+F+A+<D>A+F+A+
DATA " A+F+C+A+F+C+F+A+F+C+F+A+<C+>A+F+A+]2
DATA "B1&B1


DATA ":8@87@V110Q3O2L4
DATA "@E120,40,100,100
DATA "{A7=
DATA " B.B.B.B.BBF+.F+.F+.F+.F+F+
DATA " G.G.G.G.GGA.A.A.A.AA}
DATA "{M7=
DATA "B1B1B1R1
DATA "[{A7}]4
DATA "[B.B.BBR.B.A.A.AAR.A.
DATA " G.G.GGR.G.A.A.AAR.A.]4
DATA "[[B]8[E]8[F+]8[D]8]2
DATA "[B.B.BBB.B.E.E.EEE.E.
DATA " F+.F+.F+F+F+.F+.D.D.DDD.D.]2
DATA "[{A7}]2

DATA "L1[G&GD&DA&AB&B]3
DATA " G&GD&DA&AF+&F+

DATA "L4
DATA "[B.B.BB.B.BA.A.AA.A.A
DATA " G.G.GG.G.GF+.F+.F+F+.F+.F+
DATA " G.G.GG.G.G<C+.C+.C+C+.C+.C+>
DATA " D.D.DD.D.DF+.F+.F+F+.F+.F+]2
DATA "B1&B1

DATA "}
DATA "{M7}

DATA ":13@118@V110Q7O2L4
DATA "@E127,127,127,127
DATA "{M7}

DATA "{STR=@102@V85O4L1Q8
DATA " @E90,5,0,110}
DATA ":7{STR}
DATA "RRRR
DATA "[D&DC+&C+D&DC+&C+]8
DATA "[D&D>B&B<C+&C+D&D]4
DATA "[D&DC+&C+D&DC+&C+]2

DATA "[R]16
DATA "D&DD&DC+&C+D&D D&DD&DC+&C+C+&C+

DATA "[D&DC+&C+D&DC+&C+]4
DATA D&D

DATA ":6{STR}>
DATA "RRRR
DATA "[B&BA&AB&BA&A]8
DATA "[B&BG&GA&AA&A]4
DATA "[B&BA&AB&BA&A]2

DATA "[R]16
DATA "B&BA&AA&AA&A B&BA&AA&AB-&B-

DATA "[B&BA&AB&BA+&A+ B&BG&GA+&A+A+&A+]2
DATA "B&B

DATA ":5{STR}
DATA "RRRR
DATA "[RRRRRRE&E
DATA " F+&F+F+&F+G&GE&E]4
DATA "[F+&F+E&EF+&F+RR]4
DATA "[RRRRRRE&E
DATA " F+&F+F+&F+G&GE&E]1

DATA "[R]16
DATA "[G&GF+&F+E&EF+&F+]2

DATA "[RRRRRRRR RRE&EF+&F+F+&F+]2
DATA "RR

DATA ":15{STR}>
DATA "RRRR
DATA "[F+&F+F+&F+G&GE&E]8
DATA "[F+&F+E&EE&EF+&F+]4
DATA "[F+&F+F+&F+G&GE&E]2

DATA "[R]16
DATA "[G&GF+&F+E&EF+&F+]2

DATA "[F+&F+E&EG&GF+&F+ G&GE&EF+&F+F+&F+]2
DATA "F+&F+

DATA ":11@128@V127L16O2
DATA "C1C1C4>B4B4B4<CR>BR<CR>BB<CRD>B<CRDR
DATA "{A8=
DATA " CRRCDRCCRCRRDRCRCRCCDRCRRCDRCRCC
DATA " CRRCDRCCRCRRDRCRCRCCDRCRRCDRCRCD
DATA " CRRCDRCCRCRRDRCRCRCCDRCRRCDRCRCC
DATA " CRRCDRCCRCRRDRCRCRCCDRCRRCDRDRCD}
DATA "[{A8}]4
DATA "[CRRCDRCRRCRCDRCRCRRCDRCRRCDRCRCC
DATA " CRRCDRCRRCRCDRCRCRRCDRCRDCCRCRDC
DATA " CRRCDRCRRCRCDRCRCRRCDRCRRCDRCRCC
DATA " CRRCDRCRRCRCDRCRCRRCDRCRDCDRCRDC]2
DATA "[CRRCDRCRRDRCDRCRCRRCDRCRRCDRCRDC
DATA " CRRCDRCRRDRCDRCRCRRCDRCRDCCRCRDC
DATA " CRRCDRCRRDRCDRCRCRRCDRCRRCDRCRDC
DATA " CRRCDRCRRDRCDRCRCRRCDRCRDCDRCRDC]1
DATA " CRRCDRCRRDRCDRCRCRRCDRCRRCDRCRDC
DATA " CRRCDRCRRDRCDRCRCRRCDRCRDCCRCRDC
DATA " CRRCDRCRRDRCDRCRCRRCDRCRRCDRCRDC
DATA " CRRCDRCRRDRCDRCRCRRCDRCDDCDRDCDC

DATA "[CRCCDRCCRCRCDRCCCRCCDRCCRCRCCRDC
DATA " CRCCDRCCRCRCDRCCCRCCDRCCRCRDCRDC]3
DATA " CRCCDRCCRCRCDRCCCRCCDRCCRCRCCRDC
DATA " CRCCDRCCRCRCDRCCCRCCDRCDDCDRDCDC
DATA "[DRCCCRDRCCRCDRCRCCCRDCRCCRDRCCCR
DATA " DRCCCRDRCCRCDRCRCCCRDCRCCRDRCCDR]3
DATA " DRCCCRDRCCRCDRCRCCCRDCRCCRDRCCCR
DATA " DRCCCRDRCCRCDRCRCCCRDCRCDRCRDCDR
DATA "[{A8}]2

DATA "[R1]14
DATA "C2C2CRRR>B<RRRCR>B<RDRCD
DATA "[CRCRDRCCRRCRDRCR]14
DATA "[DRCRDRCC]2 DRDCDCDCDDDDDDDD

DATA "[CRRCDRCCRCRRDRCRCRCCDRCRRCDRCRCC
DATA " CRRCDRCCRCRRDRCRCRCCDRCRRCDRCRCD
DATA " CRRCDRCCRCRRDRCRCRCCDRCRRCDRCRCC
DATA " CRRCDRCCRCRRDRCRCRCCDRCRRCDRDRCD]4
DATA "C1R2DDC>B<CR>BR<C

DATA ":12@128@V100L16O2Q5
DATA "R1R1R1R1
DATA "{A12=
DATA " F+RG+RF+RG+G+F+RG+RF+F+G+R
DATA " F+RG+RF+RG+G+F+RG+G+RF+G+R
DATA " F+RG+RF+RG+G+F+RG+RF+F+G+R
DATA " F+RG+RF+RG+G+F+F+G+RF+RG+G+}
DATA "[{A12}]16

DATA "[[F+G+A+R]7F+G+A+G+]16
DATA "[{A12}]4

DATA "[[<D+R>F+R]4]24
DATA "[[F+RG+R]4]7
DATA "F+RG+R<D+R>G+F+<D+R>G+F+<D+R>G+R

DATA "[F+RG+RF+RG+G+F+RG+RF+F+G+R
DATA " F+RG+RF+RG+G+F+RG+G+RF+G+R
DATA " F+RG+RF+RG+G+F+RG+RF+F+G+R
DATA " F+RG+RF+RG+G+F+F+G+RF+RG+G+]8
DATA "R1R1

DATA ":10@128@V100L2O3
DATA "R1R1R1R1
DATA "[C+RRRARRGC+RRRARRR]4
DATA "[C+RRRARRRC+RRRARRR8G4.]2
DATA "[C+RRRARRR8G4.]4

DATA "[C+RA.G4C+RRRARC+.G4ARRR]4
DATA "[C+RRRARRGC+RRRARRR]2

DATA "[C+>A+RA+RA+RA+<]4
DATA "[C+RRRARRR]3C+RRRC+GAR

DATA "[C+RRRARRGC+RRRARRR]4
DATA "C+RRR

DATA ":9@151@V70
DATA "@E1,127,127,127V90
DATA "R1R1O6C1&C1_O6C
DATA "[R1]16
DATA "[R1]16
DATA "[R1]16
DATA "[R1]14V127O3C1&C2._O7C
DATA "@ERV127 O6C4_O4C
DATA "@E127,20,0,120V90
DATA "O7C1&C1_O5C[R1]6
DATA "O7C1&C1_O5C[R1]5
DATA "R2. @ERV127 O6C4_O4C
DATA "@E127,20,0,120V90
DATA "O7C1&C1_O5C[R1]6
DATA "O7C1&C1_O5C[R1]6
DATA "O7C1&C1_O5C[R1]14
DATA "@E127,40,80,127V60
DATA "[O7C1&C1]8
DATA "@E1,127,127,127V127
DATA "[R1]14O3C1&C1_O7C
DATA "@E127,40,80,127V90
DATA "[O4C1&C1_O3C]16

DATA 0
